var f2=Object.defineProperty;var g0=t=>{throw TypeError(t)};var h2=(t,e,r)=>e in t?f2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dm=(t,e,r)=>h2(t,typeof e!="symbol"?e+"":e,r),fm=(t,e,r)=>e.has(t)||g0("Cannot "+r);var $=(t,e,r)=>(fm(t,e,"read from private field"),r?r.call(t):e.get(t)),Re=(t,e,r)=>e.has(t)?g0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ge=(t,e,r,n)=>(fm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Yt=(t,e,r)=>(fm(t,e,"access private method"),r);var ud=(t,e,r,n)=>({set _(s){ge(t,e,s,r)},get _(){return $(t,e,n)}});function p2(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function RT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NT={exports:{}},Lh={},kT={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),m2=Symbol.for("react.portal"),g2=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),v2=Symbol.for("react.profiler"),w2=Symbol.for("react.provider"),_2=Symbol.for("react.context"),x2=Symbol.for("react.forward_ref"),E2=Symbol.for("react.suspense"),b2=Symbol.for("react.memo"),S2=Symbol.for("react.lazy"),y0=Symbol.iterator;function T2(t){return t===null||typeof t!="object"?null:(t=y0&&t[y0]||t["@@iterator"],typeof t=="function"?t:null)}var jT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OT=Object.assign,DT={};function hl(t,e,r){this.props=t,this.context=e,this.refs=DT,this.updater=r||jT}hl.prototype.isReactComponent={};hl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MT(){}MT.prototype=hl.prototype;function Gv(t,e,r){this.props=t,this.context=e,this.refs=DT,this.updater=r||jT}var Kv=Gv.prototype=new MT;Kv.constructor=Gv;OT(Kv,hl.prototype);Kv.isPureReactComponent=!0;var v0=Array.isArray,LT=Object.prototype.hasOwnProperty,Qv={current:null},VT={key:!0,ref:!0,__self:!0,__source:!0};function FT(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)LT.call(e,n)&&!VT.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:wu,type:t,key:i,ref:o,props:s,_owner:Qv.current}}function C2(t,e){return{$$typeof:wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yv(t){return typeof t=="object"&&t!==null&&t.$$typeof===wu}function I2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var w0=/\/+/g;function hm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I2(""+t.key):e.toString(36)}function qd(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wu:case m2:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+hm(o,0):n,v0(s)?(r="",t!=null&&(r=t.replace(w0,"$&/")+"/"),qd(s,e,r,"",function(u){return u})):s!=null&&(Yv(s)&&(s=C2(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(w0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",v0(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+hm(i,a);o+=qd(i,e,r,l,s)}else if(l=T2(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+hm(i,a++),o+=qd(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dd(t,e,r){if(t==null)return t;var n=[],s=0;return qd(t,n,"","",function(i){return e.call(r,i,s++)}),n}function A2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hr={current:null},Gd={transition:null},P2={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:Gd,ReactCurrentOwner:Qv};function UT(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:dd,forEach:function(t,e,r){dd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return dd(t,function(){e++}),e},toArray:function(t){return dd(t,function(e){return e})||[]},only:function(t){if(!Yv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=hl;_e.Fragment=g2;_e.Profiler=v2;_e.PureComponent=Gv;_e.StrictMode=y2;_e.Suspense=E2;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P2;_e.act=UT;_e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=OT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)LT.call(e,l)&&!VT.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:wu,type:t.type,key:s,ref:i,props:n,_owner:o}};_e.createContext=function(t){return t={$$typeof:_2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w2,_context:t},t.Consumer=t};_e.createElement=FT;_e.createFactory=function(t){var e=FT.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:x2,render:t}};_e.isValidElement=Yv;_e.lazy=function(t){return{$$typeof:S2,_payload:{_status:-1,_result:t},_init:A2}};_e.memo=function(t,e){return{$$typeof:b2,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Gd.transition;Gd.transition={};try{t()}finally{Gd.transition=e}};_e.unstable_act=UT;_e.useCallback=function(t,e){return hr.current.useCallback(t,e)};_e.useContext=function(t){return hr.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return hr.current.useDeferredValue(t)};_e.useEffect=function(t,e){return hr.current.useEffect(t,e)};_e.useId=function(){return hr.current.useId()};_e.useImperativeHandle=function(t,e,r){return hr.current.useImperativeHandle(t,e,r)};_e.useInsertionEffect=function(t,e){return hr.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return hr.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return hr.current.useMemo(t,e)};_e.useReducer=function(t,e,r){return hr.current.useReducer(t,e,r)};_e.useRef=function(t){return hr.current.useRef(t)};_e.useState=function(t){return hr.current.useState(t)};_e.useSyncExternalStore=function(t,e,r){return hr.current.useSyncExternalStore(t,e,r)};_e.useTransition=function(){return hr.current.useTransition()};_e.version="18.3.1";kT.exports=_e;var y=kT.exports;const W=RT(y),Xv=p2({__proto__:null,default:W},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2=y,N2=Symbol.for("react.element"),k2=Symbol.for("react.fragment"),j2=Object.prototype.hasOwnProperty,O2=R2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D2={key:!0,ref:!0,__self:!0,__source:!0};function $T(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)j2.call(e,n)&&!D2.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:N2,type:t,key:i,ref:o,props:s,_owner:O2.current}}Lh.Fragment=k2;Lh.jsx=$T;Lh.jsxs=$T;NT.exports=Lh;var d=NT.exports,zT={exports:{}},Lr={},BT={exports:{}},HT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var Q=V.length;V.push(U);e:for(;0<Q;){var oe=Q-1>>>1,te=V[oe];if(0<s(te,U))V[oe]=U,V[Q]=te,Q=oe;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var U=V[0],Q=V.pop();if(Q!==U){V[0]=Q;e:for(var oe=0,te=V.length,ne=te>>>1;oe<ne;){var fe=2*(oe+1)-1,je=V[fe],Je=fe+1,K=V[Je];if(0>s(je,Q))Je<te&&0>s(K,je)?(V[oe]=K,V[Je]=Q,oe=Je):(V[oe]=je,V[fe]=Q,oe=fe);else if(Je<te&&0>s(K,Q))V[oe]=K,V[Je]=Q,oe=Je;else break e}}return U}function s(V,U){var Q=V.sortIndex-U.sortIndex;return Q!==0?Q:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=V)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function I(V){if(v=!1,S(V),!x)if(r(l)!==null)x=!0,G(N);else{var U=r(u);U!==null&&re(I,U.startTime-V)}}function N(V,U){x=!1,v&&(v=!1,_(T),T=-1),g=!0;var Q=p;try{for(S(U),h=r(l);h!==null&&(!(h.expirationTime>U)||V&&!k());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,p=h.priorityLevel;var te=oe(h.expirationTime<=U);U=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(l)&&n(l),S(U)}else n(l);h=r(l)}if(h!==null)var ne=!0;else{var fe=r(u);fe!==null&&re(I,fe.startTime-U),ne=!1}return ne}finally{h=null,p=Q,g=!1}}var D=!1,C=null,T=-1,P=5,A=-1;function k(){return!(t.unstable_now()-A<P)}function O(){if(C!==null){var V=t.unstable_now();A=V;var U=!0;try{U=C(!0,V)}finally{U?j():(D=!1,C=null)}}else D=!1}var j;if(typeof w=="function")j=function(){w(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,J=B.port2;B.port1.onmessage=O,j=function(){J.postMessage(null)}}else j=function(){b(O,0)};function G(V){C=V,D||(D=!0,j())}function re(V,U){T=b(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,G(N))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var Q=p;p=U;try{return V()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=p;p=V;try{return U()}finally{p=Q}},t.unstable_scheduleCallback=function(V,U,Q){var oe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?oe+Q:oe):Q=oe,V){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Q+te,V={id:f++,callback:U,priorityLevel:V,startTime:Q,expirationTime:te,sortIndex:-1},Q>oe?(V.sortIndex=Q,e(u,V),r(l)===null&&V===r(u)&&(v?(_(T),T=-1):v=!0,re(I,Q-oe))):(V.sortIndex=te,e(l,V),x||g||(x=!0,G(N))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var U=p;return function(){var Q=p;p=U;try{return V.apply(this,arguments)}finally{p=Q}}}})(HT);BT.exports=HT;var M2=BT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2=y,jr=M2;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WT=new Set,Dc={};function Vo(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(Dc[t]=e,t=0;t<e.length;t++)WT.add(e[t])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dg=Object.prototype.hasOwnProperty,V2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_0={},x0={};function F2(t){return Dg.call(x0,t)?!0:Dg.call(_0,t)?!1:V2.test(t)?x0[t]=!0:(_0[t]=!0,!1)}function U2(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $2(t,e,r,n){if(e===null||typeof e>"u"||U2(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pr(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function Zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jv,Zv);Wt[e]=new pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jv,Zv);Wt[e]=new pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jv,Zv);Wt[e]=new pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new pr(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ew(t,e,r,n){var s=Wt.hasOwnProperty(e)?Wt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($2(e,r,s,n)&&(r=null),n||s===null?F2(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Is=L2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),la=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),tw=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),GT=Symbol.for("react.context"),rw=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),nw=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),KT=Symbol.for("react.offscreen"),E0=Symbol.iterator;function Hl(t){return t===null||typeof t!="object"?null:(t=E0&&t[E0]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,pm;function ec(t){if(pm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var mm=!1;function gm(t,e){if(!t||mm)return"";mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{mm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ec(t):""}function z2(t){switch(t.tag){case 5:return ec(t.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return t=gm(t.type,!1),t;case 11:return t=gm(t.type.render,!1),t;case 1:return t=gm(t.type,!0),t;default:return""}}function Fg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ca:return"Fragment";case la:return"Portal";case Mg:return"Profiler";case tw:return"StrictMode";case Lg:return"Suspense";case Vg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GT:return(t.displayName||"Context")+".Consumer";case qT:return(t._context.displayName||"Context")+".Provider";case rw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nw:return e=t.displayName||null,e!==null?e:Fg(t.type)||"Memo";case Bs:e=t._payload,t=t._init;try{return Fg(t(e))}catch{}}return null}function B2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fg(e);case 8:return e===tw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function H2(t){var e=QT(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hd(t){t._valueTracker||(t._valueTracker=H2(t))}function YT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=QT(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function jf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ug(t,e){var r=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function b0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ei(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XT(t,e){e=e.checked,e!=null&&ew(t,"checked",e,!1)}function $g(t,e){XT(t,e);var r=Ei(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zg(t,e.type,r):e.hasOwnProperty("defaultValue")&&zg(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function zg(t,e,r){(e!=="number"||jf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var tc=Array.isArray;function xa(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ei(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function T0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(H(92));if(tc(r)){if(1<r.length)throw Error(H(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ei(r)}}function JT(t,e){var r=Ei(e.value),n=Ei(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function C0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pd,e1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pd=pd||document.createElement("div"),pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W2=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(t){W2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pc[e]=pc[t]})});function t1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pc.hasOwnProperty(t)&&pc[t]?(""+e).trim():e+"px"}function r1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=t1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var q2=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(t,e){if(e){if(q2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function qg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=null;function sw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kg=null,Ea=null,ba=null;function I0(t){if(t=Eu(t)){if(typeof Kg!="function")throw Error(H(280));var e=t.stateNode;e&&(e=zh(e),Kg(t.stateNode,t.type,e))}}function n1(t){Ea?ba?ba.push(t):ba=[t]:Ea=t}function s1(){if(Ea){var t=Ea,e=ba;if(ba=Ea=null,I0(t),e)for(t=0;t<e.length;t++)I0(e[t])}}function i1(t,e){return t(e)}function o1(){}var ym=!1;function a1(t,e,r){if(ym)return t(e,r);ym=!0;try{return i1(t,e,r)}finally{ym=!1,(Ea!==null||ba!==null)&&(o1(),s1())}}function Lc(t,e){var r=t.stateNode;if(r===null)return null;var n=zh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(H(231,e,typeof r));return r}var Qg=!1;if(gs)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){Qg=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Qg=!1}function G2(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var mc=!1,Of=null,Df=!1,Yg=null,K2={onError:function(t){mc=!0,Of=t}};function Q2(t,e,r,n,s,i,o,a,l){mc=!1,Of=null,G2.apply(K2,arguments)}function Y2(t,e,r,n,s,i,o,a,l){if(Q2.apply(this,arguments),mc){if(mc){var u=Of;mc=!1,Of=null}else throw Error(H(198));Df||(Df=!0,Yg=u)}}function Fo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function l1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A0(t){if(Fo(t)!==t)throw Error(H(188))}function X2(t){var e=t.alternate;if(!e){if(e=Fo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return A0(s),t;if(i===n)return A0(s),e;i=i.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?t:e}function c1(t){return t=X2(t),t!==null?u1(t):null}function u1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u1(t);if(e!==null)return e;t=t.sibling}return null}var d1=jr.unstable_scheduleCallback,P0=jr.unstable_cancelCallback,J2=jr.unstable_shouldYield,Z2=jr.unstable_requestPaint,yt=jr.unstable_now,eO=jr.unstable_getCurrentPriorityLevel,iw=jr.unstable_ImmediatePriority,f1=jr.unstable_UserBlockingPriority,Mf=jr.unstable_NormalPriority,tO=jr.unstable_LowPriority,h1=jr.unstable_IdlePriority,Vh=null,kn=null;function rO(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:iO,nO=Math.log,sO=Math.LN2;function iO(t){return t>>>=0,t===0?32:31-(nO(t)/sO|0)|0}var md=64,gd=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=rc(a):(i&=o,i!==0&&(n=rc(i)))}else o=r&~s,o!==0?n=rc(o):i!==0&&(n=rc(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-hn(e),s=1<<r,n|=t[r],e&=~s;return n}function oO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aO(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-hn(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=oO(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Xg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p1(){var t=md;return md<<=1,!(md&4194240)&&(md=64),t}function vm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function _u(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=r}function lO(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-hn(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ow(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-hn(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Ue=0;function m1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var g1,aw,y1,v1,w1,Jg=!1,yd=[],ai=null,li=null,ci=null,Vc=new Map,Fc=new Map,Ws=[],cO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R0(t,e){switch(t){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Vc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(e.pointerId)}}function ql(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Eu(e),e!==null&&aw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function uO(t,e,r,n,s){switch(e){case"focusin":return ai=ql(ai,t,e,r,n,s),!0;case"dragenter":return li=ql(li,t,e,r,n,s),!0;case"mouseover":return ci=ql(ci,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Vc.set(i,ql(Vc.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Fc.set(i,ql(Fc.get(i)||null,t,e,r,n,s)),!0}return!1}function _1(t){var e=io(t.target);if(e!==null){var r=Fo(e);if(r!==null){if(e=r.tag,e===13){if(e=l1(r),e!==null){t.blockedOn=e,w1(t.priority,function(){y1(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Zg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Gg=n,r.target.dispatchEvent(n),Gg=null}else return e=Eu(r),e!==null&&aw(e),t.blockedOn=r,!1;e.shift()}return!0}function N0(t,e,r){Kd(t)&&r.delete(e)}function dO(){Jg=!1,ai!==null&&Kd(ai)&&(ai=null),li!==null&&Kd(li)&&(li=null),ci!==null&&Kd(ci)&&(ci=null),Vc.forEach(N0),Fc.forEach(N0)}function Gl(t,e){t.blockedOn===e&&(t.blockedOn=null,Jg||(Jg=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,dO)))}function Uc(t){function e(s){return Gl(s,t)}if(0<yd.length){Gl(yd[0],t);for(var r=1;r<yd.length;r++){var n=yd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ai!==null&&Gl(ai,t),li!==null&&Gl(li,t),ci!==null&&Gl(ci,t),Vc.forEach(e),Fc.forEach(e),r=0;r<Ws.length;r++)n=Ws[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)_1(r),r.blockedOn===null&&Ws.shift()}var Sa=Is.ReactCurrentBatchConfig,Vf=!0;function fO(t,e,r,n){var s=Ue,i=Sa.transition;Sa.transition=null;try{Ue=1,lw(t,e,r,n)}finally{Ue=s,Sa.transition=i}}function hO(t,e,r,n){var s=Ue,i=Sa.transition;Sa.transition=null;try{Ue=4,lw(t,e,r,n)}finally{Ue=s,Sa.transition=i}}function lw(t,e,r,n){if(Vf){var s=Zg(t,e,r,n);if(s===null)Am(t,e,n,Ff,r),R0(t,n);else if(uO(s,t,e,r,n))n.stopPropagation();else if(R0(t,n),e&4&&-1<cO.indexOf(t)){for(;s!==null;){var i=Eu(s);if(i!==null&&g1(i),i=Zg(t,e,r,n),i===null&&Am(t,e,n,Ff,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Am(t,e,n,null,r)}}var Ff=null;function Zg(t,e,r,n){if(Ff=null,t=sw(n),t=io(t),t!==null)if(e=Fo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=l1(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ff=t,null}function x1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eO()){case iw:return 1;case f1:return 4;case Mf:case tO:return 16;case h1:return 536870912;default:return 16}default:return 16}}var ni=null,cw=null,Qd=null;function E1(){if(Qd)return Qd;var t,e=cw,r=e.length,n,s="value"in ni?ni.value:ni.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Qd=s.slice(t,1<n?1-n:void 0)}function Yd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vd(){return!0}function k0(){return!1}function Vr(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vd:k0,this.isPropagationStopped=k0,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),e}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uw=Vr(pl),xu=at({},pl,{view:0,detail:0}),pO=Vr(xu),wm,_m,Kl,Fh=at({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(wm=t.screenX-Kl.screenX,_m=t.screenY-Kl.screenY):_m=wm=0,Kl=t),wm)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),j0=Vr(Fh),mO=at({},Fh,{dataTransfer:0}),gO=Vr(mO),yO=at({},xu,{relatedTarget:0}),xm=Vr(yO),vO=at({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),wO=Vr(vO),_O=at({},pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xO=Vr(_O),EO=at({},pl,{data:0}),O0=Vr(EO),bO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TO[t])?!!e[t]:!1}function dw(){return CO}var IO=at({},xu,{key:function(t){if(t.key){var e=bO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dw,charCode:function(t){return t.type==="keypress"?Yd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AO=Vr(IO),PO=at({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=Vr(PO),RO=at({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dw}),NO=Vr(RO),kO=at({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),jO=Vr(kO),OO=at({},Fh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DO=Vr(OO),MO=[9,13,27,32],fw=gs&&"CompositionEvent"in window,gc=null;gs&&"documentMode"in document&&(gc=document.documentMode);var LO=gs&&"TextEvent"in window&&!gc,b1=gs&&(!fw||gc&&8<gc&&11>=gc),M0=" ",L0=!1;function S1(t,e){switch(t){case"keyup":return MO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function VO(t,e){switch(t){case"compositionend":return T1(e);case"keypress":return e.which!==32?null:(L0=!0,M0);case"textInput":return t=e.data,t===M0&&L0?null:t;default:return null}}function FO(t,e){if(ua)return t==="compositionend"||!fw&&S1(t,e)?(t=E1(),Qd=cw=ni=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return b1&&e.locale!=="ko"?null:e.data;default:return null}}var UO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UO[t.type]:e==="textarea"}function C1(t,e,r,n){n1(n),e=Uf(e,"onChange"),0<e.length&&(r=new uw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yc=null,$c=null;function $O(t){L1(t,0)}function Uh(t){var e=ha(t);if(YT(e))return t}function zO(t,e){if(t==="change")return e}var I1=!1;if(gs){var Em;if(gs){var bm="oninput"in document;if(!bm){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),bm=typeof F0.oninput=="function"}Em=bm}else Em=!1;I1=Em&&(!document.documentMode||9<document.documentMode)}function U0(){yc&&(yc.detachEvent("onpropertychange",A1),$c=yc=null)}function A1(t){if(t.propertyName==="value"&&Uh($c)){var e=[];C1(e,$c,t,sw(t)),a1($O,e)}}function BO(t,e,r){t==="focusin"?(U0(),yc=e,$c=r,yc.attachEvent("onpropertychange",A1)):t==="focusout"&&U0()}function HO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh($c)}function WO(t,e){if(t==="click")return Uh(e)}function qO(t,e){if(t==="input"||t==="change")return Uh(e)}function GO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:GO;function zc(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Dg.call(e,s)||!gn(t[s],e[s]))return!1}return!0}function $0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z0(t,e){var r=$0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$0(r)}}function P1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R1(){for(var t=window,e=jf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=jf(t.document)}return e}function hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KO(t){var e=R1(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&P1(r.ownerDocument.documentElement,r)){if(n!==null&&hw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=z0(r,i);var o=z0(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QO=gs&&"documentMode"in document&&11>=document.documentMode,da=null,ey=null,vc=null,ty=!1;function B0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ty||da==null||da!==jf(n)||(n=da,"selectionStart"in n&&hw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vc&&zc(vc,n)||(vc=n,n=Uf(ey,"onSelect"),0<n.length&&(e=new uw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=da)))}function wd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fa={animationend:wd("Animation","AnimationEnd"),animationiteration:wd("Animation","AnimationIteration"),animationstart:wd("Animation","AnimationStart"),transitionend:wd("Transition","TransitionEnd")},Sm={},N1={};gs&&(N1=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function $h(t){if(Sm[t])return Sm[t];if(!fa[t])return t;var e=fa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in N1)return Sm[t]=e[r];return t}var k1=$h("animationend"),j1=$h("animationiteration"),O1=$h("animationstart"),D1=$h("transitionend"),M1=new Map,H0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(t,e){M1.set(t,e),Vo(e,[t])}for(var Tm=0;Tm<H0.length;Tm++){var Cm=H0[Tm],YO=Cm.toLowerCase(),XO=Cm[0].toUpperCase()+Cm.slice(1);Oi(YO,"on"+XO)}Oi(k1,"onAnimationEnd");Oi(j1,"onAnimationIteration");Oi(O1,"onAnimationStart");Oi("dblclick","onDoubleClick");Oi("focusin","onFocus");Oi("focusout","onBlur");Oi(D1,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JO=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function W0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Y2(n,e,void 0,t),t.currentTarget=null}function L1(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;W0(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;W0(s,a,u),i=l}}}if(Df)throw t=Yg,Df=!1,Yg=null,t}function Qe(t,e){var r=e[oy];r===void 0&&(r=e[oy]=new Set);var n=t+"__bubble";r.has(n)||(V1(e,t,2,!1),r.add(n))}function Im(t,e,r){var n=0;e&&(n|=4),V1(r,t,n,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Bc(t){if(!t[_d]){t[_d]=!0,WT.forEach(function(r){r!=="selectionchange"&&(JO.has(r)||Im(r,!1,t),Im(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,Im("selectionchange",!1,e))}}function V1(t,e,r,n){switch(x1(e)){case 1:var s=fO;break;case 4:s=hO;break;default:s=lw}r=s.bind(null,e,r,t),s=void 0,!Qg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Am(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=io(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}a1(function(){var u=i,f=sw(r),h=[];e:{var p=M1.get(t);if(p!==void 0){var g=uw,x=t;switch(t){case"keypress":if(Yd(r)===0)break e;case"keydown":case"keyup":g=AO;break;case"focusin":x="focus",g=xm;break;case"focusout":x="blur",g=xm;break;case"beforeblur":case"afterblur":g=xm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=j0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=gO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=NO;break;case k1:case j1:case O1:g=wO;break;case D1:g=jO;break;case"scroll":g=pO;break;case"wheel":g=DO;break;case"copy":case"cut":case"paste":g=xO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=D0}var v=(e&4)!==0,b=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,S;w!==null;){S=w;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,_!==null&&(I=Lc(w,_),I!=null&&v.push(Hc(w,I,S)))),b)break;w=w.return}0<v.length&&(p=new g(p,x,null,r,f),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==Gg&&(x=r.relatedTarget||r.fromElement)&&(io(x)||x[ys]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=u,x=x?io(x):null,x!==null&&(b=Fo(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=j0,I="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=D0,I="onPointerLeave",_="onPointerEnter",w="pointer"),b=g==null?p:ha(g),S=x==null?p:ha(x),p=new v(I,w+"leave",g,r,f),p.target=b,p.relatedTarget=S,I=null,io(f)===u&&(v=new v(_,w+"enter",x,r,f),v.target=S,v.relatedTarget=b,I=v),b=I,g&&x)t:{for(v=g,_=x,w=0,S=v;S;S=ea(S))w++;for(S=0,I=_;I;I=ea(I))S++;for(;0<w-S;)v=ea(v),w--;for(;0<S-w;)_=ea(_),S--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=ea(v),_=ea(_)}v=null}else v=null;g!==null&&q0(h,p,g,v,!1),x!==null&&b!==null&&q0(h,b,x,v,!0)}}e:{if(p=u?ha(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var N=zO;else if(V0(p))if(I1)N=qO;else{N=HO;var D=BO}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=WO);if(N&&(N=N(t,u))){C1(h,N,r,f);break e}D&&D(t,p,u),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&zg(p,"number",p.value)}switch(D=u?ha(u):window,t){case"focusin":(V0(D)||D.contentEditable==="true")&&(da=D,ey=u,vc=null);break;case"focusout":vc=ey=da=null;break;case"mousedown":ty=!0;break;case"contextmenu":case"mouseup":case"dragend":ty=!1,B0(h,r,f);break;case"selectionchange":if(QO)break;case"keydown":case"keyup":B0(h,r,f)}var C;if(fw)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ua?S1(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(b1&&r.locale!=="ko"&&(ua||T!=="onCompositionStart"?T==="onCompositionEnd"&&ua&&(C=E1()):(ni=f,cw="value"in ni?ni.value:ni.textContent,ua=!0)),D=Uf(u,T),0<D.length&&(T=new O0(T,t,null,r,f),h.push({event:T,listeners:D}),C?T.data=C:(C=T1(r),C!==null&&(T.data=C)))),(C=LO?VO(t,r):FO(t,r))&&(u=Uf(u,"onBeforeInput"),0<u.length&&(f=new O0("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:u}),f.data=C))}L1(h,e)})}function Hc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Uf(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lc(t,r),i!=null&&n.unshift(Hc(t,i,s)),i=Lc(t,e),i!=null&&n.push(Hc(t,i,s))),t=t.return}return n}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q0(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Lc(r,i),l!=null&&o.unshift(Hc(r,l,a))):s||(l=Lc(r,i),l!=null&&o.push(Hc(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var ZO=/\r\n?/g,eD=/\u0000|\uFFFD/g;function G0(t){return(typeof t=="string"?t:""+t).replace(ZO,`
`).replace(eD,"")}function xd(t,e,r){if(e=G0(e),G0(t)!==e&&r)throw Error(H(425))}function $f(){}var ry=null,ny=null;function sy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iy=typeof setTimeout=="function"?setTimeout:void 0,tD=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,rD=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(t){return K0.resolve(null).then(t).catch(nD)}:iy;function nD(t){setTimeout(function(){throw t})}function Pm(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Uc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Uc(e)}function ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Pn="__reactFiber$"+ml,Wc="__reactProps$"+ml,ys="__reactContainer$"+ml,oy="__reactEvents$"+ml,sD="__reactListeners$"+ml,iD="__reactHandles$"+ml;function io(t){var e=t[Pn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ys]||r[Pn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Q0(t);t!==null;){if(r=t[Pn])return r;t=Q0(t)}return e}t=r,r=t.parentNode}return null}function Eu(t){return t=t[Pn]||t[ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ha(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function zh(t){return t[Wc]||null}var ay=[],pa=-1;function Di(t){return{current:t}}function Xe(t){0>pa||(t.current=ay[pa],ay[pa]=null,pa--)}function We(t,e){pa++,ay[pa]=t.current,t.current=e}var bi={},nr=Di(bi),br=Di(!1),_o=bi;function qa(t,e){var r=t.type.contextTypes;if(!r)return bi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Sr(t){return t=t.childContextTypes,t!=null}function zf(){Xe(br),Xe(nr)}function Y0(t,e,r){if(nr.current!==bi)throw Error(H(168));We(nr,e),We(br,r)}function F1(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(H(108,B2(t)||"Unknown",s));return at({},r,n)}function Bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bi,_o=nr.current,We(nr,t),We(br,br.current),!0}function X0(t,e,r){var n=t.stateNode;if(!n)throw Error(H(169));r?(t=F1(t,e,_o),n.__reactInternalMemoizedMergedChildContext=t,Xe(br),Xe(nr),We(nr,t)):Xe(br),We(br,r)}var rs=null,Bh=!1,Rm=!1;function U1(t){rs===null?rs=[t]:rs.push(t)}function oD(t){Bh=!0,U1(t)}function Mi(){if(!Rm&&rs!==null){Rm=!0;var t=0,e=Ue;try{var r=rs;for(Ue=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}rs=null,Bh=!1}catch(s){throw rs!==null&&(rs=rs.slice(t+1)),d1(iw,Mi),s}finally{Ue=e,Rm=!1}}return null}var ma=[],ga=0,Hf=null,Wf=0,zr=[],Br=0,xo=null,ss=1,is="";function Zi(t,e){ma[ga++]=Wf,ma[ga++]=Hf,Hf=t,Wf=e}function $1(t,e,r){zr[Br++]=ss,zr[Br++]=is,zr[Br++]=xo,xo=t;var n=ss;t=is;var s=32-hn(n)-1;n&=~(1<<s),r+=1;var i=32-hn(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ss=1<<32-hn(e)+s|r<<s|n,is=i+t}else ss=1<<i|r<<s|n,is=t}function pw(t){t.return!==null&&(Zi(t,1),$1(t,1,0))}function mw(t){for(;t===Hf;)Hf=ma[--ga],ma[ga]=null,Wf=ma[--ga],ma[ga]=null;for(;t===xo;)xo=zr[--Br],zr[Br]=null,is=zr[--Br],zr[Br]=null,ss=zr[--Br],zr[Br]=null}var Nr=null,Pr=null,tt=!1,un=null;function z1(t,e){var r=Gr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function J0(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nr=t,Pr=ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nr=t,Pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=xo!==null?{id:ss,overflow:is}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Gr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Nr=t,Pr=null,!0):!1;default:return!1}}function ly(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cy(t){if(tt){var e=Pr;if(e){var r=e;if(!J0(t,e)){if(ly(t))throw Error(H(418));e=ui(r.nextSibling);var n=Nr;e&&J0(t,e)?z1(n,r):(t.flags=t.flags&-4097|2,tt=!1,Nr=t)}}else{if(ly(t))throw Error(H(418));t.flags=t.flags&-4097|2,tt=!1,Nr=t}}}function Z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nr=t}function Ed(t){if(t!==Nr)return!1;if(!tt)return Z0(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sy(t.type,t.memoizedProps)),e&&(e=Pr)){if(ly(t))throw B1(),Error(H(418));for(;e;)z1(t,e),e=ui(e.nextSibling)}if(Z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Pr=ui(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Pr=null}}else Pr=Nr?ui(t.stateNode.nextSibling):null;return!0}function B1(){for(var t=Pr;t;)t=ui(t.nextSibling)}function Ga(){Pr=Nr=null,tt=!1}function gw(t){un===null?un=[t]:un.push(t)}var aD=Is.ReactCurrentBatchConfig;function Ql(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,t))}return t}function bd(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eE(t){var e=t._init;return e(t._payload)}function H1(t){function e(_,w){if(t){var S=_.deletions;S===null?(_.deletions=[w],_.flags|=16):S.push(w)}}function r(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function n(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=pi(_,w),_.index=0,_.sibling=null,_}function i(_,w,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<w?(_.flags|=2,w):S):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,S,I){return w===null||w.tag!==6?(w=Lm(S,_.mode,I),w.return=_,w):(w=s(w,S),w.return=_,w)}function l(_,w,S,I){var N=S.type;return N===ca?f(_,w,S.props.children,I,S.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bs&&eE(N)===w.type)?(I=s(w,S.props),I.ref=Ql(_,w,S),I.return=_,I):(I=nf(S.type,S.key,S.props,null,_.mode,I),I.ref=Ql(_,w,S),I.return=_,I)}function u(_,w,S,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Vm(S,_.mode,I),w.return=_,w):(w=s(w,S.children||[]),w.return=_,w)}function f(_,w,S,I,N){return w===null||w.tag!==7?(w=go(S,_.mode,I,N),w.return=_,w):(w=s(w,S),w.return=_,w)}function h(_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Lm(""+w,_.mode,S),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fd:return S=nf(w.type,w.key,w.props,null,_.mode,S),S.ref=Ql(_,null,w),S.return=_,S;case la:return w=Vm(w,_.mode,S),w.return=_,w;case Bs:var I=w._init;return h(_,I(w._payload),S)}if(tc(w)||Hl(w))return w=go(w,_.mode,S,null),w.return=_,w;bd(_,w)}return null}function p(_,w,S,I){var N=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:a(_,w,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case fd:return S.key===N?l(_,w,S,I):null;case la:return S.key===N?u(_,w,S,I):null;case Bs:return N=S._init,p(_,w,N(S._payload),I)}if(tc(S)||Hl(S))return N!==null?null:f(_,w,S,I,null);bd(_,S)}return null}function g(_,w,S,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(S)||null,a(w,_,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case fd:return _=_.get(I.key===null?S:I.key)||null,l(w,_,I,N);case la:return _=_.get(I.key===null?S:I.key)||null,u(w,_,I,N);case Bs:var D=I._init;return g(_,w,S,D(I._payload),N)}if(tc(I)||Hl(I))return _=_.get(S)||null,f(w,_,I,N,null);bd(w,I)}return null}function x(_,w,S,I){for(var N=null,D=null,C=w,T=w=0,P=null;C!==null&&T<S.length;T++){C.index>T?(P=C,C=null):P=C.sibling;var A=p(_,C,S[T],I);if(A===null){C===null&&(C=P);break}t&&C&&A.alternate===null&&e(_,C),w=i(A,w,T),D===null?N=A:D.sibling=A,D=A,C=P}if(T===S.length)return r(_,C),tt&&Zi(_,T),N;if(C===null){for(;T<S.length;T++)C=h(_,S[T],I),C!==null&&(w=i(C,w,T),D===null?N=C:D.sibling=C,D=C);return tt&&Zi(_,T),N}for(C=n(_,C);T<S.length;T++)P=g(C,_,T,S[T],I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?T:P.key),w=i(P,w,T),D===null?N=P:D.sibling=P,D=P);return t&&C.forEach(function(k){return e(_,k)}),tt&&Zi(_,T),N}function v(_,w,S,I){var N=Hl(S);if(typeof N!="function")throw Error(H(150));if(S=N.call(S),S==null)throw Error(H(151));for(var D=N=null,C=w,T=w=0,P=null,A=S.next();C!==null&&!A.done;T++,A=S.next()){C.index>T?(P=C,C=null):P=C.sibling;var k=p(_,C,A.value,I);if(k===null){C===null&&(C=P);break}t&&C&&k.alternate===null&&e(_,C),w=i(k,w,T),D===null?N=k:D.sibling=k,D=k,C=P}if(A.done)return r(_,C),tt&&Zi(_,T),N;if(C===null){for(;!A.done;T++,A=S.next())A=h(_,A.value,I),A!==null&&(w=i(A,w,T),D===null?N=A:D.sibling=A,D=A);return tt&&Zi(_,T),N}for(C=n(_,C);!A.done;T++,A=S.next())A=g(C,_,T,A.value,I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),w=i(A,w,T),D===null?N=A:D.sibling=A,D=A);return t&&C.forEach(function(O){return e(_,O)}),tt&&Zi(_,T),N}function b(_,w,S,I){if(typeof S=="object"&&S!==null&&S.type===ca&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case fd:e:{for(var N=S.key,D=w;D!==null;){if(D.key===N){if(N=S.type,N===ca){if(D.tag===7){r(_,D.sibling),w=s(D,S.props.children),w.return=_,_=w;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Bs&&eE(N)===D.type){r(_,D.sibling),w=s(D,S.props),w.ref=Ql(_,D,S),w.return=_,_=w;break e}r(_,D);break}else e(_,D);D=D.sibling}S.type===ca?(w=go(S.props.children,_.mode,I,S.key),w.return=_,_=w):(I=nf(S.type,S.key,S.props,null,_.mode,I),I.ref=Ql(_,w,S),I.return=_,_=I)}return o(_);case la:e:{for(D=S.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(_,w.sibling),w=s(w,S.children||[]),w.return=_,_=w;break e}else{r(_,w);break}else e(_,w);w=w.sibling}w=Vm(S,_.mode,I),w.return=_,_=w}return o(_);case Bs:return D=S._init,b(_,w,D(S._payload),I)}if(tc(S))return x(_,w,S,I);if(Hl(S))return v(_,w,S,I);bd(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(_,w.sibling),w=s(w,S),w.return=_,_=w):(r(_,w),w=Lm(S,_.mode,I),w.return=_,_=w),o(_)):r(_,w)}return b}var Ka=H1(!0),W1=H1(!1),qf=Di(null),Gf=null,ya=null,yw=null;function vw(){yw=ya=Gf=null}function ww(t){var e=qf.current;Xe(qf),t._currentValue=e}function uy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ta(t,e){Gf=t,yw=ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Er=!0),t.firstContext=null)}function Qr(t){var e=t._currentValue;if(yw!==t)if(t={context:t,memoizedValue:e,next:null},ya===null){if(Gf===null)throw Error(H(308));ya=t,Gf.dependencies={lanes:0,firstContext:t}}else ya=ya.next=t;return e}var oo=null;function _w(t){oo===null?oo=[t]:oo.push(t)}function q1(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,_w(e)):(r.next=s.next,s.next=r),e.interleaved=r,vs(t,n)}function vs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hs=!1;function xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function di(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,vs(t,r)}return s=n.interleaved,s===null?(e.next=e,_w(n)):(e.next=s.next,s.next=e),n.interleaved=e,vs(t,r)}function Xd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ow(t,r)}}function tE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Kf(t,e,r,n){var s=t.updateQueue;Hs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,f=u=l=null,a=i;do{var p=a.lane,g=a.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(p=e,g=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(g,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(g,h,p):x,p==null)break e;h=at({},h,p);break e;case 2:Hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=g,l=h):f=f.next=g,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bo|=o,t.lanes=o,t.memoizedState=h}}function rE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var bu={},jn=Di(bu),qc=Di(bu),Gc=Di(bu);function ao(t){if(t===bu)throw Error(H(174));return t}function Ew(t,e){switch(We(Gc,e),We(qc,t),We(jn,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hg(e,t)}Xe(jn),We(jn,e)}function Qa(){Xe(jn),Xe(qc),Xe(Gc)}function K1(t){ao(Gc.current);var e=ao(jn.current),r=Hg(e,t.type);e!==r&&(We(qc,t),We(jn,r))}function bw(t){qc.current===t&&(Xe(jn),Xe(qc))}var st=Di(0);function Qf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nm=[];function Sw(){for(var t=0;t<Nm.length;t++)Nm[t]._workInProgressVersionPrimary=null;Nm.length=0}var Jd=Is.ReactCurrentDispatcher,km=Is.ReactCurrentBatchConfig,Eo=0,it=null,It=null,jt=null,Yf=!1,wc=!1,Kc=0,lD=0;function Xt(){throw Error(H(321))}function Tw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gn(t[r],e[r]))return!1;return!0}function Cw(t,e,r,n,s,i){if(Eo=i,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jd.current=t===null||t.memoizedState===null?fD:hD,t=r(n,s),wc){i=0;do{if(wc=!1,Kc=0,25<=i)throw Error(H(301));i+=1,jt=It=null,e.updateQueue=null,Jd.current=pD,t=r(n,s)}while(wc)}if(Jd.current=Xf,e=It!==null&&It.next!==null,Eo=0,jt=It=it=null,Yf=!1,e)throw Error(H(300));return t}function Iw(){var t=Kc!==0;return Kc=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?it.memoizedState=jt=t:jt=jt.next=t,jt}function Yr(){if(It===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=jt===null?it.memoizedState:jt.next;if(e!==null)jt=e,It=t;else{if(t===null)throw Error(H(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},jt===null?it.memoizedState=jt=t:jt=jt.next=t}return jt}function Qc(t,e){return typeof e=="function"?e(t):e}function jm(t){var e=Yr(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=It,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var f=u.lane;if((Eo&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,it.lanes|=f,bo|=f}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,gn(n,e.memoizedState)||(Er=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,it.lanes|=i,bo|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Om(t){var e=Yr(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gn(i,e.memoizedState)||(Er=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Q1(){}function Y1(t,e){var r=it,n=Yr(),s=e(),i=!gn(n.memoizedState,s);if(i&&(n.memoizedState=s,Er=!0),n=n.queue,Aw(Z1.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,Yc(9,J1.bind(null,r,n,s,e),void 0,null),Dt===null)throw Error(H(349));Eo&30||X1(r,e,s)}return s}function X1(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function J1(t,e,r,n){e.value=r,e.getSnapshot=n,eC(e)&&tC(t)}function Z1(t,e,r){return r(function(){eC(e)&&tC(t)})}function eC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gn(t,r)}catch{return!0}}function tC(t){var e=vs(t,1);e!==null&&pn(e,t,1,-1)}function nE(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:t},e.queue=t,t=t.dispatch=dD.bind(null,it,t),[e.memoizedState,t]}function Yc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function rC(){return Yr().memoizedState}function Zd(t,e,r,n){var s=Sn();it.flags|=t,s.memoizedState=Yc(1|e,r,void 0,n===void 0?null:n)}function Hh(t,e,r,n){var s=Yr();n=n===void 0?null:n;var i=void 0;if(It!==null){var o=It.memoizedState;if(i=o.destroy,n!==null&&Tw(n,o.deps)){s.memoizedState=Yc(e,r,i,n);return}}it.flags|=t,s.memoizedState=Yc(1|e,r,i,n)}function sE(t,e){return Zd(8390656,8,t,e)}function Aw(t,e){return Hh(2048,8,t,e)}function nC(t,e){return Hh(4,2,t,e)}function sC(t,e){return Hh(4,4,t,e)}function iC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function oC(t,e,r){return r=r!=null?r.concat([t]):null,Hh(4,4,iC.bind(null,e,t),r)}function Pw(){}function aC(t,e){var r=Yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Tw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function lC(t,e){var r=Yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Tw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function cC(t,e,r){return Eo&21?(gn(r,e)||(r=p1(),it.lanes|=r,bo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Er=!0),t.memoizedState=r)}function cD(t,e){var r=Ue;Ue=r!==0&&4>r?r:4,t(!0);var n=km.transition;km.transition={};try{t(!1),e()}finally{Ue=r,km.transition=n}}function uC(){return Yr().memoizedState}function uD(t,e,r){var n=hi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},dC(t))fC(e,r);else if(r=q1(t,e,r,n),r!==null){var s=ur();pn(r,t,n,s),hC(r,e,n)}}function dD(t,e,r){var n=hi(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(dC(t))fC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,gn(a,o)){var l=e.interleaved;l===null?(s.next=s,_w(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=q1(t,e,s,n),r!==null&&(s=ur(),pn(r,t,n,s),hC(r,e,n))}}function dC(t){var e=t.alternate;return t===it||e!==null&&e===it}function fC(t,e){wc=Yf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ow(t,r)}}var Xf={readContext:Qr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},fD={readContext:Qr,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Qr,useEffect:sE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Zd(4194308,4,iC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zd(4,2,t,e)},useMemo:function(t,e){var r=Sn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Sn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uD.bind(null,it,t),[n.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:nE,useDebugValue:Pw,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=nE(!1),e=t[0];return t=cD.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=it,s=Sn();if(tt){if(r===void 0)throw Error(H(407));r=r()}else{if(r=e(),Dt===null)throw Error(H(349));Eo&30||X1(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,sE(Z1.bind(null,n,i,t),[t]),n.flags|=2048,Yc(9,J1.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Sn(),e=Dt.identifierPrefix;if(tt){var r=is,n=ss;r=(n&~(1<<32-hn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Kc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hD={readContext:Qr,useCallback:aC,useContext:Qr,useEffect:Aw,useImperativeHandle:oC,useInsertionEffect:nC,useLayoutEffect:sC,useMemo:lC,useReducer:jm,useRef:rC,useState:function(){return jm(Qc)},useDebugValue:Pw,useDeferredValue:function(t){var e=Yr();return cC(e,It.memoizedState,t)},useTransition:function(){var t=jm(Qc)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:Q1,useSyncExternalStore:Y1,useId:uC,unstable_isNewReconciler:!1},pD={readContext:Qr,useCallback:aC,useContext:Qr,useEffect:Aw,useImperativeHandle:oC,useInsertionEffect:nC,useLayoutEffect:sC,useMemo:lC,useReducer:Om,useRef:rC,useState:function(){return Om(Qc)},useDebugValue:Pw,useDeferredValue:function(t){var e=Yr();return It===null?e.memoizedState=t:cC(e,It.memoizedState,t)},useTransition:function(){var t=Om(Qc)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:Q1,useSyncExternalStore:Y1,useId:uC,unstable_isNewReconciler:!1};function sn(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function dy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:at({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wh={isMounted:function(t){return(t=t._reactInternals)?Fo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ur(),s=hi(t),i=ls(n,s);i.payload=e,r!=null&&(i.callback=r),e=di(t,i,s),e!==null&&(pn(e,t,s,n),Xd(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ur(),s=hi(t),i=ls(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=di(t,i,s),e!==null&&(pn(e,t,s,n),Xd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ur(),n=hi(t),s=ls(r,n);s.tag=2,e!=null&&(s.callback=e),e=di(t,s,n),e!==null&&(pn(e,t,n,r),Xd(e,t,n))}};function iE(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!zc(r,n)||!zc(s,i):!0}function pC(t,e,r){var n=!1,s=bi,i=e.contextType;return typeof i=="object"&&i!==null?i=Qr(i):(s=Sr(e)?_o:nr.current,n=e.contextTypes,i=(n=n!=null)?qa(t,s):bi),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function oE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Wh.enqueueReplaceState(e,e.state,null)}function fy(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},xw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qr(i):(i=Sr(e)?_o:nr.current,s.context=qa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(dy(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wh.enqueueReplaceState(s,s.state,null),Kf(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ya(t,e){try{var r="",n=e;do r+=z2(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Dm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function hy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mD=typeof WeakMap=="function"?WeakMap:Map;function mC(t,e,r){r=ls(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Zf||(Zf=!0,by=n),hy(t,e)},r}function gC(t,e,r){r=ls(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){hy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){hy(t,e),typeof n!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function aE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new mD;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=PD.bind(null,t,e,r),e.then(t,t))}function lE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cE(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ls(-1,1),e.tag=2,di(r,e,1))),r.lanes|=1),t)}var gD=Is.ReactCurrentOwner,Er=!1;function or(t,e,r,n){e.child=t===null?W1(e,null,r,n):Ka(e,t.child,r,n)}function uE(t,e,r,n,s){r=r.render;var i=e.ref;return Ta(e,s),n=Cw(t,e,r,n,i,s),r=Iw(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ws(t,e,s)):(tt&&r&&pw(e),e.flags|=1,or(t,e,n,s),e.child)}function dE(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Lw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,yC(t,e,i,n,s)):(t=nf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:zc,r(o,n)&&t.ref===e.ref)return ws(t,e,s)}return e.flags|=1,t=pi(i,n),t.ref=e.ref,t.return=e,e.child=t}function yC(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(zc(i,n)&&t.ref===e.ref)if(Er=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Er=!0);else return e.lanes=t.lanes,ws(t,e,s)}return py(t,e,r,n,s)}function vC(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(wa,Ir),Ir|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(wa,Ir),Ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,We(wa,Ir),Ir|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,We(wa,Ir),Ir|=n;return or(t,e,s,r),e.child}function wC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function py(t,e,r,n,s){var i=Sr(r)?_o:nr.current;return i=qa(e,i),Ta(e,s),r=Cw(t,e,r,n,i,s),n=Iw(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ws(t,e,s)):(tt&&n&&pw(e),e.flags|=1,or(t,e,r,s),e.child)}function fE(t,e,r,n,s){if(Sr(r)){var i=!0;Bf(e)}else i=!1;if(Ta(e,s),e.stateNode===null)ef(t,e),pC(e,r,n),fy(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qr(u):(u=Sr(r)?_o:nr.current,u=qa(e,u));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&oE(e,o,n,u),Hs=!1;var p=e.memoizedState;o.state=p,Kf(e,n,o,s),l=e.memoizedState,a!==n||p!==l||br.current||Hs?(typeof f=="function"&&(dy(e,r,f,n),l=e.memoizedState),(a=Hs||iE(e,r,a,n,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,G1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qr(l):(l=Sr(r)?_o:nr.current,l=qa(e,l));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&oE(e,o,n,l),Hs=!1,p=e.memoizedState,o.state=p,Kf(e,n,o,s);var x=e.memoizedState;a!==h||p!==x||br.current||Hs?(typeof g=="function"&&(dy(e,r,g,n),x=e.memoizedState),(u=Hs||iE(e,r,u,n,p,x,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return my(t,e,r,n,i,s)}function my(t,e,r,n,s,i){wC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&X0(e,r,!1),ws(t,e,i);n=e.stateNode,gD.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ka(e,t.child,null,i),e.child=Ka(e,null,a,i)):or(t,e,a,i),e.memoizedState=n.state,s&&X0(e,r,!0),e.child}function _C(t){var e=t.stateNode;e.pendingContext?Y0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y0(t,e.context,!1),Ew(t,e.containerInfo)}function hE(t,e,r,n,s){return Ga(),gw(s),e.flags|=256,or(t,e,r,n),e.child}var gy={dehydrated:null,treeContext:null,retryLane:0};function yy(t){return{baseLanes:t,cachePool:null,transitions:null}}function xC(t,e,r){var n=e.pendingProps,s=st.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(st,s&1),t===null)return cy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kh(o,n,0,null),t=go(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yy(r),e.memoizedState=gy,t):Rw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return yD(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=pi(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=pi(a,i):(i=go(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?yy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=gy,n}return i=t.child,t=i.sibling,n=pi(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Rw(t,e){return e=Kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sd(t,e,r,n){return n!==null&&gw(n),Ka(e,t.child,null,r),t=Rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yD(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Dm(Error(H(422))),Sd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Kh({mode:"visible",children:n.children},s,0,null),i=go(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ka(e,t.child,null,o),e.child.memoizedState=yy(o),e.memoizedState=gy,i);if(!(e.mode&1))return Sd(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(H(419)),n=Dm(i,n,void 0),Sd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Er||a){if(n=Dt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vs(t,s),pn(n,t,s,-1))}return Mw(),n=Dm(Error(H(421))),Sd(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=RD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pr=ui(s.nextSibling),Nr=e,tt=!0,un=null,t!==null&&(zr[Br++]=ss,zr[Br++]=is,zr[Br++]=xo,ss=t.id,is=t.overflow,xo=e),e=Rw(e,n.children),e.flags|=4096,e)}function pE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),uy(t.return,e,r)}function Mm(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function EC(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(or(t,e,n.children,r),n=st.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pE(t,r,e);else if(t.tag===19)pE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(We(st,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Qf(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Mm(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qf(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Mm(e,!0,r,null,i);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ef(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ws(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),bo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,r=pi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=pi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vD(t,e,r){switch(e.tag){case 3:_C(e),Ga();break;case 5:K1(e);break;case 1:Sr(e.type)&&Bf(e);break;case 4:Ew(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;We(qf,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(We(st,st.current&1),e.flags|=128,null):r&e.child.childLanes?xC(t,e,r):(We(st,st.current&1),t=ws(t,e,r),t!==null?t.sibling:null);We(st,st.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return EC(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(st,st.current),n)break;return null;case 22:case 23:return e.lanes=0,vC(t,e,r)}return ws(t,e,r)}var bC,vy,SC,TC;bC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vy=function(){};SC=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ao(jn.current);var i=null;switch(r){case"input":s=Ug(t,s),n=Ug(t,n),i=[];break;case"select":s=at({},s,{value:void 0}),n=at({},n,{value:void 0}),i=[];break;case"textarea":s=Bg(t,s),n=Bg(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=$f)}Wg(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};TC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yl(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wD(t,e,r){var n=e.pendingProps;switch(mw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Sr(e.type)&&zf(),Jt(e),null;case 3:return n=e.stateNode,Qa(),Xe(br),Xe(nr),Sw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(Cy(un),un=null))),vy(t,e),Jt(e),null;case 5:bw(e);var s=ao(Gc.current);if(r=e.type,t!==null&&e.stateNode!=null)SC(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return Jt(e),null}if(t=ao(jn.current),Ed(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Pn]=e,n[Wc]=i,t=(e.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(s=0;s<nc.length;s++)Qe(nc[s],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":b0(n,i),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",n);break;case"textarea":T0(n,i),Qe("invalid",n)}Wg(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&xd(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xd(n.textContent,a,t),s=["children",""+a]):Dc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":hd(n),S0(n,i,!0);break;case"textarea":hd(n),C0(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$f)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZT(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Pn]=e,t[Wc]=n,bC(t,e,!1,!1),e.stateNode=t;e:{switch(o=qg(r,n),r){case"dialog":Qe("cancel",t),Qe("close",t),s=n;break;case"iframe":case"object":case"embed":Qe("load",t),s=n;break;case"video":case"audio":for(s=0;s<nc.length;s++)Qe(nc[s],t);s=n;break;case"source":Qe("error",t),s=n;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),s=n;break;case"details":Qe("toggle",t),s=n;break;case"input":b0(t,n),s=Ug(t,n),Qe("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=at({},n,{value:void 0}),Qe("invalid",t);break;case"textarea":T0(t,n),s=Bg(t,n),Qe("invalid",t);break;default:s=n}Wg(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?r1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&e1(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Mc(t,l):typeof l=="number"&&Mc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Qe("scroll",t):l!=null&&ew(t,i,l,o))}switch(r){case"input":hd(t),S0(t,n,!1);break;case"textarea":hd(t),C0(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ei(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?xa(t,!!n.multiple,i,!1):n.defaultValue!=null&&xa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$f)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)TC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(r=ao(Gc.current),ao(jn.current),Ed(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pn]=e,(i=n.nodeValue!==r)&&(t=Nr,t!==null))switch(t.tag){case 3:xd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xd(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pn]=e,e.stateNode=n}return Jt(e),null;case 13:if(Xe(st),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Pr!==null&&e.mode&1&&!(e.flags&128))B1(),Ga(),e.flags|=98560,i=!1;else if(i=Ed(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Pn]=e}else Ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),i=!1}else un!==null&&(Cy(un),un=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?At===0&&(At=3):Mw())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return Qa(),vy(t,e),t===null&&Bc(e.stateNode.containerInfo),Jt(e),null;case 10:return ww(e.type._context),Jt(e),null;case 17:return Sr(e.type)&&zf(),Jt(e),null;case 19:if(Xe(st),i=e.memoizedState,i===null)return Jt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Yl(i,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qf(t),o!==null){for(e.flags|=128,Yl(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return We(st,st.current&1|2),e.child}t=t.sibling}i.tail!==null&&yt()>Xa&&(e.flags|=128,n=!0,Yl(i,!1),e.lanes=4194304)}else{if(!n)if(t=Qf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Jt(e),null}else 2*yt()-i.renderingStartTime>Xa&&r!==1073741824&&(e.flags|=128,n=!0,Yl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,r=st.current,We(st,n?r&1|2:r&1),e):(Jt(e),null);case 22:case 23:return Dw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ir&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function _D(t,e){switch(mw(e),e.tag){case 1:return Sr(e.type)&&zf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qa(),Xe(br),Xe(nr),Sw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bw(e),null;case 13:if(Xe(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(st),null;case 4:return Qa(),null;case 10:return ww(e.type._context),null;case 22:case 23:return Dw(),null;case 24:return null;default:return null}}var Td=!1,tr=!1,xD=typeof WeakSet=="function"?WeakSet:Set,ee=null;function va(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ft(t,e,n)}else r.current=null}function wy(t,e,r){try{r()}catch(n){ft(t,e,n)}}var mE=!1;function ED(t,e){if(ry=Vf,t=R1(),hw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,f=0,h=t,p=null;t:for(;;){for(var g;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===r&&++u===s&&(a=o),p===i&&++f===n&&(l=o),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ny={focusedElem:t,selectionRange:r},Vf=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:sn(e.type,v),b);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(I){ft(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return x=mE,mE=!1,x}function _c(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&wy(e,r,i)}s=s.next}while(s!==n)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _y(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function CC(t){var e=t.alternate;e!==null&&(t.alternate=null,CC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pn],delete e[Wc],delete e[oy],delete e[sD],delete e[iD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IC(t){return t.tag===5||t.tag===3||t.tag===4}function gE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$f));else if(n!==4&&(t=t.child,t!==null))for(xy(t,e,r),t=t.sibling;t!==null;)xy(t,e,r),t=t.sibling}function Ey(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ey(t,e,r),t=t.sibling;t!==null;)Ey(t,e,r),t=t.sibling}var Ut=null,cn=!1;function Ls(t,e,r){for(r=r.child;r!==null;)AC(t,e,r),r=r.sibling}function AC(t,e,r){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Vh,r)}catch{}switch(r.tag){case 5:tr||va(r,e);case 6:var n=Ut,s=cn;Ut=null,Ls(t,e,r),Ut=n,cn=s,Ut!==null&&(cn?(t=Ut,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(cn?(t=Ut,r=r.stateNode,t.nodeType===8?Pm(t.parentNode,r):t.nodeType===1&&Pm(t,r),Uc(t)):Pm(Ut,r.stateNode));break;case 4:n=Ut,s=cn,Ut=r.stateNode.containerInfo,cn=!0,Ls(t,e,r),Ut=n,cn=s;break;case 0:case 11:case 14:case 15:if(!tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&wy(r,e,o),s=s.next}while(s!==n)}Ls(t,e,r);break;case 1:if(!tr&&(va(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ft(r,e,a)}Ls(t,e,r);break;case 21:Ls(t,e,r);break;case 22:r.mode&1?(tr=(n=tr)||r.memoizedState!==null,Ls(t,e,r),tr=n):Ls(t,e,r);break;default:Ls(t,e,r)}}function yE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new xD),e.forEach(function(n){var s=ND.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function tn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,cn=!1;break e;case 3:Ut=a.stateNode.containerInfo,cn=!0;break e;case 4:Ut=a.stateNode.containerInfo,cn=!0;break e}a=a.return}if(Ut===null)throw Error(H(160));AC(i,o,s),Ut=null,cn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ft(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PC(e,t),e=e.sibling}function PC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),bn(t),n&4){try{_c(3,t,t.return),qh(3,t)}catch(v){ft(t,t.return,v)}try{_c(5,t,t.return)}catch(v){ft(t,t.return,v)}}break;case 1:tn(e,t),bn(t),n&512&&r!==null&&va(r,r.return);break;case 5:if(tn(e,t),bn(t),n&512&&r!==null&&va(r,r.return),t.flags&32){var s=t.stateNode;try{Mc(s,"")}catch(v){ft(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&XT(s,i),qg(a,o);var u=qg(a,i);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?r1(s,h):f==="dangerouslySetInnerHTML"?e1(s,h):f==="children"?Mc(s,h):ew(s,f,h,u)}switch(a){case"input":$g(s,i);break;case"textarea":JT(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?xa(s,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?xa(s,!!i.multiple,i.defaultValue,!0):xa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wc]=i}catch(v){ft(t,t.return,v)}}break;case 6:if(tn(e,t),bn(t),n&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ft(t,t.return,v)}}break;case 3:if(tn(e,t),bn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uc(e.containerInfo)}catch(v){ft(t,t.return,v)}break;case 4:tn(e,t),bn(t);break;case 13:tn(e,t),bn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jw=yt())),n&4&&yE(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(tr=(u=tr)||f,tn(e,t),tr=u):tn(e,t),bn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ee=t,f=t.child;f!==null;){for(h=ee=f;ee!==null;){switch(p=ee,g=p.child,p.tag){case 0:case 11:case 14:case 15:_c(4,p,p.return);break;case 1:va(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){ft(n,r,v)}}break;case 5:va(p,p.return);break;case 22:if(p.memoizedState!==null){wE(h);continue}}g!==null?(g.return=p,ee=g):wE(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=t1("display",o))}catch(v){ft(t,t.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ft(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tn(e,t),bn(t),n&4&&yE(t);break;case 21:break;default:tn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(IC(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mc(s,""),n.flags&=-33);var i=gE(t);Ey(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=gE(t);xy(t,a,o);break;default:throw Error(H(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bD(t,e,r){ee=t,RC(t)}function RC(t,e,r){for(var n=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Td;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||tr;a=Td;var u=tr;if(Td=o,(tr=l)&&!u)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?_E(s):l!==null?(l.return=o,ee=l):_E(s);for(;i!==null;)ee=i,RC(i),i=i.sibling;ee=s,Td=a,tr=u}vE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):vE(t)}}function vE(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tr||qh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!tr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:sn(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rE(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}rE(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Uc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}tr||e.flags&512&&_y(e)}catch(p){ft(e,e.return,p)}}if(e===t){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function wE(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function _E(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{qh(4,e)}catch(l){ft(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ft(e,s,l)}}var i=e.return;try{_y(e)}catch(l){ft(e,i,l)}break;case 5:var o=e.return;try{_y(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var SD=Math.ceil,Jf=Is.ReactCurrentDispatcher,Nw=Is.ReactCurrentOwner,Kr=Is.ReactCurrentBatchConfig,Ae=0,Dt=null,bt=null,Ht=0,Ir=0,wa=Di(0),At=0,Xc=null,bo=0,Gh=0,kw=0,xc=null,wr=null,jw=0,Xa=1/0,ts=null,Zf=!1,by=null,fi=null,Cd=!1,si=null,eh=0,Ec=0,Sy=null,tf=-1,rf=0;function ur(){return Ae&6?yt():tf!==-1?tf:tf=yt()}function hi(t){return t.mode&1?Ae&2&&Ht!==0?Ht&-Ht:aD.transition!==null?(rf===0&&(rf=p1()),rf):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:x1(t.type)),t):1}function pn(t,e,r,n){if(50<Ec)throw Ec=0,Sy=null,Error(H(185));_u(t,r,n),(!(Ae&2)||t!==Dt)&&(t===Dt&&(!(Ae&2)&&(Gh|=r),At===4&&qs(t,Ht)),Tr(t,n),r===1&&Ae===0&&!(e.mode&1)&&(Xa=yt()+500,Bh&&Mi()))}function Tr(t,e){var r=t.callbackNode;aO(t,e);var n=Lf(t,t===Dt?Ht:0);if(n===0)r!==null&&P0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&P0(r),e===1)t.tag===0?oD(xE.bind(null,t)):U1(xE.bind(null,t)),rD(function(){!(Ae&6)&&Mi()}),r=null;else{switch(m1(n)){case 1:r=iw;break;case 4:r=f1;break;case 16:r=Mf;break;case 536870912:r=h1;break;default:r=Mf}r=VC(r,NC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function NC(t,e){if(tf=-1,rf=0,Ae&6)throw Error(H(327));var r=t.callbackNode;if(Ca()&&t.callbackNode!==r)return null;var n=Lf(t,t===Dt?Ht:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=th(t,n);else{e=n;var s=Ae;Ae|=2;var i=jC();(Dt!==t||Ht!==e)&&(ts=null,Xa=yt()+500,mo(t,e));do try{ID();break}catch(a){kC(t,a)}while(!0);vw(),Jf.current=i,Ae=s,bt!==null?e=0:(Dt=null,Ht=0,e=At)}if(e!==0){if(e===2&&(s=Xg(t),s!==0&&(n=s,e=Ty(t,s))),e===1)throw r=Xc,mo(t,0),qs(t,n),Tr(t,yt()),r;if(e===6)qs(t,n);else{if(s=t.current.alternate,!(n&30)&&!TD(s)&&(e=th(t,n),e===2&&(i=Xg(t),i!==0&&(n=i,e=Ty(t,i))),e===1))throw r=Xc,mo(t,0),qs(t,n),Tr(t,yt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:eo(t,wr,ts);break;case 3:if(qs(t,n),(n&130023424)===n&&(e=jw+500-yt(),10<e)){if(Lf(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ur(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=iy(eo.bind(null,t,wr,ts),e);break}eo(t,wr,ts);break;case 4:if(qs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-hn(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=yt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SD(n/1960))-n,10<n){t.timeoutHandle=iy(eo.bind(null,t,wr,ts),n);break}eo(t,wr,ts);break;case 5:eo(t,wr,ts);break;default:throw Error(H(329))}}}return Tr(t,yt()),t.callbackNode===r?NC.bind(null,t):null}function Ty(t,e){var r=xc;return t.current.memoizedState.isDehydrated&&(mo(t,e).flags|=256),t=th(t,e),t!==2&&(e=wr,wr=r,e!==null&&Cy(e)),t}function Cy(t){wr===null?wr=t:wr.push.apply(wr,t)}function TD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qs(t,e){for(e&=~kw,e&=~Gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-hn(e),n=1<<r;t[r]=-1,e&=~n}}function xE(t){if(Ae&6)throw Error(H(327));Ca();var e=Lf(t,0);if(!(e&1))return Tr(t,yt()),null;var r=th(t,e);if(t.tag!==0&&r===2){var n=Xg(t);n!==0&&(e=n,r=Ty(t,n))}if(r===1)throw r=Xc,mo(t,0),qs(t,e),Tr(t,yt()),r;if(r===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,eo(t,wr,ts),Tr(t,yt()),null}function Ow(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(Xa=yt()+500,Bh&&Mi())}}function So(t){si!==null&&si.tag===0&&!(Ae&6)&&Ca();var e=Ae;Ae|=1;var r=Kr.transition,n=Ue;try{if(Kr.transition=null,Ue=1,t)return t()}finally{Ue=n,Kr.transition=r,Ae=e,!(Ae&6)&&Mi()}}function Dw(){Ir=wa.current,Xe(wa)}function mo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,tD(r)),bt!==null)for(r=bt.return;r!==null;){var n=r;switch(mw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zf();break;case 3:Qa(),Xe(br),Xe(nr),Sw();break;case 5:bw(n);break;case 4:Qa();break;case 13:Xe(st);break;case 19:Xe(st);break;case 10:ww(n.type._context);break;case 22:case 23:Dw()}r=r.return}if(Dt=t,bt=t=pi(t.current,null),Ht=Ir=e,At=0,Xc=null,kw=Gh=bo=0,wr=xc=null,oo!==null){for(e=0;e<oo.length;e++)if(r=oo[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}oo=null}return t}function kC(t,e){do{var r=bt;try{if(vw(),Jd.current=Xf,Yf){for(var n=it.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yf=!1}if(Eo=0,jt=It=it=null,wc=!1,Kc=0,Nw.current=null,r===null||r.return===null){At=1,Xc=e,bt=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=lE(o);if(g!==null){g.flags&=-257,cE(g,o,a,i,e),g.mode&1&&aE(i,u,e),e=g,l=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){aE(i,u,e),Mw();break e}l=Error(H(426))}}else if(tt&&a.mode&1){var b=lE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),cE(b,o,a,i,e),gw(Ya(l,a));break e}}i=l=Ya(l,a),At!==4&&(At=2),xc===null?xc=[i]:xc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=mC(i,l,e);tE(i,_);break e;case 1:a=l;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(fi===null||!fi.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=gC(i,a,e);tE(i,I);break e}}i=i.return}while(i!==null)}DC(r)}catch(N){e=N,bt===r&&r!==null&&(bt=r=r.return);continue}break}while(!0)}function jC(){var t=Jf.current;return Jf.current=Xf,t===null?Xf:t}function Mw(){(At===0||At===3||At===2)&&(At=4),Dt===null||!(bo&268435455)&&!(Gh&268435455)||qs(Dt,Ht)}function th(t,e){var r=Ae;Ae|=2;var n=jC();(Dt!==t||Ht!==e)&&(ts=null,mo(t,e));do try{CD();break}catch(s){kC(t,s)}while(!0);if(vw(),Ae=r,Jf.current=n,bt!==null)throw Error(H(261));return Dt=null,Ht=0,At}function CD(){for(;bt!==null;)OC(bt)}function ID(){for(;bt!==null&&!J2();)OC(bt)}function OC(t){var e=LC(t.alternate,t,Ir);t.memoizedProps=t.pendingProps,e===null?DC(t):bt=e,Nw.current=null}function DC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=_D(r,e),r!==null){r.flags&=32767,bt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,bt=null;return}}else if(r=wD(r,e,Ir),r!==null){bt=r;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);At===0&&(At=5)}function eo(t,e,r){var n=Ue,s=Kr.transition;try{Kr.transition=null,Ue=1,AD(t,e,r,n)}finally{Kr.transition=s,Ue=n}return null}function AD(t,e,r,n){do Ca();while(si!==null);if(Ae&6)throw Error(H(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(lO(t,i),t===Dt&&(bt=Dt=null,Ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cd||(Cd=!0,VC(Mf,function(){return Ca(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Kr.transition,Kr.transition=null;var o=Ue;Ue=1;var a=Ae;Ae|=4,Nw.current=null,ED(t,r),PC(r,t),KO(ny),Vf=!!ry,ny=ry=null,t.current=r,bD(r),Z2(),Ae=a,Ue=o,Kr.transition=i}else t.current=r;if(Cd&&(Cd=!1,si=t,eh=s),i=t.pendingLanes,i===0&&(fi=null),rO(r.stateNode),Tr(t,yt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Zf)throw Zf=!1,t=by,by=null,t;return eh&1&&t.tag!==0&&Ca(),i=t.pendingLanes,i&1?t===Sy?Ec++:(Ec=0,Sy=t):Ec=0,Mi(),null}function Ca(){if(si!==null){var t=m1(eh),e=Kr.transition,r=Ue;try{if(Kr.transition=null,Ue=16>t?16:t,si===null)var n=!1;else{if(t=si,si=null,eh=0,Ae&6)throw Error(H(331));var s=Ae;for(Ae|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var f=ee;switch(f.tag){case 0:case 11:case 15:_c(8,f,i)}var h=f.child;if(h!==null)h.return=f,ee=h;else for(;ee!==null;){f=ee;var p=f.sibling,g=f.return;if(CC(f),f===u){ee=null;break}if(p!==null){p.return=g,ee=p;break}ee=g}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_c(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ee=_;break e}ee=i.return}}var w=t.current;for(ee=w;ee!==null;){o=ee;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ee=S;else e:for(o=w;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qh(9,a)}}catch(N){ft(a,a.return,N)}if(a===o){ee=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ee=I;break e}ee=a.return}}if(Ae=s,Mi(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Vh,t)}catch{}n=!0}return n}finally{Ue=r,Kr.transition=e}}return!1}function EE(t,e,r){e=Ya(r,e),e=mC(t,e,1),t=di(t,e,1),e=ur(),t!==null&&(_u(t,1,e),Tr(t,e))}function ft(t,e,r){if(t.tag===3)EE(t,t,r);else for(;e!==null;){if(e.tag===3){EE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fi===null||!fi.has(n))){t=Ya(r,t),t=gC(e,t,1),e=di(e,t,1),t=ur(),e!==null&&(_u(e,1,t),Tr(e,t));break}}e=e.return}}function PD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ur(),t.pingedLanes|=t.suspendedLanes&r,Dt===t&&(Ht&r)===r&&(At===4||At===3&&(Ht&130023424)===Ht&&500>yt()-jw?mo(t,0):kw|=r),Tr(t,e)}function MC(t,e){e===0&&(t.mode&1?(e=gd,gd<<=1,!(gd&130023424)&&(gd=4194304)):e=1);var r=ur();t=vs(t,e),t!==null&&(_u(t,e,r),Tr(t,r))}function RD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),MC(t,r)}function ND(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),MC(t,r)}var LC;LC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||br.current)Er=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Er=!1,vD(t,e,r);Er=!!(t.flags&131072)}else Er=!1,tt&&e.flags&1048576&&$1(e,Wf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ef(t,e),t=e.pendingProps;var s=qa(e,nr.current);Ta(e,r),s=Cw(null,e,n,t,s,r);var i=Iw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(n)?(i=!0,Bf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xw(e),s.updater=Wh,e.stateNode=s,s._reactInternals=e,fy(e,n,t,r),e=my(null,e,n,!0,i,r)):(e.tag=0,tt&&i&&pw(e),or(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ef(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=jD(n),t=sn(n,t),s){case 0:e=py(null,e,n,t,r);break e;case 1:e=fE(null,e,n,t,r);break e;case 11:e=uE(null,e,n,t,r);break e;case 14:e=dE(null,e,n,sn(n.type,t),r);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sn(n,s),py(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sn(n,s),fE(t,e,n,s,r);case 3:e:{if(_C(e),t===null)throw Error(H(387));n=e.pendingProps,i=e.memoizedState,s=i.element,G1(t,e),Kf(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ya(Error(H(423)),e),e=hE(t,e,n,r,s);break e}else if(n!==s){s=Ya(Error(H(424)),e),e=hE(t,e,n,r,s);break e}else for(Pr=ui(e.stateNode.containerInfo.firstChild),Nr=e,tt=!0,un=null,r=W1(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ga(),n===s){e=ws(t,e,r);break e}or(t,e,n,r)}e=e.child}return e;case 5:return K1(e),t===null&&cy(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,sy(n,s)?o=null:i!==null&&sy(n,i)&&(e.flags|=32),wC(t,e),or(t,e,o,r),e.child;case 6:return t===null&&cy(e),null;case 13:return xC(t,e,r);case 4:return Ew(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ka(e,null,n,r):or(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sn(n,s),uE(t,e,n,s,r);case 7:return or(t,e,e.pendingProps,r),e.child;case 8:return or(t,e,e.pendingProps.children,r),e.child;case 12:return or(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(qf,n._currentValue),n._currentValue=o,i!==null)if(gn(i.value,o)){if(i.children===s.children&&!br.current){e=ws(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ls(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),uy(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),uy(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}or(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ta(e,r),s=Qr(s),n=n(s),e.flags|=1,or(t,e,n,r),e.child;case 14:return n=e.type,s=sn(n,e.pendingProps),s=sn(n.type,s),dE(t,e,n,s,r);case 15:return yC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:sn(n,s),ef(t,e),e.tag=1,Sr(n)?(t=!0,Bf(e)):t=!1,Ta(e,r),pC(e,n,s),fy(e,n,s,r),my(null,e,n,!0,t,r);case 19:return EC(t,e,r);case 22:return vC(t,e,r)}throw Error(H(156,e.tag))};function VC(t,e){return d1(t,e)}function kD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(t,e,r,n){return new kD(t,e,r,n)}function Lw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jD(t){if(typeof t=="function")return Lw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rw)return 11;if(t===nw)return 14}return 2}function pi(t,e){var r=t.alternate;return r===null?(r=Gr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function nf(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Lw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ca:return go(r.children,s,i,e);case tw:o=8,s|=8;break;case Mg:return t=Gr(12,r,e,s|2),t.elementType=Mg,t.lanes=i,t;case Lg:return t=Gr(13,r,e,s),t.elementType=Lg,t.lanes=i,t;case Vg:return t=Gr(19,r,e,s),t.elementType=Vg,t.lanes=i,t;case KT:return Kh(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qT:o=10;break e;case GT:o=9;break e;case rw:o=11;break e;case nw:o=14;break e;case Bs:o=16,n=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Gr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function go(t,e,r,n){return t=Gr(7,t,n,e),t.lanes=r,t}function Kh(t,e,r,n){return t=Gr(22,t,n,e),t.elementType=KT,t.lanes=r,t.stateNode={isHidden:!1},t}function Lm(t,e,r){return t=Gr(6,t,null,e),t.lanes=r,t}function Vm(t,e,r){return e=Gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OD(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vw(t,e,r,n,s,i,o,a,l){return t=new OD(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Gr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xw(i),t}function DD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function FC(t){if(!t)return bi;t=t._reactInternals;e:{if(Fo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var r=t.type;if(Sr(r))return F1(t,r,e)}return e}function UC(t,e,r,n,s,i,o,a,l){return t=Vw(r,n,!0,t,s,i,o,a,l),t.context=FC(null),r=t.current,n=ur(),s=hi(r),i=ls(n,s),i.callback=e??null,di(r,i,s),t.current.lanes=s,_u(t,s,n),Tr(t,n),t}function Qh(t,e,r,n){var s=e.current,i=ur(),o=hi(s);return r=FC(r),e.context===null?e.context=r:e.pendingContext=r,e=ls(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=di(s,e,o),t!==null&&(pn(t,s,o,i),Xd(t,s,o)),o}function rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Fw(t,e){bE(t,e),(t=t.alternate)&&bE(t,e)}function MD(){return null}var $C=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uw(t){this._internalRoot=t}Yh.prototype.render=Uw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Qh(t,e,null,null)};Yh.prototype.unmount=Uw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;So(function(){Qh(null,t,null,null)}),e[ys]=null}};function Yh(t){this._internalRoot=t}Yh.prototype.unstable_scheduleHydration=function(t){if(t){var e=v1();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ws.length&&e!==0&&e<Ws[r].priority;r++);Ws.splice(r,0,t),r===0&&_1(t)}};function $w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SE(){}function LD(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=rh(o);i.call(u)}}var o=UC(e,n,t,0,null,!1,!1,"",SE);return t._reactRootContainer=o,t[ys]=o.current,Bc(t.nodeType===8?t.parentNode:t),So(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=rh(l);a.call(u)}}var l=Vw(t,0,!1,null,null,!1,!1,"",SE);return t._reactRootContainer=l,t[ys]=l.current,Bc(t.nodeType===8?t.parentNode:t),So(function(){Qh(e,l,r,n)}),l}function Jh(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=rh(o);a.call(l)}}Qh(e,o,t,s)}else o=LD(r,e,t,s,n);return rh(o)}g1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=rc(e.pendingLanes);r!==0&&(ow(e,r|1),Tr(e,yt()),!(Ae&6)&&(Xa=yt()+500,Mi()))}break;case 13:So(function(){var n=vs(t,1);if(n!==null){var s=ur();pn(n,t,1,s)}}),Fw(t,1)}};aw=function(t){if(t.tag===13){var e=vs(t,134217728);if(e!==null){var r=ur();pn(e,t,134217728,r)}Fw(t,134217728)}};y1=function(t){if(t.tag===13){var e=hi(t),r=vs(t,e);if(r!==null){var n=ur();pn(r,t,e,n)}Fw(t,e)}};v1=function(){return Ue};w1=function(t,e){var r=Ue;try{return Ue=t,e()}finally{Ue=r}};Kg=function(t,e,r){switch(e){case"input":if($g(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=zh(n);if(!s)throw Error(H(90));YT(n),$g(n,s)}}}break;case"textarea":JT(t,r);break;case"select":e=r.value,e!=null&&xa(t,!!r.multiple,e,!1)}};i1=Ow;o1=So;var VD={usingClientEntryPoint:!1,Events:[Eu,ha,zh,n1,s1,Ow]},Xl={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FD={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=c1(t),t===null?null:t.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||MD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Vh=Id.inject(FD),kn=Id}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VD;Lr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$w(e))throw Error(H(200));return DD(t,e,null,r)};Lr.createRoot=function(t,e){if(!$w(t))throw Error(H(299));var r=!1,n="",s=$C;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Vw(t,1,!1,null,null,r,!1,n,s),t[ys]=e.current,Bc(t.nodeType===8?t.parentNode:t),new Uw(e)};Lr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=c1(e),t=t===null?null:t.stateNode,t};Lr.flushSync=function(t){return So(t)};Lr.hydrate=function(t,e,r){if(!Xh(e))throw Error(H(200));return Jh(null,t,e,!0,r)};Lr.hydrateRoot=function(t,e,r){if(!$w(t))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=$C;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=UC(e,null,t,1,r??null,s,!1,i,o),t[ys]=e.current,Bc(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Yh(e)};Lr.render=function(t,e,r){if(!Xh(e))throw Error(H(200));return Jh(null,t,e,!1,r)};Lr.unmountComponentAtNode=function(t){if(!Xh(t))throw Error(H(40));return t._reactRootContainer?(So(function(){Jh(null,null,t,!1,function(){t._reactRootContainer=null,t[ys]=null})}),!0):!1};Lr.unstable_batchedUpdates=Ow;Lr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Xh(r))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Jh(t,e,r,!1,n)};Lr.version="18.3.1-next-f1338f8080-20240426";function zC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zC)}catch(t){console.error(t)}}zC(),zT.exports=Lr;var Uo=zT.exports;const BC=RT(Uo);var HC,TE=Uo;HC=TE.createRoot,TE.hydrateRoot;const UD=({message:t="Cargando aplicacin..."})=>d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),d.jsx("p",{className:"mt-4 text-muted-foreground",children:t})]})});function $D(t,e){const r=y.createContext(e),n=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return d.jsx(r.Provider,{value:l,children:o})};n.displayName=t+"Provider";function s(i){const o=y.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Hn(t,e=[]){let r=[];function n(i,o){const a=y.createContext(o),l=r.length;r=[...r,o];const u=h=>{var _;const{scope:p,children:g,...x}=h,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,b=y.useMemo(()=>x,Object.values(x));return d.jsx(v.Provider,{value:b,children:g})};u.displayName=i+"Provider";function f(h,p){var v;const g=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,x=y.useContext(g);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[n,zD(s,...e)]}function zD(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Or(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}var Ct=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function CE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WC(...t){return e=>{let r=!1;const n=t.map(s=>{const i=CE(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():CE(t[s],null)}}}}function qe(...t){return y.useCallback(WC(...t),t)}function Ja(t){const e=BD(t),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,a=y.Children.toArray(i),l=a.find(WD);if(l){const u=l.props.children,f=a.map(h=>h===l?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:h);return d.jsx(e,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,f):null})}return d.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var gl=Ja("Slot");function BD(t){const e=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=GD(s),a=qD(i,s.props);return s.type!==y.Fragment&&(a.ref=n?WC(n,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qC=Symbol("radix.slottable");function HD(t){const e=({children:r})=>d.jsx(d.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=qC,e}function WD(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qC}function qD(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function GD(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var KD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=KD.reduce((t,e)=>{const r=Ja(`Primitive.${e}`),n=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function GC(t,e){t&&Uo.flushSync(()=>t.dispatchEvent(e))}var KC={exports:{}},QC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=y;function QD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var YD=typeof Object.is=="function"?Object.is:QD,XD=Za.useState,JD=Za.useEffect,ZD=Za.useLayoutEffect,eM=Za.useDebugValue;function tM(t,e){var r=e(),n=XD({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return ZD(function(){s.value=r,s.getSnapshot=e,Fm(s)&&i({inst:s})},[t,r,e]),JD(function(){return Fm(s)&&i({inst:s}),t(function(){Fm(s)&&i({inst:s})})},[t]),eM(r),r}function Fm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!YD(t,r)}catch{return!0}}function rM(t,e){return e()}var nM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rM:tM;QC.useSyncExternalStore=Za.useSyncExternalStore!==void 0?Za.useSyncExternalStore:nM;KC.exports=QC;var sM=KC.exports;function iM(){return sM.useSyncExternalStore(oM,()=>!0,()=>!1)}function oM(){return()=>{}}var zw="Avatar",[aM,uG]=Hn(zw),[lM,YC]=aM(zw),XC=y.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,i]=y.useState("idle");return d.jsx(lM,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(de.span,{...n,ref:e})})});XC.displayName=zw;var JC="AvatarImage",ZC=y.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=t,o=YC(JC,r),a=cM(n,i),l=Or(u=>{s(u),o.onImageLoadingStatusChange(u)});return Ct(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(de.img,{...i,ref:e,src:n}):null});ZC.displayName=JC;var eI="AvatarFallback",tI=y.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,i=YC(eI,r),[o,a]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(l)}},[n]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(de.span,{...s,ref:e}):null});tI.displayName=eI;function IE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function cM(t,{referrerPolicy:e,crossOrigin:r}){const n=iM(),s=y.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>IE(i,t));return Ct(()=>{a(IE(i,t))},[i,t]),Ct(()=>{const l=h=>()=>{a(h)};if(!i)return;const u=l("loaded"),f=l("error");return i.addEventListener("load",u),i.addEventListener("error",f),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,e]),o}var rI=XC,nI=ZC,sI=tI;function iI(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=iI(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function oI(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=iI(t))&&(n&&(n+=" "),n+=e);return n}const Bw="-",uM=t=>{const e=fM(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(Bw);return a[0]===""&&a.length!==1&&a.shift(),aI(a,e)||dM(o)},getConflictingClassGroupIds:(o,a)=>{const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}}},aI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?aI(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Bw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},AE=/^\[(.+)\]$/,dM=t=>{if(AE.test(t)){const e=AE.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},fM=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return pM(Object.entries(t.classGroups),r).forEach(([i,o])=>{Iy(o,n,i,e)}),n},Iy=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:PE(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(hM(s)){Iy(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Iy(o,PE(e,i),r,n)})})},PE=(t,e)=>{let r=t;return e.split(Bw).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hM=t=>t.isThemeGetter,pM=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t,mM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},lI="!",gM=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,f=0,h;for(let b=0;b<a.length;b++){let _=a[b];if(u===0){if(_===s&&(n||a.slice(b,b+i)===e)){l.push(a.slice(f,b)),f=b+i;continue}if(_==="/"){h=b;continue}}_==="["?u++:_==="]"&&u--}const p=l.length===0?a:a.substring(f),g=p.startsWith(lI),x=g?p.substring(1):p,v=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:o}):o},yM=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},vM=t=>({cache:mM(t.cacheSize),parseClassName:gM(t),...uM(t)}),wM=/\s+/,_M=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(wM);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=r(u);let x=!!g,v=n(x?p.substring(0,g):p);if(!v){if(!x){a=u+(a.length>0?" "+a:a);continue}if(v=n(p),!v){a=u+(a.length>0?" "+a:a);continue}x=!1}const b=yM(f).join(":"),_=h?b+lI:b,w=_+v;if(i.includes(w))continue;i.push(w);const S=s(v,x);for(let I=0;I<S.length;++I){const N=S[I];i.push(_+N)}a=u+(a.length>0?" "+a:a)}return a};function xM(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=cI(e))&&(n&&(n+=" "),n+=r);return n}const cI=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=cI(t[n]))&&(r&&(r+=" "),r+=e);return r};function EM(t,...e){let r,n,s,i=o;function o(l){const u=e.reduce((f,h)=>h(f),t());return r=vM(u),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const u=n(l);if(u)return u;const f=_M(l,r);return s(l,f),f}return function(){return i(xM.apply(null,arguments))}}const Ke=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},uI=/^\[(?:([a-z-]+):)?(.+)\]$/i,bM=/^\d+\/\d+$/,SM=new Set(["px","full","screen"]),TM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=t=>Ia(t)||SM.has(t)||bM.test(t),Vs=t=>yl(t,"length",LM),Ia=t=>!!t&&!Number.isNaN(Number(t)),Um=t=>yl(t,"number",Ia),Jl=t=>!!t&&Number.isInteger(Number(t)),RM=t=>t.endsWith("%")&&Ia(t.slice(0,-1)),ye=t=>uI.test(t),Fs=t=>TM.test(t),NM=new Set(["length","size","percentage"]),kM=t=>yl(t,NM,dI),jM=t=>yl(t,"position",dI),OM=new Set(["image","url"]),DM=t=>yl(t,OM,FM),MM=t=>yl(t,"",VM),Zl=()=>!0,yl=(t,e,r)=>{const n=uI.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},LM=t=>CM.test(t)&&!IM.test(t),dI=()=>!1,VM=t=>AM.test(t),FM=t=>PM.test(t),UM=()=>{const t=Ke("colors"),e=Ke("spacing"),r=Ke("blur"),n=Ke("brightness"),s=Ke("borderColor"),i=Ke("borderRadius"),o=Ke("borderSpacing"),a=Ke("borderWidth"),l=Ke("contrast"),u=Ke("grayscale"),f=Ke("hueRotate"),h=Ke("invert"),p=Ke("gap"),g=Ke("gradientColorStops"),x=Ke("gradientColorStopPositions"),v=Ke("inset"),b=Ke("margin"),_=Ke("opacity"),w=Ke("padding"),S=Ke("saturate"),I=Ke("scale"),N=Ke("sepia"),D=Ke("skew"),C=Ke("space"),T=Ke("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ye,e],O=()=>[ye,e],j=()=>["",Jn,Vs],B=()=>["auto",Ia,ye],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ye],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Ia,ye];return{cacheSize:500,separator:":",theme:{colors:[Zl],spacing:[Jn,Vs],blur:["none","",Fs,ye],brightness:oe(),borderColor:[t],borderRadius:["none","","full",Fs,ye],borderSpacing:O(),borderWidth:j(),contrast:oe(),grayscale:U(),hueRotate:oe(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[RM,Vs],inset:k(),margin:k(),opacity:oe(),padding:O(),saturate:oe(),scale:oe(),sepia:U(),skew:oe(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Fs]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ye]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jl,ye]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Jl,ye]}],"grid-cols":[{"grid-cols":[Zl]}],"col-start-end":[{col:["auto",{span:["full",Jl,ye]},ye]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Zl]}],"row-start-end":[{row:["auto",{span:[Jl,ye]},ye]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[Fs]},Fs]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fs,Vs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Um]}],"font-family":[{font:[Zl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",Ia,Um]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jn,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jn,Vs]}],"underline-offset":[{"underline-offset":["auto",Jn,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),jM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Jn,ye]}],"outline-w":[{outline:[Jn,Vs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Jn,Vs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fs,MM]}],"shadow-color":[{shadow:[Zl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Fs,ye]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Jl,ye]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jn,Vs,Um]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$M=EM(UM);function X(...t){return $M(oI(t))}const fI=y.forwardRef(({className:t,...e},r)=>d.jsx(rI,{ref:r,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));fI.displayName=rI.displayName;const zM=y.forwardRef(({className:t,...e},r)=>d.jsx(nI,{ref:r,className:X("aspect-square h-full w-full",t),...e}));zM.displayName=nI.displayName;const hI=y.forwardRef(({className:t,...e},r)=>d.jsx(sI,{ref:r,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));hI.displayName=sI.displayName;const RE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,NE=oI,$o=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return NE(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],h=i==null?void 0:i[u];if(f===null)return null;const p=RE(f)||RE(h);return s[u][p]}),a=r&&Object.entries(r).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:h,className:p,...g}=f;return Object.entries(g).every(x=>{let[v,b]=x;return Array.isArray(b)?b.includes({...i,...a}[v]):{...i,...a}[v]===b})?[...u,h,p]:u},[]);return NE(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},BM=$o("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=y.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?gl:"button";return d.jsx(o,{className:X(BM({variant:e,size:r,className:t})),ref:i,...s})});Fe.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...WM,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:pI("lucide",s),...a},[...o.map(([u,f])=>y.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const r=y.forwardRef(({className:n,...s},i)=>y.createElement(qM,{ref:i,iconNode:e,className:pI(`lucide-${HM(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=nt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=nt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=nt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=nt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=nt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=nt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Hm=768;function tL(){const[t,e]=y.useState(void 0);return y.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Hm-1}px)`),n=()=>{e(window.innerWidth<Hm)};return r.addEventListener("change",n),e(window.innerWidth<Hm),()=>r.removeEventListener("change",n)},[]),!!t}const ar=y.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ar.displayName="Input";var rL="Separator",OE="horizontal",nL=["horizontal","vertical"],yI=y.forwardRef((t,e)=>{const{decorative:r,orientation:n=OE,...s}=t,i=sL(n)?n:OE,a=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(de.div,{"data-orientation":i,...a,...s,ref:e})});yI.displayName=rL;function sL(t){return nL.includes(t)}var vI=yI;const wI=y.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>d.jsx(vI,{ref:s,decorative:r,orientation:e,className:X("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));wI.displayName=vI.displayName;function ie(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var iL=Xv[" useId ".trim().toString()]||(()=>{}),oL=0;function cs(t){const[e,r]=y.useState(iL());return Ct(()=>{r(n=>n??String(oL++))},[t]),t||(e?`radix-${e}`:"")}var aL=Xv[" useInsertionEffect ".trim().toString()]||Ct;function To({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=lL({defaultProp:e,onChange:r}),a=t!==void 0,l=a?t:s;{const f=y.useRef(t!==void 0);y.useEffect(()=>{const h=f.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,n])}const u=y.useCallback(f=>{var h;if(a){const p=cL(f)?f(t):f;p!==t&&((h=o.current)==null||h.call(o,p))}else i(f)},[a,t,i,o]);return[l,u]}function lL({defaultProp:t,onChange:e}){const[r,n]=y.useState(t),s=y.useRef(r),i=y.useRef(e);return aL(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function cL(t){return typeof t=="function"}function uL(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var dL="DismissableLayer",Ry="dismissableLayer.update",fL="dismissableLayer.pointerDownOutside",hL="dismissableLayer.focusOutside",DE,_I=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Su=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=y.useContext(_I),[f,h]=y.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),x=qe(e,C=>h(C)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(b),w=f?v.indexOf(f):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,I=w>=_,N=mL(C=>{const T=C.target,P=[...u.branches].some(A=>A.contains(T));!I||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),D=gL(C=>{const T=C.target;[...u.branches].some(A=>A.contains(T))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return uL(C=>{w===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),y.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),ME(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=DE)}},[f,p,r,u]),y.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),ME())},[f,u]),y.useEffect(()=>{const C=()=>g({});return document.addEventListener(Ry,C),()=>document.removeEventListener(Ry,C)},[]),d.jsx(de.div,{...l,ref:x,style:{pointerEvents:S?I?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,D.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,N.onPointerDownCapture)})});Su.displayName=dL;var pL="DismissableLayerBranch",xI=y.forwardRef((t,e)=>{const r=y.useContext(_I),n=y.useRef(null),s=qe(e,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),d.jsx(de.div,{...t,ref:s})});xI.displayName=pL;function mL(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let l=function(){EI(fL,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function gL(t,e=globalThis==null?void 0:globalThis.document){const r=Or(t),n=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!n.current&&EI(hL,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ME(){const t=new CustomEvent(Ry);document.dispatchEvent(t)}function EI(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?GC(s,i):s.dispatchEvent(i)}var yL=Su,vL=xI,Wm="focusScope.autoFocusOnMount",qm="focusScope.autoFocusOnUnmount",LE={bubbles:!1,cancelable:!0},wL="FocusScope",Ww=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),u=Or(s),f=Or(i),h=y.useRef(null),p=qe(e,v=>l(v)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let v=function(S){if(g.paused||!a)return;const I=S.target;a.contains(I)?h.current=I:$s(h.current,{select:!0})},b=function(S){if(g.paused||!a)return;const I=S.relatedTarget;I!==null&&(a.contains(I)||$s(h.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const N of S)N.removedNodes.length>0&&$s(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),w.disconnect()}}},[n,a,g.paused]),y.useEffect(()=>{if(a){FE.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Wm,LE);a.addEventListener(Wm,u),a.dispatchEvent(_),_.defaultPrevented||(_L(TL(bI(a)),{select:!0}),document.activeElement===v&&$s(a))}return()=>{a.removeEventListener(Wm,u),setTimeout(()=>{const _=new CustomEvent(qm,LE);a.addEventListener(qm,f),a.dispatchEvent(_),_.defaultPrevented||$s(v??document.body,{select:!0}),a.removeEventListener(qm,f),FE.remove(g)},0)}}},[a,u,f,g]);const x=y.useCallback(v=>{if(!r&&!n||g.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(b&&_){const w=v.currentTarget,[S,I]=xL(w);S&&I?!v.shiftKey&&_===I?(v.preventDefault(),r&&$s(S,{select:!0})):v.shiftKey&&_===S&&(v.preventDefault(),r&&$s(I,{select:!0})):_===w&&v.preventDefault()}},[r,n,g.paused]);return d.jsx(de.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});Ww.displayName=wL;function _L(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if($s(n,{select:e}),document.activeElement!==r)return}function xL(t){const e=bI(t),r=VE(e,t),n=VE(e.reverse(),t);return[r,n]}function bI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function VE(t,e){for(const r of t)if(!EL(r,{upTo:e}))return r}function EL(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bL(t){return t instanceof HTMLInputElement&&"select"in t}function $s(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&bL(t)&&e&&t.select()}}var FE=SL();function SL(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=UE(t,e),t.unshift(e)},remove(e){var r;t=UE(t,e),(r=t[0])==null||r.resume()}}}function UE(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function TL(t){return t.filter(e=>e.tagName!=="A")}var CL="Portal",Zh=y.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[s,i]=y.useState(!1);Ct(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?BC.createPortal(d.jsx(de.div,{...n,ref:e}),o):null});Zh.displayName=CL;function IL(t,e){return y.useReducer((r,n)=>e[r][n]??r,t)}var zo=t=>{const{present:e,children:r}=t,n=AL(e),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=qe(n.ref,PL(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:i}):null};zo.displayName="Presence";function AL(t){const[e,r]=y.useState(),n=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=IL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Ad(n.current);i.current=a==="mounted"?u:"none"},[a]),Ct(()=>{const u=n.current,f=s.current;if(f!==t){const p=i.current,g=Ad(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ct(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=g=>{const v=Ad(n.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},p=g=>{g.target===e&&(i.current=Ad(n.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ad(t){return(t==null?void 0:t.animationName)||"none"}function PL(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Gm=0;function SI(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$E()),document.body.insertAdjacentElement("beforeend",t[1]??$E()),Gm++,()=>{Gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gm--}},[])}function $E(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rn=function(){return Rn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Rn.apply(this,arguments)};function TI(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function RL(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var sf="right-scroll-bar-position",of="width-before-scroll-bar",NL="with-scroll-bars-hidden",kL="--removed-body-scroll-bar-size";function Km(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jL(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var OL=typeof window<"u"?y.useLayoutEffect:y.useEffect,zE=new WeakMap;function DL(t,e){var r=jL(null,function(n){return t.forEach(function(s){return Km(s,n)})});return OL(function(){var n=zE.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(a){i.has(a)||Km(a,null)}),i.forEach(function(a){s.has(a)||Km(a,o)})}zE.set(r,t)},[t]),r}function ML(t){return t}function LL(t,e){e===void 0&&(e=ML);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var l=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return s}function VL(t){t===void 0&&(t={});var e=LL(null);return e.options=Rn({async:!0,ssr:!1},t),e}var CI=function(t){var e=t.sideCar,r=TI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Rn({},r))};CI.isSideCarExport=!0;function FL(t,e){return t.useMedium(e),CI}var II=VL(),Qm=function(){},ep=y.forwardRef(function(t,e){var r=y.useRef(null),n=y.useState({onScrollCapture:Qm,onWheelCapture:Qm,onTouchMoveCapture:Qm}),s=n[0],i=n[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,p=t.sideCar,g=t.noRelative,x=t.noIsolation,v=t.inert,b=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,S=t.gapMode,I=TI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,D=DL([r,e]),C=Rn(Rn({},I),s);return y.createElement(y.Fragment,null,f&&y.createElement(N,{sideCar:II,removeScrollBar:u,shards:h,noRelative:g,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:S}),o?y.cloneElement(y.Children.only(a),Rn(Rn({},C),{ref:D})):y.createElement(w,Rn({},C,{className:l,ref:D}),a))});ep.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ep.classNames={fullWidth:of,zeroRight:sf};var UL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $L(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=UL();return e&&t.setAttribute("nonce",e),t}function zL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function BL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var HL=function(){var t=0,e=null;return{add:function(r){t==0&&(e=$L())&&(zL(e,r),BL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},WL=function(){var t=HL();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},AI=function(){var t=WL(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},qL={left:0,top:0,right:0,gap:0},Ym=function(t){return parseInt(t||"",10)||0},GL=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ym(r),Ym(n),Ym(s)]},KL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qL;var e=GL(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},QL=AI(),Ra="data-scroll-locked",YL=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(NL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Ra,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sf,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(of,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(of," .").concat(of,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ra,`] {
    `).concat(kL,": ").concat(a,`px;
  }
`)},BE=function(){var t=parseInt(document.body.getAttribute(Ra)||"0",10);return isFinite(t)?t:0},XL=function(){y.useEffect(function(){return document.body.setAttribute(Ra,(BE()+1).toString()),function(){var t=BE()-1;t<=0?document.body.removeAttribute(Ra):document.body.setAttribute(Ra,t.toString())}},[])},JL=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;XL();var i=y.useMemo(function(){return KL(s)},[s]);return y.createElement(QL,{styles:YL(i,!e,s,r?"":"!important")})},Ny=!1;if(typeof window<"u")try{var Pd=Object.defineProperty({},"passive",{get:function(){return Ny=!0,!0}});window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{Ny=!1}var ta=Ny?{passive:!1}:!1,ZL=function(t){return t.tagName==="TEXTAREA"},PI=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZL(t)&&r[e]==="visible")},eV=function(t){return PI(t,"overflowY")},tV=function(t){return PI(t,"overflowX")},HE=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=RI(t,n);if(s){var i=NI(t,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},rV=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},nV=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},RI=function(t,e){return t==="v"?eV(e):tV(e)},NI=function(t,e){return t==="v"?rV(e):nV(e)},sV=function(t,e){return t==="h"&&e==="rtl"?-1:1},iV=function(t,e,r,n,s){var i=sV(t,window.getComputedStyle(e).direction),o=i*n,a=r.target,l=e.contains(a),u=!1,f=o>0,h=0,p=0;do{if(!a)break;var g=NI(t,a),x=g[0],v=g[1],b=g[2],_=v-b-i*x;(x||_)&&RI(t,a)&&(h+=_,p+=x);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(u=!0),u},Rd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},WE=function(t){return[t.deltaX,t.deltaY]},qE=function(t){return t&&"current"in t?t.current:t},oV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},aV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lV=0,ra=[];function cV(t){var e=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(lV++)[0],i=y.useState(AI)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=RL([t.lockRef.current],(t.shards||[]).map(qE),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=Rd(v),w=r.current,S="deltaX"in v?v.deltaX:w[0]-_[0],I="deltaY"in v?v.deltaY:w[1]-_[1],N,D=v.target,C=Math.abs(S)>Math.abs(I)?"h":"v";if("touches"in v&&C==="h"&&D.type==="range")return!1;var T=HE(C,D);if(!T)return!0;if(T?N=C:(N=C==="v"?"h":"v",T=HE(C,D)),!T)return!1;if(!n.current&&"changedTouches"in v&&(S||I)&&(n.current=N),!N)return!0;var P=n.current||N;return iV(P,b,v,P==="h"?S:I)},[]),l=y.useCallback(function(v){var b=v;if(!(!ra.length||ra[ra.length-1]!==i)){var _="deltaY"in b?WE(b):Rd(b),w=e.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&oV(N.delta,_)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(qE).filter(Boolean).filter(function(N){return N.contains(b.target)}),I=S.length>0?a(b,S[0]):!o.current.noIsolation;I&&b.cancelable&&b.preventDefault()}}},[]),u=y.useCallback(function(v,b,_,w){var S={name:v,delta:b,target:_,should:w,shadowParent:uV(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(I){return I!==S})},1)},[]),f=y.useCallback(function(v){r.current=Rd(v),n.current=void 0},[]),h=y.useCallback(function(v){u(v.type,WE(v),v.target,a(v,t.lockRef.current))},[]),p=y.useCallback(function(v){u(v.type,Rd(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return ra.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,ta),document.addEventListener("touchmove",l,ta),document.addEventListener("touchstart",f,ta),function(){ra=ra.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,ta),document.removeEventListener("touchmove",l,ta),document.removeEventListener("touchstart",f,ta)}},[]);var g=t.removeScrollBar,x=t.inert;return y.createElement(y.Fragment,null,x?y.createElement(i,{styles:aV(s)}):null,g?y.createElement(JL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function uV(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const dV=FL(II,cV);var qw=y.forwardRef(function(t,e){return y.createElement(ep,Rn({},t,{ref:e,sideCar:dV}))});qw.classNames=ep.classNames;var fV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},na=new WeakMap,Nd=new WeakMap,kd={},Xm=0,kI=function(t){return t&&(t.host||kI(t.parentNode))},hV=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=kI(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},pV=function(t,e,r,n){var s=hV(e,Array.isArray(t)?t:[t]);kd[r]||(kd[r]=new WeakMap);var i=kd[r],o=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))f(p);else try{var g=p.getAttribute(n),x=g!==null&&g!=="false",v=(na.get(p)||0)+1,b=(i.get(p)||0)+1;na.set(p,v),i.set(p,b),o.push(p),v===1&&x&&Nd.set(p,!0),b===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),a.clear(),Xm++,function(){o.forEach(function(h){var p=na.get(h)-1,g=i.get(h)-1;na.set(h,p),i.set(h,g),p||(Nd.has(h)||h.removeAttribute(n),Nd.delete(h)),g||h.removeAttribute(r)}),Xm--,Xm||(na=new WeakMap,na=new WeakMap,Nd=new WeakMap,kd={})}},jI=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=fV(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),pV(n,s,r,"aria-hidden")):function(){return null}},tp="Dialog",[OI,dG]=Hn(tp),[mV,xn]=OI(tp),DI=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[u,f]=To({prop:n,defaultProp:s??!1,onChange:i,caller:tp});return d.jsx(mV,{scope:e,triggerRef:a,contentRef:l,contentId:cs(),titleId:cs(),descriptionId:cs(),open:u,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:o,children:r})};DI.displayName=tp;var MI="DialogTrigger",gV=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=xn(MI,r),i=qe(e,s.triggerRef);return d.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Qw(s.open),...n,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});gV.displayName=MI;var Gw="DialogPortal",[yV,LI]=OI(Gw,{forceMount:void 0}),VI=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=xn(Gw,e);return d.jsx(yV,{scope:e,forceMount:r,children:y.Children.map(n,o=>d.jsx(zo,{present:r||i.open,children:d.jsx(Zh,{asChild:!0,container:s,children:o})}))})};VI.displayName=Gw;var nh="DialogOverlay",FI=y.forwardRef((t,e)=>{const r=LI(nh,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=xn(nh,t.__scopeDialog);return i.modal?d.jsx(zo,{present:n||i.open,children:d.jsx(wV,{...s,ref:e})}):null});FI.displayName=nh;var vV=Ja("DialogOverlay.RemoveScroll"),wV=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=xn(nh,r);return d.jsx(qw,{as:vV,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(de.div,{"data-state":Qw(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Co="DialogContent",UI=y.forwardRef((t,e)=>{const r=LI(Co,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=xn(Co,t.__scopeDialog);return d.jsx(zo,{present:n||i.open,children:i.modal?d.jsx(_V,{...s,ref:e}):d.jsx(xV,{...s,ref:e})})});UI.displayName=Co;var _V=y.forwardRef((t,e)=>{const r=xn(Co,t.__scopeDialog),n=y.useRef(null),s=qe(e,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return jI(i)},[]),d.jsx($I,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),xV=y.forwardRef((t,e)=>{const r=xn(Co,t.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return d.jsx($I,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),$I=y.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=xn(Co,r),l=y.useRef(null),u=qe(e,l);return SI(),d.jsxs(d.Fragment,{children:[d.jsx(Ww,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Su,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Qw(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(EV,{titleId:a.titleId}),d.jsx(SV,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Kw="DialogTitle",zI=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=xn(Kw,r);return d.jsx(de.h2,{id:s.titleId,...n,ref:e})});zI.displayName=Kw;var BI="DialogDescription",HI=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=xn(BI,r);return d.jsx(de.p,{id:s.descriptionId,...n,ref:e})});HI.displayName=BI;var WI="DialogClose",qI=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=xn(WI,r);return d.jsx(de.button,{type:"button",...n,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});qI.displayName=WI;function Qw(t){return t?"open":"closed"}var GI="DialogTitleWarning",[fG,KI]=$D(GI,{contentName:Co,titleName:Kw,docsSlug:"dialog"}),EV=({titleId:t})=>{const e=KI(GI),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},bV="DialogDescriptionWarning",SV=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KI(bV).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},TV=DI,CV=VI,QI=FI,YI=UI,XI=zI,JI=HI,IV=qI;const AV=TV,PV=CV,ZI=y.forwardRef(({className:t,...e},r)=>d.jsx(QI,{className:X("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));ZI.displayName=QI.displayName;const RV=$o("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),eA=y.forwardRef(({side:t="right",className:e,children:r,...n},s)=>d.jsxs(PV,{children:[d.jsx(ZI,{}),d.jsxs(YI,{ref:s,className:X(RV({side:t}),e),...n,children:[r,d.jsxs(IV,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(Hw,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eA.displayName=YI.displayName;const NV=y.forwardRef(({className:t,...e},r)=>d.jsx(XI,{ref:r,className:X("text-lg font-semibold text-foreground",t),...e}));NV.displayName=XI.displayName;const kV=y.forwardRef(({className:t,...e},r)=>d.jsx(JI,{ref:r,className:X("text-sm text-muted-foreground",t),...e}));kV.displayName=JI.displayName;function GE({className:t,...e}){return d.jsx("div",{className:X("animate-pulse rounded-md bg-muted",t),...e})}const jV=["top","right","bottom","left"],Ti=Math.min,Ar=Math.max,sh=Math.round,jd=Math.floor,On=t=>({x:t,y:t}),OV={left:"right",right:"left",bottom:"top",top:"bottom"},DV={start:"end",end:"start"};function ky(t,e,r){return Ar(t,Ti(e,r))}function _s(t,e){return typeof t=="function"?t(e):t}function xs(t){return t.split("-")[0]}function vl(t){return t.split("-")[1]}function Yw(t){return t==="x"?"y":"x"}function Xw(t){return t==="y"?"height":"width"}const MV=new Set(["top","bottom"]);function Nn(t){return MV.has(xs(t))?"y":"x"}function Jw(t){return Yw(Nn(t))}function LV(t,e,r){r===void 0&&(r=!1);const n=vl(t),s=Jw(t),i=Xw(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ih(o)),[o,ih(o)]}function VV(t){const e=ih(t);return[jy(t),e,jy(e)]}function jy(t){return t.replace(/start|end/g,e=>DV[e])}const KE=["left","right"],QE=["right","left"],FV=["top","bottom"],UV=["bottom","top"];function $V(t,e,r){switch(t){case"top":case"bottom":return r?e?QE:KE:e?KE:QE;case"left":case"right":return e?FV:UV;default:return[]}}function zV(t,e,r,n){const s=vl(t);let i=$V(xs(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(jy)))),i}function ih(t){return t.replace(/left|right|bottom|top/g,e=>OV[e])}function BV(t){return{top:0,right:0,bottom:0,left:0,...t}}function tA(t){return typeof t!="number"?BV(t):{top:t,right:t,bottom:t,left:t}}function oh(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function YE(t,e,r){let{reference:n,floating:s}=t;const i=Nn(e),o=Jw(e),a=Xw(o),l=xs(e),u=i==="y",f=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let g;switch(l){case"top":g={x:f,y:n.y-s.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch(vl(e)){case"start":g[o]-=p*(r&&u?-1:1);break;case"end":g[o]+=p*(r&&u?-1:1);break}return g}const HV=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:h}=YE(u,n,l),p=n,g={},x=0;for(let v=0;v<a.length;v++){const{name:b,fn:_}=a[v],{x:w,y:S,data:I,reset:N}=await _({x:f,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});f=w??f,h=S??h,g={...g,[b]:{...g[b],...I}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:f,y:h}=YE(u,p,l)),v=-1)}return{x:f,y:h,placement:p,strategy:s,middlewareData:g}};async function Jc(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=_s(e,t),x=tA(g),b=a[p?h==="floating"?"reference":"floating":h],_=oh(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:l})),w=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},N=oh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(_.top-N.top+x.top)/I.y,bottom:(N.bottom-_.bottom+x.bottom)/I.y,left:(_.left-N.left+x.left)/I.x,right:(N.right-_.right+x.right)/I.x}}const WV=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:f=0}=_s(t,e)||{};if(u==null)return{};const h=tA(f),p={x:r,y:n},g=Jw(s),x=Xw(g),v=await o.getDimensions(u),b=g==="y",_=b?"top":"left",w=b?"bottom":"right",S=b?"clientHeight":"clientWidth",I=i.reference[x]+i.reference[g]-p[g]-i.floating[x],N=p[g]-i.reference[g],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=D?D[S]:0;(!C||!await(o.isElement==null?void 0:o.isElement(D)))&&(C=a.floating[S]||i.floating[x]);const T=I/2-N/2,P=C/2-v[x]/2-1,A=Ti(h[_],P),k=Ti(h[w],P),O=A,j=C-v[x]-k,B=C/2-v[x]/2+T,J=ky(O,B,j),G=!l.arrow&&vl(s)!=null&&B!==J&&i.reference[x]/2-(B<O?A:k)-v[x]/2<0,re=G?B<O?B-O:B-j:0;return{[g]:p[g]+re,data:{[g]:J,centerOffset:B-J-re,...G&&{alignmentOffset:re}},reset:G}}}),qV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...b}=_s(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const _=xs(s),w=Nn(a),S=xs(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=p||(S||!v?[ih(a)]:VV(a)),D=x!=="none";!p&&D&&N.push(...zV(a,v,x,I));const C=[a,...N],T=await Jc(e,b),P=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&P.push(T[_]),h){const B=LV(s,o,I);P.push(T[B[0]],T[B[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(B=>B<=0)){var k,O;const B=(((k=i.flip)==null?void 0:k.index)||0)+1,J=C[B];if(J&&(!(h==="alignment"?w!==Nn(J):!1)||A.every(V=>Nn(V.placement)===w?V.overflows[0]>0:!0)))return{data:{index:B,overflows:A},reset:{placement:J}};let G=(O=A.filter(re=>re.overflows[0]<=0).sort((re,V)=>re.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!G)switch(g){case"bestFit":{var j;const re=(j=A.filter(V=>{if(D){const U=Nn(V.placement);return U===w||U==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(U=>U>0).reduce((U,Q)=>U+Q,0)]).sort((V,U)=>V[1]-U[1])[0])==null?void 0:j[0];re&&(G=re);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function XE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function JE(t){return jV.some(e=>t[e]>=0)}const GV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=_s(t,e);switch(n){case"referenceHidden":{const i=await Jc(e,{...s,elementContext:"reference"}),o=XE(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:JE(o)}}}case"escaped":{const i=await Jc(e,{...s,altBoundary:!0}),o=XE(i,r.floating);return{data:{escapedOffsets:o,escaped:JE(o)}}}default:return{}}}}},rA=new Set(["left","top"]);async function KV(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=xs(r),a=vl(r),l=Nn(r)==="y",u=rA.has(o)?-1:1,f=i&&l?-1:1,h=_s(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(g=a==="end"?x*-1:x),l?{x:g*f,y:p*u}:{x:p*u,y:g*f}}const QV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await KV(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},YV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:w}=b;return{x:_,y:w}}},...l}=_s(t,e),u={x:r,y:n},f=await Jc(e,l),h=Nn(xs(s)),p=Yw(h);let g=u[p],x=u[h];if(i){const b=p==="y"?"top":"left",_=p==="y"?"bottom":"right",w=g+f[b],S=g-f[_];g=ky(w,g,S)}if(o){const b=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=x+f[b],S=x-f[_];x=ky(w,x,S)}const v=a.fn({...e,[p]:g,[h]:x});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[p]:i,[h]:o}}}}}},XV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=_s(t,e),f={x:r,y:n},h=Nn(s),p=Yw(h);let g=f[p],x=f[h];const v=_s(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=p==="y"?"height":"width",I=i.reference[p]-i.floating[S]+b.mainAxis,N=i.reference[p]+i.reference[S]-b.mainAxis;g<I?g=I:g>N&&(g=N)}if(u){var _,w;const S=p==="y"?"width":"height",I=rA.has(xs(s)),N=i.reference[h]-i.floating[S]+(I&&((_=o.offset)==null?void 0:_[h])||0)+(I?0:b.crossAxis),D=i.reference[h]+i.reference[S]+(I?0:((w=o.offset)==null?void 0:w[h])||0)-(I?b.crossAxis:0);x<N?x=N:x>D&&(x=D)}return{[p]:g,[h]:x}}}},JV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=_s(t,e),f=await Jc(e,u),h=xs(s),p=vl(s),g=Nn(s)==="y",{width:x,height:v}=i.floating;let b,_;h==="top"||h==="bottom"?(b=h,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,b=p==="end"?"top":"bottom");const w=v-f.top-f.bottom,S=x-f.left-f.right,I=Ti(v-f[b],w),N=Ti(x-f[_],S),D=!e.middlewareData.shift;let C=I,T=N;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=w),D&&!p){const A=Ar(f.left,0),k=Ar(f.right,0),O=Ar(f.top,0),j=Ar(f.bottom,0);g?T=x-2*(A!==0||k!==0?A+k:Ar(f.left,f.right)):C=v-2*(O!==0||j!==0?O+j:Ar(f.top,f.bottom))}await l({...e,availableWidth:T,availableHeight:C});const P=await o.getDimensions(a.floating);return x!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function rp(){return typeof window<"u"}function wl(t){return nA(t)?(t.nodeName||"").toLowerCase():"#document"}function kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wn(t){var e;return(e=(nA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nA(t){return rp()?t instanceof Node||t instanceof kr(t).Node:!1}function yn(t){return rp()?t instanceof Element||t instanceof kr(t).Element:!1}function $n(t){return rp()?t instanceof HTMLElement||t instanceof kr(t).HTMLElement:!1}function ZE(t){return!rp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kr(t).ShadowRoot}const ZV=new Set(["inline","contents"]);function Tu(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=vn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!ZV.has(s)}const e4=new Set(["table","td","th"]);function t4(t){return e4.has(wl(t))}const r4=[":popover-open",":modal"];function np(t){return r4.some(e=>{try{return t.matches(e)}catch{return!1}})}const n4=["transform","translate","scale","rotate","perspective"],s4=["transform","translate","scale","rotate","perspective","filter"],i4=["paint","layout","strict","content"];function Zw(t){const e=e_(),r=yn(t)?vn(t):t;return n4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||s4.some(n=>(r.willChange||"").includes(n))||i4.some(n=>(r.contain||"").includes(n))}function o4(t){let e=Ci(t);for(;$n(e)&&!el(e);){if(Zw(e))return e;if(np(e))return null;e=Ci(e)}return null}function e_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const a4=new Set(["html","body","#document"]);function el(t){return a4.has(wl(t))}function vn(t){return kr(t).getComputedStyle(t)}function sp(t){return yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ci(t){if(wl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ZE(t)&&t.host||Wn(t);return ZE(e)?e.host:e}function sA(t){const e=Ci(t);return el(e)?t.ownerDocument?t.ownerDocument.body:t.body:$n(e)&&Tu(e)?e:sA(e)}function Zc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=sA(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=kr(s);if(i){const a=Oy(o);return e.concat(o,o.visualViewport||[],Tu(s)?s:[],a&&r?Zc(a):[])}return e.concat(s,Zc(s,[],r))}function Oy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iA(t){const e=vn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=$n(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,a=sh(r)!==i||sh(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function t_(t){return yn(t)?t:t.contextElement}function Na(t){const e=t_(t);if(!$n(e))return On(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=iA(e);let o=(i?sh(r.width):r.width)/n,a=(i?sh(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const l4=On(0);function oA(t){const e=kr(t);return!e_()||!e.visualViewport?l4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function c4(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==kr(t)?!1:e}function Io(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=t_(t);let o=On(1);e&&(n?yn(n)&&(o=Na(n)):o=Na(t));const a=c4(i,r,n)?oA(i):On(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const p=kr(i),g=n&&yn(n)?kr(n):n;let x=p,v=Oy(x);for(;v&&n&&g!==x;){const b=Na(v),_=v.getBoundingClientRect(),w=vn(v),S=_.left+(v.clientLeft+parseFloat(w.paddingLeft))*b.x,I=_.top+(v.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,u*=b.y,f*=b.x,h*=b.y,l+=S,u+=I,x=kr(v),v=Oy(x)}}return oh({width:f,height:h,x:l,y:u})}function ip(t,e){const r=sp(t).scrollLeft;return e?e.left+r:Io(Wn(t)).left+r}function aA(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-ip(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function u4(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=Wn(n),a=e?np(e.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=On(1);const f=On(0),h=$n(n);if((h||!h&&!i)&&((wl(n)!=="body"||Tu(o))&&(l=sp(n)),$n(n))){const g=Io(n);u=Na(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const p=o&&!h&&!i?aA(o,l):On(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+f.x+p.x,y:r.y*u.y-l.scrollTop*u.y+f.y+p.y}}function d4(t){return Array.from(t.getClientRects())}function f4(t){const e=Wn(t),r=sp(t),n=t.ownerDocument.body,s=Ar(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Ar(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ip(t);const a=-r.scrollTop;return vn(n).direction==="rtl"&&(o+=Ar(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}const eb=25;function h4(t,e){const r=kr(t),n=Wn(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const f=e_();(!f||f&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=ip(n);if(u<=0){const f=n.ownerDocument,h=f.body,p=getComputedStyle(h),g=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,x=Math.abs(n.clientWidth-h.clientWidth-g);x<=eb&&(i-=x)}else u<=eb&&(i+=u);return{width:i,height:o,x:a,y:l}}const p4=new Set(["absolute","fixed"]);function m4(t,e){const r=Io(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=$n(t)?Na(t):On(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=n*i.y;return{width:o,height:a,x:l,y:u}}function tb(t,e,r){let n;if(e==="viewport")n=h4(t,r);else if(e==="document")n=f4(Wn(t));else if(yn(e))n=m4(e,r);else{const s=oA(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return oh(n)}function lA(t,e){const r=Ci(t);return r===e||!yn(r)||el(r)?!1:vn(r).position==="fixed"||lA(r,e)}function g4(t,e){const r=e.get(t);if(r)return r;let n=Zc(t,[],!1).filter(a=>yn(a)&&wl(a)!=="body"),s=null;const i=vn(t).position==="fixed";let o=i?Ci(t):t;for(;yn(o)&&!el(o);){const a=vn(o),l=Zw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&p4.has(s.position)||Tu(o)&&!l&&lA(t,o))?n=n.filter(f=>f!==o):s=a,o=Ci(o)}return e.set(t,n),n}function y4(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?np(e)?[]:g4(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((u,f)=>{const h=tb(e,f,s);return u.top=Ar(h.top,u.top),u.right=Ti(h.right,u.right),u.bottom=Ti(h.bottom,u.bottom),u.left=Ar(h.left,u.left),u},tb(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function v4(t){const{width:e,height:r}=iA(t);return{width:e,height:r}}function w4(t,e,r){const n=$n(e),s=Wn(e),i=r==="fixed",o=Io(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=On(0);function u(){l.x=ip(s)}if(n||!n&&!i)if((wl(e)!=="body"||Tu(s))&&(a=sp(e)),n){const g=Io(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&u();i&&!n&&s&&u();const f=s&&!n&&!i?aA(s,a):On(0),h=o.left+a.scrollLeft-l.x-f.x,p=o.top+a.scrollTop-l.y-f.y;return{x:h,y:p,width:o.width,height:o.height}}function Jm(t){return vn(t).position==="static"}function rb(t,e){if(!$n(t)||vn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Wn(t)===r&&(r=r.ownerDocument.body),r}function cA(t,e){const r=kr(t);if(np(t))return r;if(!$n(t)){let s=Ci(t);for(;s&&!el(s);){if(yn(s)&&!Jm(s))return s;s=Ci(s)}return r}let n=rb(t,e);for(;n&&t4(n)&&Jm(n);)n=rb(n,e);return n&&el(n)&&Jm(n)&&!Zw(n)?r:n||o4(t)||r}const _4=async function(t){const e=this.getOffsetParent||cA,r=this.getDimensions,n=await r(t.floating);return{reference:w4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function x4(t){return vn(t).direction==="rtl"}const E4={convertOffsetParentRelativeRectToViewportRelativeRect:u4,getDocumentElement:Wn,getClippingRect:y4,getOffsetParent:cA,getElementRects:_4,getClientRects:d4,getDimensions:v4,getScale:Na,isElement:yn,isRTL:x4};function uA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function b4(t,e){let r=null,n;const s=Wn(t);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:f,top:h,width:p,height:g}=u;if(a||e(),!p||!g)return;const x=jd(h),v=jd(s.clientWidth-(f+p)),b=jd(s.clientHeight-(h+g)),_=jd(f),S={rootMargin:-x+"px "+-v+"px "+-b+"px "+-_+"px",threshold:Ar(0,Ti(1,l))||1};let I=!0;function N(D){const C=D[0].intersectionRatio;if(C!==l){if(!I)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!uA(u,t.getBoundingClientRect())&&o(),I=!1}try{r=new IntersectionObserver(N,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,S)}r.observe(t)}return o(!0),i}function S4(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=t_(t),f=s||i?[...u?Zc(u):[],...Zc(e)]:[];f.forEach(_=>{s&&_.addEventListener("scroll",r,{passive:!0}),i&&_.addEventListener("resize",r)});const h=u&&a?b4(u,r):null;let p=-1,g=null;o&&(g=new ResizeObserver(_=>{let[w]=_;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),r()}),u&&!l&&g.observe(u),g.observe(e));let x,v=l?Io(t):null;l&&b();function b(){const _=Io(t);v&&!uA(v,_)&&r(),v=_,x=requestAnimationFrame(b)}return r(),()=>{var _;f.forEach(w=>{s&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),h==null||h(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const T4=QV,C4=YV,I4=qV,A4=JV,P4=GV,nb=WV,R4=XV,N4=(t,e,r)=>{const n=new Map,s={platform:E4,...r},i={...s.platform,_c:n};return HV(t,e,{...s,platform:i})};var k4=typeof document<"u",j4=function(){},af=k4?y.useLayoutEffect:j4;function ah(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ah(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!ah(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function dA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sb(t,e){const r=dA(t);return Math.round(e*r)/r}function Zm(t){const e=y.useRef(t);return af(()=>{e.current=t}),e}function O4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[f,h]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=y.useState(n);ah(p,n)||g(n);const[x,v]=y.useState(null),[b,_]=y.useState(null),w=y.useCallback(V=>{V!==D.current&&(D.current=V,v(V))},[]),S=y.useCallback(V=>{V!==C.current&&(C.current=V,_(V))},[]),I=i||x,N=o||b,D=y.useRef(null),C=y.useRef(null),T=y.useRef(f),P=l!=null,A=Zm(l),k=Zm(s),O=Zm(u),j=y.useCallback(()=>{if(!D.current||!C.current)return;const V={placement:e,strategy:r,middleware:p};k.current&&(V.platform=k.current),N4(D.current,C.current,V).then(U=>{const Q={...U,isPositioned:O.current!==!1};B.current&&!ah(T.current,Q)&&(T.current=Q,Uo.flushSync(()=>{h(Q)}))})},[p,e,r,k,O]);af(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const B=y.useRef(!1);af(()=>(B.current=!0,()=>{B.current=!1}),[]),af(()=>{if(I&&(D.current=I),N&&(C.current=N),I&&N){if(A.current)return A.current(I,N,j);j()}},[I,N,j,A,P]);const J=y.useMemo(()=>({reference:D,floating:C,setReference:w,setFloating:S}),[w,S]),G=y.useMemo(()=>({reference:I,floating:N}),[I,N]),re=y.useMemo(()=>{const V={position:r,left:0,top:0};if(!G.floating)return V;const U=sb(G.floating,f.x),Q=sb(G.floating,f.y);return a?{...V,transform:"translate("+U+"px, "+Q+"px)",...dA(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:Q}},[r,a,G.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:j,refs:J,elements:G,floatingStyles:re}),[f,j,J,G,re])}const D4=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?nb({element:n.current,padding:s}).fn(r):{}:n?nb({element:n,padding:s}).fn(r):{}}}},M4=(t,e)=>({...T4(t),options:[t,e]}),L4=(t,e)=>({...C4(t),options:[t,e]}),V4=(t,e)=>({...R4(t),options:[t,e]}),F4=(t,e)=>({...I4(t),options:[t,e]}),U4=(t,e)=>({...A4(t),options:[t,e]}),$4=(t,e)=>({...P4(t),options:[t,e]}),z4=(t,e)=>({...D4(t),options:[t,e]});var B4="Arrow",fA=y.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...i}=t;return d.jsx(de.svg,{...i,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});fA.displayName=B4;var H4=fA;function W4(t){const[e,r]=y.useState(void 0);return Ct(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var r_="Popper",[hA,op]=Hn(r_),[q4,pA]=hA(r_),mA=t=>{const{__scopePopper:e,children:r}=t,[n,s]=y.useState(null);return d.jsx(q4,{scope:e,anchor:n,onAnchorChange:s,children:r})};mA.displayName=r_;var gA="PopperAnchor",yA=y.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,i=pA(gA,r),o=y.useRef(null),a=qe(e,o),l=y.useRef(null);return y.useEffect(()=>{const u=l.current;l.current=(n==null?void 0:n.current)||o.current,u!==l.current&&i.onAnchorChange(l.current)}),n?null:d.jsx(de.div,{...s,ref:a})});yA.displayName=gA;var n_="PopperContent",[G4,K4]=hA(n_),vA=y.forwardRef((t,e)=>{var K,Oe,Ze,xe,we,Ee;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=t,b=pA(n_,r),[_,w]=y.useState(null),S=qe(e,_t=>w(_t)),[I,N]=y.useState(null),D=W4(I),C=(D==null?void 0:D.width)??0,T=(D==null?void 0:D.height)??0,P=n+(i!=="center"?"-"+i:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(u)?u:[u],O=k.length>0,j={padding:A,boundary:k.filter(Y4),altBoundary:O},{refs:B,floatingStyles:J,placement:G,isPositioned:re,middlewareData:V}=O4({strategy:"fixed",placement:P,whileElementsMounted:(..._t)=>S4(..._t,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[M4({mainAxis:s+T,alignmentAxis:o}),l&&L4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?V4():void 0,...j}),l&&F4({...j}),U4({...j,apply:({elements:_t,rects:Gt,availableWidth:Xr,availableHeight:Jr})=>{const{width:qn,height:Wi}=Gt.reference,Gn=_t.floating.style;Gn.setProperty("--radix-popper-available-width",`${Xr}px`),Gn.setProperty("--radix-popper-available-height",`${Jr}px`),Gn.setProperty("--radix-popper-anchor-width",`${qn}px`),Gn.setProperty("--radix-popper-anchor-height",`${Wi}px`)}}),I&&z4({element:I,padding:a}),X4({arrowWidth:C,arrowHeight:T}),p&&$4({strategy:"referenceHidden",...j})]}),[U,Q]=xA(G),oe=Or(x);Ct(()=>{re&&(oe==null||oe())},[re,oe]);const te=(K=V.arrow)==null?void 0:K.x,ne=(Oe=V.arrow)==null?void 0:Oe.y,fe=((Ze=V.arrow)==null?void 0:Ze.centerOffset)!==0,[je,Je]=y.useState();return Ct(()=>{_&&Je(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:re?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(xe=V.transformOrigin)==null?void 0:xe.x,(we=V.transformOrigin)==null?void 0:we.y].join(" "),...((Ee=V.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(G4,{scope:r,placedSide:U,onArrowChange:N,arrowX:te,arrowY:ne,shouldHideArrow:fe,children:d.jsx(de.div,{"data-side":U,"data-align":Q,...v,ref:S,style:{...v.style,animation:re?void 0:"none"}})})})});vA.displayName=n_;var wA="PopperArrow",Q4={top:"bottom",right:"left",bottom:"top",left:"right"},_A=y.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,i=K4(wA,n),o=Q4[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(H4,{...s,ref:r,style:{...s.style,display:"block"}})})});_A.displayName=wA;function Y4(t){return t!==null}var X4=t=>({name:"transformOrigin",options:t,fn(e){var b,_,w;const{placement:r,rects:n,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,f]=xA(r),h={start:"0%",center:"50%",end:"100%"}[f],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let x="",v="";return u==="bottom"?(x=o?h:`${p}px`,v=`${-l}px`):u==="top"?(x=o?h:`${p}px`,v=`${n.floating.height+l}px`):u==="right"?(x=`${-l}px`,v=o?h:`${g}px`):u==="left"&&(x=`${n.floating.width+l}px`,v=o?h:`${g}px`),{data:{x,y:v}}}});function xA(t){const[e,r="center"]=t.split("-");return[e,r]}var EA=mA,bA=yA,SA=vA,TA=_A,CA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),J4="VisuallyHidden",ap=y.forwardRef((t,e)=>d.jsx(de.span,{...t,ref:e,style:{...CA,...t.style}}));ap.displayName=J4;var Z4=ap,[lp,hG]=Hn("Tooltip",[op]),cp=op(),IA="TooltipProvider",eF=700,Dy="tooltip.open",[tF,s_]=lp(IA),AA=t=>{const{__scopeTooltip:e,delayDuration:r=eF,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),d.jsx(tF,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};AA.displayName=IA;var eu="Tooltip",[rF,up]=lp(eu),PA=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=s_(eu,t.__scopeTooltip),u=cp(e),[f,h]=y.useState(null),p=cs(),g=y.useRef(0),x=o??l.disableHoverableContent,v=a??l.delayDuration,b=y.useRef(!1),[_,w]=To({prop:n,defaultProp:s??!1,onChange:C=>{C?(l.onOpen(),document.dispatchEvent(new CustomEvent(Dy))):l.onClose(),i==null||i(C)},caller:eu}),S=y.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),I=y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,w(!0)},[w]),N=y.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w(!1)},[w]),D=y.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,w(!0),g.current=0},v)},[v,w]);return y.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),d.jsx(EA,{...u,children:d.jsx(rF,{scope:e,contentId:p,open:_,stateAttribute:S,trigger:f,onTriggerChange:h,onTriggerEnter:y.useCallback(()=>{l.isOpenDelayedRef.current?D():I()},[l.isOpenDelayedRef,D,I]),onTriggerLeave:y.useCallback(()=>{x?N():(window.clearTimeout(g.current),g.current=0)},[N,x]),onOpen:I,onClose:N,disableHoverableContent:x,children:r})})};PA.displayName=eu;var My="TooltipTrigger",RA=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=up(My,r),i=s_(My,r),o=cp(r),a=y.useRef(null),l=qe(e,a,s.onTriggerChange),u=y.useRef(!1),f=y.useRef(!1),h=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(bA,{asChild:!0,...o,children:d.jsx(de.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:ie(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});RA.displayName=My;var nF="TooltipPortal",[pG,sF]=lp(nF,{forceMount:void 0}),tl="TooltipContent",NA=y.forwardRef((t,e)=>{const r=sF(tl,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=t,o=up(tl,t.__scopeTooltip);return d.jsx(zo,{present:n||o.open,children:o.disableHoverableContent?d.jsx(kA,{side:s,...i,ref:e}):d.jsx(iF,{side:s,...i,ref:e})})}),iF=y.forwardRef((t,e)=>{const r=up(tl,t.__scopeTooltip),n=s_(tl,t.__scopeTooltip),s=y.useRef(null),i=qe(e,s),[o,a]=y.useState(null),{trigger:l,onClose:u}=r,f=s.current,{onPointerInTransitChange:h}=n,p=y.useCallback(()=>{a(null),h(!1)},[h]),g=y.useCallback((x,v)=>{const b=x.currentTarget,_={x:x.clientX,y:x.clientY},w=uF(_,b.getBoundingClientRect()),S=dF(_,w),I=fF(v.getBoundingClientRect()),N=pF([...S,...I]);a(N),h(!0)},[h]);return y.useEffect(()=>()=>p(),[p]),y.useEffect(()=>{if(l&&f){const x=b=>g(b,f),v=b=>g(b,l);return l.addEventListener("pointerleave",x),f.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",v)}}},[l,f,g,p]),y.useEffect(()=>{if(o){const x=v=>{const b=v.target,_={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(b))||(f==null?void 0:f.contains(b)),S=!hF(_,o);w?p():S&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,f,o,u,p]),d.jsx(kA,{...t,ref:i})}),[oF,aF]=lp(eu,{isInside:!1}),lF=HD("TooltipContent"),kA=y.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=up(tl,r),u=cp(r),{onClose:f}=l;return y.useEffect(()=>(document.addEventListener(Dy,f),()=>document.removeEventListener(Dy,f)),[f]),y.useEffect(()=>{if(l.trigger){const h=p=>{const g=p.target;g!=null&&g.contains(l.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,f]),d.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:d.jsxs(SA,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(lF,{children:n}),d.jsx(oF,{scope:r,isInside:!0,children:d.jsx(Z4,{id:l.contentId,role:"tooltip",children:s||n})})]})})});NA.displayName=tl;var jA="TooltipArrow",cF=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=cp(r);return aF(jA,r).isInside?null:d.jsx(TA,{...s,...n,ref:e})});cF.displayName=jA;function uF(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function dF(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function fF(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function hF(t,e){const{x:r,y:n}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,f=a.y,h=l.x,p=l.y;f>n!=p>n&&r<(h-u)*(n-f)/(p-f)+u&&(s=!s)}return s}function pF(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),mF(e)}function mF(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var gF=AA,yF=PA,vF=RA,OA=NA;const DA=gF,wF=yF,_F=vF,MA=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(OA,{ref:n,sideOffset:e,className:X("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));MA.displayName=OA.displayName;const xF="sidebar:state",EF=60*60*24*7,bF="16rem",SF="18rem",TF="3rem",CF="b",LA=y.createContext(null);function Cu(){const t=y.useContext(LA);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const VA=y.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:s,children:i,...o},a)=>{const l=tL(),[u,f]=y.useState(!1),[h,p]=y.useState(t),g=e??h,x=y.useCallback(w=>{const S=typeof w=="function"?w(g):w;r?r(S):p(S),document.cookie=`${xF}=${S}; path=/; max-age=${EF}`},[r,g]),v=y.useCallback(()=>l?f(w=>!w):x(w=>!w),[l,x,f]);y.useEffect(()=>{const w=S=>{S.key===CF&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),v())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[v]);const b=g?"expanded":"collapsed",_=y.useMemo(()=>({state:b,open:g,setOpen:x,isMobile:l,openMobile:u,setOpenMobile:f,toggleSidebar:v}),[b,g,x,l,u,f,v]);return d.jsx(LA.Provider,{value:_,children:d.jsx(DA,{delayDuration:0,children:d.jsx("div",{style:{"--sidebar-width":bF,"--sidebar-width-icon":TF,...s},className:X("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:a,...o,children:i})})})});VA.displayName="SidebarProvider";const FA=y.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:s,...i},o)=>{const{isMobile:a,state:l,openMobile:u,setOpenMobile:f}=Cu();return r==="none"?d.jsx("div",{className:X("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:s}):a?d.jsx(AV,{open:u,onOpenChange:f,...i,children:d.jsx(eA,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":SF},side:t,children:d.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):d.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":e,"data-side":t,children:[d.jsx("div",{className:X("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),d.jsx("div",{className:X("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:d.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});FA.displayName="Sidebar";const UA=y.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:s}=Cu();return d.jsxs(Fe,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:X("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...r,children:[d.jsx(JM,{}),d.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});UA.displayName="SidebarTrigger";const IF=y.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=Cu();return d.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:X("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});IF.displayName="SidebarRail";const AF=y.forwardRef(({className:t,...e},r)=>d.jsx("main",{ref:r,className:X("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));AF.displayName="SidebarInset";const PF=y.forwardRef(({className:t,...e},r)=>d.jsx(ar,{ref:r,"data-sidebar":"input",className:X("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));PF.displayName="SidebarInput";const $A=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"header",className:X("flex flex-col gap-2 p-2",t),...e}));$A.displayName="SidebarHeader";const zA=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"footer",className:X("flex flex-col gap-2 p-2",t),...e}));zA.displayName="SidebarFooter";const RF=y.forwardRef(({className:t,...e},r)=>d.jsx(wI,{ref:r,"data-sidebar":"separator",className:X("mx-2 w-auto bg-sidebar-border",t),...e}));RF.displayName="SidebarSeparator";const BA=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"content",className:X("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));BA.displayName="SidebarContent";const Ly=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"group",className:X("relative flex w-full min-w-0 flex-col p-2",t),...e}));Ly.displayName="SidebarGroup";const Vy=y.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const s=e?gl:"div";return d.jsx(s,{ref:n,"data-sidebar":"group-label",className:X("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});Vy.displayName="SidebarGroupLabel";const NF=y.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const s=e?gl:"button";return d.jsx(s,{ref:n,"data-sidebar":"group-action",className:X("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});NF.displayName="SidebarGroupAction";const Fy=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"group-content",className:X("w-full text-sm",t),...e}));Fy.displayName="SidebarGroupContent";const Uy=y.forwardRef(({className:t,...e},r)=>d.jsx("ul",{ref:r,"data-sidebar":"menu",className:X("flex w-full min-w-0 flex-col gap-1",t),...e}));Uy.displayName="SidebarMenu";const $y=y.forwardRef(({className:t,...e},r)=>d.jsx("li",{ref:r,"data-sidebar":"menu-item",className:X("group/menu-item relative",t),...e}));$y.displayName="SidebarMenuItem";const kF=$o("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),zy=y.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:s,className:i,...o},a)=>{const l=t?gl:"button",{isMobile:u,state:f}=Cu(),h=d.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:X(kF({variant:r,size:n}),i),...o});return s?(typeof s=="string"&&(s={children:s}),d.jsxs(wF,{children:[d.jsx(_F,{asChild:!0,children:h}),d.jsx(MA,{side:"right",align:"center",hidden:f!=="collapsed"||u,...s})]})):h});zy.displayName="SidebarMenuButton";const jF=y.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},s)=>{const i=e?gl:"button";return d.jsx(i,{ref:s,"data-sidebar":"menu-action",className:X("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});jF.displayName="SidebarMenuAction";const OF=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:X("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));OF.displayName="SidebarMenuBadge";const DF=y.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const s=y.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return d.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:X("rounded-md h-8 flex gap-2 px-2 items-center",t),...r,children:[e&&d.jsx(GE,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),d.jsx(GE,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});DF.displayName="SidebarMenuSkeleton";const MF=y.forwardRef(({className:t,...e},r)=>d.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:X("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));MF.displayName="SidebarMenuSub";const LF=y.forwardRef(({...t},e)=>d.jsx("li",{ref:e,...t}));LF.displayName="SidebarMenuSubItem";const VF=y.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...s},i)=>{const o=t?gl:"a";return d.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:X("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});VF.displayName="SidebarMenuSubButton";var HA={exports:{}},WA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=y;function FF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var UF=typeof Object.is=="function"?Object.is:FF,$F=Iu.useSyncExternalStore,zF=Iu.useRef,BF=Iu.useEffect,HF=Iu.useMemo,WF=Iu.useDebugValue;WA.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=zF(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=HF(function(){function l(g){if(!u){if(u=!0,f=g,g=n(g),s!==void 0&&o.hasValue){var x=o.value;if(s(x,g))return h=x}return h=g}if(x=h,UF(f,g))return x;var v=n(g);return s!==void 0&&s(x,v)?(f=g,x):(f=g,h=v)}var u=!1,f,h,p=r===void 0?null:r;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,r,n,s]);var a=$F(t,i[0],i[1]);return BF(function(){o.hasValue=!0,o.value=a},[a]),WF(a),a};HA.exports=WA;var qF=HA.exports;function GF(t){t()}function KF(){let t=null,e=null;return{clear(){t=null,e=null},notify(){GF(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=e={callback:r,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!n||t===null||(n=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var ib={notify(){},get:()=>[]};function QF(t,e){let r,n=ib,s=0,i=!1;function o(v){f();const b=n.subscribe(v);let _=!1;return()=>{_||(_=!0,b(),h())}}function a(){n.notify()}function l(){x.onStateChange&&x.onStateChange()}function u(){return i}function f(){s++,r||(r=t.subscribe(l),n=KF())}function h(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=ib)}function p(){i||(i=!0,f())}function g(){i&&(i=!1,h())}const x={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>n};return x}var YF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XF=YF(),JF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZF=JF(),e3=()=>XF||ZF?y.useLayoutEffect:y.useEffect,t3=e3(),eg=Symbol.for("react-redux-context"),tg=typeof globalThis<"u"?globalThis:{};function r3(){if(!y.createContext)return{};const t=tg[eg]??(tg[eg]=new Map);let e=t.get(y.createContext);return e||(e=y.createContext(null),t.set(y.createContext,e)),e}var Ii=r3();function n3(t){const{children:e,context:r,serverState:n,store:s}=t,i=y.useMemo(()=>{const l=QF(s);return{store:s,subscription:l,getServerState:n?()=>n:void 0}},[s,n]),o=y.useMemo(()=>s.getState(),[s]);t3(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const a=r||Ii;return y.createElement(a.Provider,{value:i},e)}var s3=n3;function i_(t=Ii){return function(){return y.useContext(t)}}var qA=i_();function GA(t=Ii){const e=t===Ii?qA:i_(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var i3=GA();function o3(t=Ii){const e=t===Ii?i3:GA(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var a3=o3(),l3=(t,e)=>t===e;function c3(t=Ii){const e=t===Ii?qA:i_(t),r=(n,s={})=>{const{equalityFn:i=l3}=typeof s=="function"?{equalityFn:s}:s,o=e(),{store:a,subscription:l,getServerState:u}=o;y.useRef(!0);const f=y.useCallback({[n.name](p){return n(p)}}[n.name],[n]),h=qF.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,f,i);return y.useDebugValue(h),h};return Object.assign(r,{withTypes:()=>r}),r}var u3=c3();const Li=()=>a3(),rt=u3;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tu.apply(this,arguments)}var ii;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ii||(ii={}));const ob="popstate";function d3(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return By("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:lh(s)}return h3(e,r,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f3(){return Math.random().toString(36).substr(2,8)}function ab(t,e){return{usr:t.state,key:t.key,idx:e}}function By(t,e,r,n){return r===void 0&&(r=null),tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_l(e):e,{state:r,key:e&&e.key||n||f3()})}function lh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function _l(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function h3(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=ii.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(tu({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){a=ii.Pop;let b=f(),_=b==null?null:b-u;u=b,l&&l({action:a,location:v.location,delta:_})}function p(b,_){a=ii.Push;let w=By(v.location,b,_);u=f()+1;let S=ab(w,u),I=v.createHref(w);try{o.pushState(S,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(I)}i&&l&&l({action:a,location:v.location,delta:1})}function g(b,_){a=ii.Replace;let w=By(v.location,b,_);u=f();let S=ab(w,u),I=v.createHref(w);o.replaceState(S,"",I),i&&l&&l({action:a,location:v.location,delta:0})}function x(b){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:lh(b);return w=w.replace(/ $/,"%20"),ot(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let v={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ob,h),l=b,()=>{s.removeEventListener(ob,h),l=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let _=x(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(b){return o.go(b)}};return v}var lb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lb||(lb={}));function p3(t,e,r){return r===void 0&&(r="/"),m3(t,e,r)}function m3(t,e,r,n){let s=typeof e=="string"?_l(e):e,i=rl(s.pathname||"/",r);if(i==null)return null;let o=QA(t);g3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=I3(i);a=T3(o[l],u)}return a}function QA(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=mi([n,l.relativePath]),f=r.concat(l);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QA(i.children,e,f,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:b3(u,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of YA(i.path))s(i,o,l)}),e}function YA(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=YA(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function g3(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:S3(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const y3=/^:[\w-]+$/,v3=3,w3=2,_3=1,x3=10,E3=-2,cb=t=>t==="*";function b3(t,e){let r=t.split("/"),n=r.length;return r.some(cb)&&(n+=E3),e&&(n+=w3),r.filter(s=>!cb(s)).reduce((s,i)=>s+(y3.test(i)?v3:i===""?_3:x3),n)}function S3(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function T3(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=Hy({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:mi([i,h.pathname]),pathnameBase:N3(mi([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=mi([i,h.pathnameBase]))}return o}function Hy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=C3(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,f,h)=>{let{paramName:p,isOptional:g}=f;if(p==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[h];return g&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function C3(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),KA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function I3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return KA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function A3(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?_l(t):t;return{pathname:r?r.startsWith("/")?r:P3(r,e):e,search:k3(n),hash:j3(s)}}function P3(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function rg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R3(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function o_(t,e){let r=R3(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function a_(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=_l(t):(s=tu({},t),ot(!s.pathname||!s.pathname.includes("?"),rg("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),rg("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),rg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=A3(s,a),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),N3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),k3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function O3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XA=["post","put","patch","delete"];new Set(XA);const D3=["get",...XA];new Set(D3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ru.apply(this,arguments)}const dp=y.createContext(null),JA=y.createContext(null),As=y.createContext(null),fp=y.createContext(null),Vi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),ZA=y.createContext(null);function M3(t,e){let{relative:r}=e===void 0?{}:e;xl()||ot(!1);let{basename:n,navigator:s}=y.useContext(As),{hash:i,pathname:o,search:a}=hp(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:mi([n,o])),s.createHref({pathname:l,search:a,hash:i})}function xl(){return y.useContext(fp)!=null}function Fi(){return xl()||ot(!1),y.useContext(fp).location}function eP(t){y.useContext(As).static||y.useLayoutEffect(t)}function l_(){let{isDataRoute:t}=y.useContext(Vi);return t?Q3():L3()}function L3(){xl()||ot(!1);let t=y.useContext(dp),{basename:e,future:r,navigator:n}=y.useContext(As),{matches:s}=y.useContext(Vi),{pathname:i}=Fi(),o=JSON.stringify(o_(s,r.v7_relativeSplatPath)),a=y.useRef(!1);return eP(()=>{a.current=!0}),y.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=a_(u,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:mi([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,o,i,t])}function hp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=y.useContext(As),{matches:s}=y.useContext(Vi),{pathname:i}=Fi(),o=JSON.stringify(o_(s,n.v7_relativeSplatPath));return y.useMemo(()=>a_(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function V3(t,e){return F3(t,e)}function F3(t,e,r,n){xl()||ot(!1);let{navigator:s}=y.useContext(As),{matches:i}=y.useContext(Vi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Fi(),f;if(e){var h;let b=typeof e=="string"?_l(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||ot(!1),f=b}else f=u;let p=f.pathname||"/",g=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=p3(t,{pathname:g}),v=H3(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:mi([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:mi([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&v?y.createElement(fp.Provider,{value:{location:ru({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ii.Pop}},v):v}function U3(){let t=K3(),e=O3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),r?y.createElement("pre",{style:s},r):null,null)}const $3=y.createElement(U3,null);class z3 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?y.createElement(Vi.Provider,{value:this.props.routeContext},y.createElement(ZA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B3(t){let{routeContext:e,match:r,children:n}=t,s=y.useContext(dp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Vi.Provider,{value:e},n)}function H3(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||ot(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=r,x=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,p)=>{let g,x=!1,v=null,b=null;r&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||$3,l&&(u<0&&p===0?(Y3("route-fallback"),x=!0,b=null):u===p&&(x=!0,b=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),w=()=>{let S;return g?S=v:x?S=b:h.route.Component?S=y.createElement(h.route.Component,null):h.route.element?S=h.route.element:S=f,y.createElement(B3,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:r!=null},children:S})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(z3,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var tP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tP||{}),rP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rP||{});function W3(t){let e=y.useContext(dp);return e||ot(!1),e}function q3(t){let e=y.useContext(JA);return e||ot(!1),e}function G3(t){let e=y.useContext(Vi);return e||ot(!1),e}function nP(t){let e=G3(),r=e.matches[e.matches.length-1];return r.route.id||ot(!1),r.route.id}function K3(){var t;let e=y.useContext(ZA),r=q3(),n=nP();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Q3(){let{router:t}=W3(tP.UseNavigateStable),e=nP(rP.UseNavigateStable),r=y.useRef(!1);return eP(()=>{r.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ru({fromRouteId:e},i)))},[t,e])}const ub={};function Y3(t,e,r){ub[t]||(ub[t]=!0)}function X3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Wy(t){let{to:e,replace:r,state:n,relative:s}=t;xl()||ot(!1);let{future:i,static:o}=y.useContext(As),{matches:a}=y.useContext(Vi),{pathname:l}=Fi(),u=l_(),f=a_(e,o_(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(f);return y.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Ur(t){ot(!1)}function J3(t){let{basename:e="/",children:r=null,location:n,navigationType:s=ii.Pop,navigator:i,static:o=!1,future:a}=t;xl()&&ot(!1);let l=e.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:i,static:o,future:ru({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=_l(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:x="default"}=n,v=y.useMemo(()=>{let b=rl(f,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:g,key:x},navigationType:s}},[l,f,h,p,g,x,s]);return v==null?null:y.createElement(As.Provider,{value:u},y.createElement(fp.Provider,{children:r,value:v}))}function sP(t){let{children:e,location:r}=t;return V3(qy(e),r)}new Promise(()=>{});function qy(t,e){e===void 0&&(e=[]);let r=[];return y.Children.forEach(t,(n,s)=>{if(!y.isValidElement(n))return;let i=[...e,s];if(n.type===y.Fragment){r.push.apply(r,qy(n.props.children,i));return}n.type!==Ur&&ot(!1),!n.props.index||!n.props.children||ot(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=qy(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ch.apply(this,arguments)}function iP(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Z3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function e6(t,e){return t.button===0&&(!e||e==="_self")&&!Z3(t)}const t6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],n6="6";try{window.__reactRouterVersion=n6}catch{}const s6=y.createContext({isTransitioning:!1}),i6="startTransition",db=Xv[i6];function o6(t){let{basename:e,children:r,future:n,window:s}=t,i=y.useRef();i.current==null&&(i.current=d3({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=y.useCallback(h=>{u&&db?db(()=>l(h)):l(h)},[l,u]);return y.useLayoutEffect(()=>o.listen(f),[o,f]),y.useEffect(()=>X3(n),[n]),y.createElement(J3,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const a6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c6=y.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:f,viewTransition:h}=e,p=iP(e,t6),{basename:g}=y.useContext(As),x,v=!1;if(typeof u=="string"&&l6.test(u)&&(x=u,a6))try{let S=new URL(window.location.href),I=u.startsWith("//")?new URL(S.protocol+u):new URL(u),N=rl(I.pathname,g);I.origin===S.origin&&N!=null?u=N+I.search+I.hash:v=!0}catch{}let b=M3(u,{relative:s}),_=d6(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:h});function w(S){n&&n(S),S.defaultPrevented||_(S)}return y.createElement("a",ch({},p,{href:x||b,onClick:v||i?n:w,ref:r,target:l}))}),fb=y.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:u,children:f}=e,h=iP(e,r6),p=hp(l,{relative:h.relative}),g=Fi(),x=y.useContext(JA),{navigator:v,basename:b}=y.useContext(As),_=x!=null&&f6(p)&&u===!0,w=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,S=g.pathname,I=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(S=S.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&b&&(I=rl(I,b)||I);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=S===w||!o&&S.startsWith(w)&&S.charAt(N)==="/",C=I!=null&&(I===w||!o&&I.startsWith(w)&&I.charAt(w.length)==="/"),T={isActive:D,isPending:C,isTransitioning:_},P=D?n:void 0,A;typeof i=="function"?A=i(T):A=[i,D?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(T):a;return y.createElement(c6,ch({},h,{"aria-current":P,className:A,ref:r,style:k,to:l,viewTransition:u}),typeof f=="function"?f(T):f)});var Gy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gy||(Gy={}));var hb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hb||(hb={}));function u6(t){let e=y.useContext(dp);return e||ot(!1),e}function d6(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=l_(),u=Fi(),f=hp(t,{relative:o});return y.useCallback(h=>{if(e6(h,r)){h.preventDefault();let p=n!==void 0?n:lh(u)===lh(f);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,f,n,s,r,t,i,o,a])}function f6(t,e){e===void 0&&(e={});let r=y.useContext(s6);r==null&&ot(!1);let{basename:n}=u6(Gy.useViewTransitionState),s=hp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=rl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=rl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Hy(s.pathname,o)!=null||Hy(s.pathname,i)!=null}const h6=[{title:"Dashboard",url:"/dashboard",icon:YM},{title:"Estudiantes",url:"/students",icon:Si},{title:" Materias",url:"/subjects",icon:Ot},{title:" Mis Materias",url:"/my-subjects",icon:Ot},{title:"Administrador de Datos",url:"/admin",icon:Ot}];function p6({onLogout:t}){const{state:e}=Cu(),r=e==="collapsed",s=Fi().pathname,{user:i}=rt(l=>l.auth),o=l=>l==="/dashboard"?s==="/"||s==="/dashboard":s===l,a=l=>o(l)?"bg-primary text-primary-foreground hover:bg-primary/90":"hover:bg-muted";return d.jsxs(FA,{className:r?"w-16":"w-64",children:[d.jsx($A,{className:"border-b border-sidebar-border",children:d.jsxs("div",{className:"flex items-center space-x-3 px-3 py-2",children:[d.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-primary text-primary-foreground font-bold",children:"AR"}),!r&&d.jsxs("div",{children:[d.jsx("h2",{className:"font-semibold text-sidebar-foreground",children:"Sistema Acadmico InterApp"}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"Gestin Estudiantil"})]})]})}),d.jsxs(BA,{children:[d.jsxs(Ly,{children:[d.jsx(Vy,{children:"Navegacin"}),d.jsx(Fy,{children:d.jsx(Uy,{children:h6.map(l=>d.jsx($y,{children:d.jsx(zy,{asChild:!0,children:d.jsxs(fb,{to:l.url,className:a(l.url),children:[d.jsx(l.icon,{className:"h-4 w-4"}),!r&&d.jsx("span",{children:l.title})]})})},l.title))})})]}),d.jsxs(Ly,{children:[d.jsx(Vy,{children:"Mi Perfil"}),d.jsx(Fy,{children:d.jsx(Uy,{children:d.jsx($y,{children:d.jsx(zy,{asChild:!0,children:d.jsxs(fb,{to:"/my-profile",className:a("/my-profile"),children:[d.jsx(Pa,{className:"h-4 w-4"}),!r&&d.jsx("span",{children:"Mi Perfil"})]})})})})})]})]}),d.jsx(zA,{className:"border-t border-sidebar-border",children:d.jsxs("div",{className:"p-3 space-y-3",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(fI,{className:"h-8 w-8",children:d.jsx(hI,{className:"bg-primary text-primary-foreground text-sm",children:"MG"})}),!r&&d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-sidebar-foreground truncate",children:i==null?void 0:i.name}),d.jsx("p",{className:"text-xs text-sidebar-foreground/60 truncate",children:"Estudiante"})]})]}),d.jsxs(Fe,{variant:"ghost",size:"sm",className:"w-full justify-start hover:bg-destructive/10 hover:text-destructive",onClick:t,children:[d.jsx(XM,{className:"h-4 w-4"}),!r&&d.jsx("span",{className:"ml-2",children:"Cerrar Sesin"})]})]})})]})}const m6=()=>{};var pb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},g6=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},aP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,f=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(p=64)),n.push(r[f],r[h],r[p],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const h=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new y6;const p=i<<2|a>>4;if(n.push(p),u!==64){const g=a<<4&240|u>>2;if(n.push(g),h!==64){const x=u<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v6=function(t){const e=oP(t);return aP.encodeByteArray(e,!0)},uh=function(t){return v6(t).replace(/\./g,"")},lP=function(t){try{return aP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=()=>w6().__FIREBASE_DEFAULTS__,x6=()=>{if(typeof process>"u"||typeof pb>"u")return;const t=pb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},E6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lP(t[1]);return e&&JSON.parse(e)},pp=()=>{try{return m6()||_6()||x6()||E6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cP=t=>{var e,r;return(r=(e=pp())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},b6=t=>{const e=cP(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},uP=()=>{var t;return(t=pp())==null?void 0:t.config},dP=t=>{var e;return(e=pp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uh(JSON.stringify(r)),uh(JSON.stringify(o)),""].join(".")}const Sc={};function C6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?t.emulator.push(e):t.prod.push(e);return t}function I6(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let mb=!1;function hP(t,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Sc[t]===e||Sc[t]||mb)return;Sc[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",i=C6().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{mb=!0,o()},p}function f(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=I6(n),g=r("text"),x=document.getElementById(g)||document.createElement("span"),v=r("learnmore"),b=document.getElementById(v)||document.createElement("a"),_=r("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;a(S),f(b,v);const I=u();l(w,_),S.append(w,x,b,I),document.body.appendChild(S)}i?(x.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function P6(){var e;const t=(e=pp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j6(){const t=sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O6(){return!P6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D6(){try{return typeof indexedDB=="object"}catch{return!1}}function M6(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="FirebaseError";class Ps extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=L6,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?V6(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ps(s,a,n)}}function V6(t,e){return t.replace(F6,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const F6=/\{\$([^}]+)}/g;function U6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ao(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(gb(i)&&gb(o)){if(!Ao(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function gb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function sc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ic(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function $6(t,e){const r=new z6(t,e);return r.subscribe.bind(r)}class z6{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");B6(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=ng),s.error===void 0&&(s.error=ng),s.complete===void 0&&(s.complete=ng);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B6(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Po{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H6=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new S6;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q6(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&e(i,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:W6(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function W6(t){return t===to?void 0:t}function q6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new H6(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const K6={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},Q6=be.INFO,Y6={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},X6=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=Y6[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=Q6,this._logHandler=X6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const J6=(t,e)=>e.some(r=>t instanceof r);let yb,vb;function Z6(){return yb||(yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e5(){return vb||(vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pP=new WeakMap,Ky=new WeakMap,mP=new WeakMap,sg=new WeakMap,u_=new WeakMap;function t5(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(gi(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&pP.set(r,t)}).catch(()=>{}),u_.set(e,t),e}function r5(t){if(Ky.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ky.set(t,e)}let Qy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ky.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mP.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return gi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n5(t){Qy=t(Qy)}function s5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ig(this),e,...r);return mP.set(n,e.sort?e.sort():[e]),gi(n)}:e5().includes(t)?function(...e){return t.apply(ig(this),e),gi(pP.get(this))}:function(...e){return gi(t.apply(ig(this),e))}}function i5(t){return typeof t=="function"?s5(t):(t instanceof IDBTransaction&&r5(t),J6(t,Z6())?new Proxy(t,Qy):t)}function gi(t){if(t instanceof IDBRequest)return t5(t);if(sg.has(t))return sg.get(t);const e=i5(t);return e!==t&&(sg.set(t,e),u_.set(e,t)),e}const ig=t=>u_.get(t);function o5(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=gi(o);return n&&o.addEventListener("upgradeneeded",l=>{n(gi(o.result),l.oldVersion,l.newVersion,gi(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const a5=["get","getKey","getAll","getAllKeys","count"],l5=["put","add","delete","clear"],og=new Map;function wb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(og.get(e))return og.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=l5.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||a5.includes(r)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),s&&l.done]))[0]};return og.set(e,i),i}n5(t=>({...t,get:(e,r,n)=>wb(e,r)||t.get(e,r,n),has:(e,r)=>!!wb(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(u5(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function u5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yy="@firebase/app",_b="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new c_("@firebase/app"),d5="@firebase/app-compat",f5="@firebase/analytics-compat",h5="@firebase/analytics",p5="@firebase/app-check-compat",m5="@firebase/app-check",g5="@firebase/auth",y5="@firebase/auth-compat",v5="@firebase/database",w5="@firebase/data-connect",_5="@firebase/database-compat",x5="@firebase/functions",E5="@firebase/functions-compat",b5="@firebase/installations",S5="@firebase/installations-compat",T5="@firebase/messaging",C5="@firebase/messaging-compat",I5="@firebase/performance",A5="@firebase/performance-compat",P5="@firebase/remote-config",R5="@firebase/remote-config-compat",N5="@firebase/storage",k5="@firebase/storage-compat",j5="@firebase/firestore",O5="@firebase/ai",D5="@firebase/firestore-compat",M5="firebase",L5="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="[DEFAULT]",V5={[Yy]:"fire-core",[d5]:"fire-core-compat",[h5]:"fire-analytics",[f5]:"fire-analytics-compat",[m5]:"fire-app-check",[p5]:"fire-app-check-compat",[g5]:"fire-auth",[y5]:"fire-auth-compat",[v5]:"fire-rtdb",[w5]:"fire-data-connect",[_5]:"fire-rtdb-compat",[x5]:"fire-fn",[E5]:"fire-fn-compat",[b5]:"fire-iid",[S5]:"fire-iid-compat",[T5]:"fire-fcm",[C5]:"fire-fcm-compat",[I5]:"fire-perf",[A5]:"fire-perf-compat",[P5]:"fire-rc",[R5]:"fire-rc-compat",[N5]:"fire-gcs",[k5]:"fire-gcs-compat",[j5]:"fire-fst",[D5]:"fire-fst-compat",[O5]:"fire-vertex","fire-js":"fire-js",[M5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,F5=new Map,Jy=new Map;function xb(t,e){try{t.container.addComponent(e)}catch(r){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function nl(t){const e=t.name;if(Jy.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,t);for(const r of dh.values())xb(r,t);for(const r of F5.values())xb(r,t);return!0}function d_(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Au("app","Firebase",U5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=L5;function gP(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:Xy,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw yi.create("bad-app-name",{appName:String(s)});if(r||(r=uP()),!r)throw yi.create("no-options");const i=dh.get(s);if(i){if(Ao(r,i.options)&&Ao(n,i.config))return i;throw yi.create("duplicate-app",{appName:s})}const o=new G6(s);for(const l of Jy.values())o.addComponent(l);const a=new $5(r,n,o);return dh.set(s,a),a}function yP(t=Xy){const e=dh.get(t);if(!e&&t===Xy&&uP())return gP();if(!e)throw yi.create("no-app",{appName:t});return e}function vi(t,e,r){let n=V5[t]??t;r&&(n+=`-${r}`);const s=n.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${n}" with version "${e}":`];s&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(o.join(" "));return}nl(new Po(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="firebase-heartbeat-database",B5=1,nu="firebase-heartbeat-store";let ag=null;function vP(){return ag||(ag=o5(z5,B5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nu)}catch(r){console.warn(r)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),ag}async function H5(t){try{const r=(await vP()).transaction(nu),n=await r.objectStore(nu).get(wP(t));return await r.done,n}catch(e){if(e instanceof Ps)Es.warn(e.message);else{const r=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(r.message)}}}async function Eb(t,e){try{const n=(await vP()).transaction(nu,"readwrite");await n.objectStore(nu).put(e,wP(t)),await n.done}catch(r){if(r instanceof Ps)Es.warn(r.message);else{const n=yi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Es.warn(n.message)}}}function wP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=1024,q5=30;class G5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Q5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>q5){const o=Y5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Es.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=bb(),{heartbeatsToSend:n,unsentEntries:s}=K5(this._heartbeatsCache.heartbeats),i=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Es.warn(r),""}}}function bb(){return new Date().toISOString().substring(0,10)}function K5(t,e=W5){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sb(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Sb(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Q5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D6()?M6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await H5(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Eb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return Eb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function Sb(t){return uh(JSON.stringify({version:2,heartbeats:t})).length}function Y5(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){nl(new Po("platform-logger",e=>new c5(e),"PRIVATE")),nl(new Po("heartbeat",e=>new G5(e),"PRIVATE")),vi(Yy,_b,t),vi(Yy,_b,"esm2020"),vi("fire-js","")}X5("");var J5="firebase",Z5="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(J5,Z5,"app");function _P(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eU=_P,xP=new Au("auth","Firebase",_P());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new c_("@firebase/auth");function tU(t,...e){fh.logLevel<=be.WARN&&fh.warn(`Auth (${bl}): ${t}`,...e)}function lf(t,...e){fh.logLevel<=be.ERROR&&fh.error(`Auth (${bl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw f_(t,...e)}function Dn(t,...e){return f_(t,...e)}function EP(t,e,r){const n={...eU(),[e]:r};return new Au("auth","Firebase",n).create(e,{appName:t.name})}function us(t){return EP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return xP.create(t,...e)}function ae(t,e,...r){if(!t)throw f_(e,...r)}function os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function bs(t,e){t||os(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function rU(){return Tb()==="http:"||Tb()==="https:"}function Tb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rU()||N6()||"connection"in navigator)?navigator.onLine:!0}function sU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,r){this.shortDelay=e,this.longDelay=r,bs(r>e,"Short delay should be less than long delay!"),this.isMobile=A6()||k6()}get(){return nU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t,e){bs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aU=new Ru(3e4,6e4);function Ui(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Rs(t,e,r,n,s={}){return SP(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=Pu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return R6()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&El(t.emulatorConfig.host)&&(u.credentials="include"),bP.fetch()(await TP(t,t.config.apiHost,r,a),u)})}async function SP(t,e,r){t._canInitEmulator=!1;const n={...iU,...e};try{const s=new cU(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Od(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Od(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Od(t,"user-disabled",o);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw EP(t,f,u);wn(t,f)}}catch(s){if(s instanceof Ps)throw s;wn(t,"network-request-failed",{message:String(s)})}}async function Nu(t,e,r,n,s={}){const i=await Rs(t,e,r,n,s);return"mfaPendingCredential"in i&&wn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function TP(t,e,r,n){const s=`${e}${r}?${n}`,i=t,o=i.config.emulator?h_(t.config,s):`${t.config.apiScheme}://${s}`;return oU.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function lU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Dn(this.auth,"network-request-failed")),aU.get())})}}function Od(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Dn(t,e,n);return s.customData._tokenResponse=r,s}function Cb(t){return t!==void 0&&t.enterprise!==void 0}class uU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return lU(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dU(t,e){return Rs(t,"GET","/v2/recaptchaConfig",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e){return Rs(t,"POST","/v1/accounts:delete",e)}async function hh(t,e){return Rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hU(t,e=!1){const r=wt(t),n=await r.getIdToken(e),s=p_(n);ae(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:Tc(lg(s.auth_time)),issuedAtTime:Tc(lg(s.iat)),expirationTime:Tc(lg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function lg(t){return Number(t)*1e3}function p_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const s=lP(r);return s?JSON.parse(s):(lf("Failed to decode base64 JWT payload"),null)}catch(s){return lf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ib(t){const e=p_(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ps&&pU(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function pU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var h;const e=t.auth,r=await t.getIdToken(),n=await sl(t,hh(e,{idToken:r}));ae(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?CP(s.providerUserInfo):[],o=yU(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function gU(t){const e=wt(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yU(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function CP(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){const r=await SP(t,{},async()=>{const n=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await TP(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:n};return t.emulatorConfig&&El(t.emulatorConfig.host)&&(l.credentials="include"),bP.fetch()(o,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function wU(t,e){return Rs(t,"POST","/v2/accounts:revokeToken",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const r=Ib(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await vU(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new ka;return n&&(ae(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fn{constructor({uid:e,auth:r,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new mU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ev(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await sl(this,this.stsTokenManager.getToken(this.auth,e));return ae(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return hU(this,e)}reload(){return gU(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ph(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await sl(this,fU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,s=r.email??void 0,i=r.phoneNumber??void 0,o=r.photoURL??void 0,a=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:g,providerData:x,stsTokenManager:v}=r;ae(h&&v,e,"internal-error");const b=ka.fromJSON(this.name,v);ae(typeof h=="string",e,"internal-error"),Us(n,e.name),Us(s,e.name),ae(typeof p=="boolean",e,"internal-error"),ae(typeof g=="boolean",e,"internal-error"),Us(i,e.name),Us(o,e.name),Us(a,e.name),Us(l,e.name),Us(u,e.name),Us(f,e.name);const _=new fn({uid:h,auth:e,email:s,emailVerified:p,displayName:n,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:b,createdAt:u,lastLoginAt:f});return x&&Array.isArray(x)&&(_.providerData=x.map(w=>({...w}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,r,n=!1){const s=new ka;s.updateFromServerResponse(r);const i=new fn({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await ph(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?CP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ka;a.updateFromIdToken(n);const l=new fn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;function as(t){bs(t instanceof Function,"Expected a class definition");let e=Ab.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ab.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}IP.type="NONE";const Pb=IP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e,r){return`firebase:${t}:${e}:${r}`}class ja{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=cf(this.userKey,s.apiKey,i),this.fullPersistenceKey=cf("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await hh(this.auth,{idToken:e}).catch(()=>{});return r?fn._fromGetAccountInfoResponse(this.auth,r,e):null}return fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ja(as(Pb),e,n);const s=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||as(Pb);const o=cf(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const f=await u._get(o);if(f){let h;if(typeof f=="string"){const p=await hh(e,{idToken:f}).catch(()=>{});if(!p)break;h=await fn._fromGetAccountInfoResponse(e,p,f)}else h=fn._fromJSON(e,f);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ja(i,e,n):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ja(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jP(e))return"Blackberry";if(OP(e))return"Webos";if(PP(e))return"Safari";if((e.includes("chrome/")||RP(e))&&!e.includes("edge/"))return"Chrome";if(kP(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function AP(t=sr()){return/firefox\//i.test(t)}function PP(t=sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RP(t=sr()){return/crios\//i.test(t)}function NP(t=sr()){return/iemobile/i.test(t)}function kP(t=sr()){return/android/i.test(t)}function jP(t=sr()){return/blackberry/i.test(t)}function OP(t=sr()){return/webos/i.test(t)}function m_(t=sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _U(t=sr()){var e;return m_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function xU(){return j6()&&document.documentMode===10}function DP(t=sr()){return m_(t)||kP(t)||OP(t)||jP(t)||/windows phone/i.test(t)||NP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e=[]){let r;switch(t){case"Browser":r=Rb(sr());break;case"Worker":r=`${Rb(sr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${bl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e={}){return Rs(t,"GET","/v2/passwordPolicy",Ui(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=6;class TU{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??SU,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new EU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=as(r)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await hh(this,{idToken:e}),n=await fn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Hr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(n=l.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(us(this));const r=e?wt(e):null;return r&&ae(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bU(this),r=new TU(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await wU(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&as(e)||this._popupRedirectResolver;ae(r,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[as(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&tU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bo(t){return wt(t)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=$6(r=>this.observer=r)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IU(t){mp=t}function LP(t){return mp.loadJS(t)}function AU(){return mp.recaptchaEnterpriseScript}function PU(){return mp.gapiScript}function RU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class NU{constructor(){this.enterprise=new kU}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class kU{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const jU="recaptcha-enterprise",VP="NO_RECAPTCHA";class OU{constructor(e){this.type=jU,this.auth=Bo(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{dU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new uU(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Cb(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(VP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&Cb(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=AU();l.length!==0&&(l+=a),LP(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function kb(t,e,r,n=!1,s=!1){const i=new OU(t);let o;if(s)o=VP;else try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const a={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function tv(t,e,r,n,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await kb(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await kb(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e){const r=d_(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Ao(i,e??{}))return s;wn(s,"already-initialized")}return r.initialize({options:e})}function MU(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(as);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function LU(t,e,r){const n=Bo(t);ae(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=FP(e),{host:o,port:a}=VU(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},f=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){ae(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ae(Ao(u,n.config.emulator)&&Ao(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,El(o)?(fP(`${i}//${o}${l}`),hP("Auth",!0)):FU()}function FP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VU(t){const e=FP(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:jb(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:jb(o)}}}function jb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FU(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,r){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function UU(t,e){return Rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(t,e){return Nu(t,"POST","/v1/accounts:signInWithPassword",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}async function BU(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends g_{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new su(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new su(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,r,"signInWithPassword",$U);case"emailLink":return zU(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,n,"signUpPassword",UU);case"emailLink":return BU(e,{idToken:r,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t,e){return Nu(t,"POST","/v1/accounts:signInWithIdp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="http://localhost";class Ro extends g_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):wn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...i}=r;if(!n||!s)return null;const o=new Ro(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Oa(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Oa(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Oa(e,r)}buildRequest(){const e={requestUri:HU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Pu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qU(t){const e=sc(ic(t)).link,r=e?sc(ic(e)).deep_link_id:null,n=sc(ic(t)).deep_link_id;return(n?sc(ic(n)).link:null)||n||r||e||t}class y_{constructor(e){const r=sc(ic(e)),n=r.apiKey??null,s=r.oobCode??null,i=WU(r.mode??null);ae(n&&s&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=s,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=qU(e);try{return new y_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.providerId=Sl.PROVIDER_ID}static credential(e,r){return su._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=y_.parseLink(r);return ae(n,"argument-error"),su._fromEmailAndCode(e,n.code,n.tenantId)}}Sl.PROVIDER_ID="password";Sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends UP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends ku{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ro._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Qs.credential(r,n)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends ku{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ys.credential(e.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends ku{constructor(){super("twitter.com")}static credential(e,r){return Ro._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Xs.credential(r,n)}catch{return null}}}Xs.TWITTER_SIGN_IN_METHOD="twitter.com";Xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(t,e){return Nu(t,"POST","/v1/accounts:signUp",Ui(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await fn._fromIdTokenResponse(e,n,s),o=Ob(n);return new No({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=Ob(n);return new No({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function Ob(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Ps{constructor(e,r,n,s){super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new mh(e,r,n,s)}}function $P(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,i,e,n):i})}async function KU(t,e,r=!1){const n=await sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return No._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t,e,r=!1){const{auth:n}=t;if(Hr(n.app))return Promise.reject(us(n));const s="reauthenticate";try{const i=await sl(t,$P(n,s,e,t),r);ae(i.idToken,n,"internal-error");const o=p_(i.idToken);ae(o,n,"internal-error");const{sub:a}=o;return ae(t.uid===a,n,"user-mismatch"),No._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wn(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e,r=!1){if(Hr(t.app))return Promise.reject(us(t));const n="signIn",s=await $P(t,n,e),i=await No._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function YU(t,e){return zP(Bo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t){const e=Bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XU(t,e,r){if(Hr(t.app))return Promise.reject(us(t));const n=Bo(t),o=await tv(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&BP(t),l}),a=await No._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function JU(t,e,r){return Hr(t.app)?Promise.reject(us(t)):YU(wt(t),Sl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&BP(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e){return Rs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=wt(t),i={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await sl(n,ZU(n.auth,i));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const a=n.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function t9(t,e,r,n){return wt(t).onIdTokenChanged(e,r,n)}function r9(t,e,r){return wt(t).beforeAuthStateChanged(e,r)}function n9(t){return wt(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=1e3,i9=10;class WP extends HP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);xU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,i9):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},s9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}WP.type="LOCAL";const o9=WP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP extends HP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}qP.type="SESSION";const GP=qP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new gp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async u=>u(r.origin,i)),l=await a9(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=v_("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(f),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function c9(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function u9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function f9(){return KP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="firebaseLocalStorageDb",h9=1,yh="firebaseLocalStorage",YP="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function yp(t,e){return t.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function p9(){const t=indexedDB.deleteDatabase(QP);return new ju(t).toPromise()}function rv(){const t=indexedDB.open(QP,h9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(yh,{keyPath:YP})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(yh)?e(n):(n.close(),await p9(),e(await rv()))})})}async function Db(t,e,r){const n=yp(t,!0).put({[YP]:e,value:r});return new ju(n).toPromise()}async function m9(t,e){const r=yp(t,!1).get(e),n=await new ju(r).toPromise();return n===void 0?null:n.value}function Mb(t,e){const r=yp(t,!0).delete(e);return new ju(r).toPromise()}const g9=800,y9=3;class XP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rv(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>y9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(f9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await u9(),!this.activeServiceWorker)return;this.sender=new l9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rv();return await Db(e,gh,"1"),await Mb(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Db(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>m9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mb(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yp(s,!1).getAll();return new ju(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XP.type="LOCAL";const v9=XP;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e){return e?as(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends g_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Oa(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function _9(t){return zP(t.auth,new w_(t),t.bypassAuthState)}function x9(t){const{auth:e,user:r}=t;return ae(r,e,"internal-error"),QU(r,new w_(t),t.bypassAuthState)}async function E9(t){const{auth:e,user:r}=t;return ae(r,e,"internal-error"),KU(r,new w_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _9;case"linkViaPopup":case"linkViaRedirect":return E9;case"reauthViaPopup":case"reauthViaRedirect":return x9;default:wn(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=new Ru(2e3,1e4);class _a extends JP{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=v_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,b9.get())};e()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="pendingRedirect",uf=new Map;class T9 extends JP{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=uf.get(this.auth._key());if(!e){try{const n=await C9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}uf.set(this.auth._key(),e)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C9(t,e){const r=P9(e),n=A9(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function I9(t,e){uf.set(t._key(),e)}function A9(t){return as(t._redirectPersistence)}function P9(t){return cf(S9,t.config.apiKey,t.name)}async function R9(t,e,r=!1){if(Hr(t.app))return Promise.reject(us(t));const n=Bo(t),s=w9(n,e),o=await new T9(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=10*60*1e3;class k9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!ZP(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Dn(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lb(e))}saveEventToCache(e){this.cachedEventUids.add(Lb(e)),this.lastProcessedEventTime=Date.now()}}function Lb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e={}){return Rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,M9=/^https?/;async function L9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O9(t);for(const r of e)try{if(V9(r))return}catch{}wn(t,"unauthorized-domain")}function V9(t){const e=Zy(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!M9.test(r))return!1;if(D9.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new Ru(3e4,6e4);function Vb(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function U9(t){return new Promise((e,r)=>{var s,i,o;function n(){Vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vb(),r(Dn(t,"network-request-failed"))},timeout:F9.get()})}if((i=(s=Mn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Mn().gapi)!=null&&o.load)n();else{const a=RU("iframefcb");return Mn()[a]=()=>{gapi.load?n():r(Dn(t,"network-request-failed"))},LP(`${PU()}?onload=${a}`).catch(l=>r(l))}}).catch(e=>{throw df=null,e})}let df=null;function $9(t){return df=df||U9(t),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new Ru(5e3,15e3),B9="__/auth/iframe",H9="emulator/auth/iframe",W9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G9(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?h_(e,H9):`https://${t.config.authDomain}/${B9}`,n={apiKey:e.apiKey,appName:t.name,v:bl},s=q9.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Pu(n).slice(1)}`}async function K9(t){const e=await $9(t),r=Mn().gapi;return ae(r,t,"internal-error"),e.open({where:document.body,url:G9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W9,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Mn().setTimeout(()=>{i(o)},z9.get());function l(){Mn().clearTimeout(a),s(n)}n.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y9=500,X9=600,J9="_blank",Z9="http://localhost";class Fb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e$(t,e,r,n=Y9,s=X9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l={...Q9,width:n.toString(),height:s.toString(),top:i,left:o},u=sr().toLowerCase();r&&(a=RP(u)?J9:r),AP(u)&&(e=e||Z9,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[g,x])=>`${p}${g}=${x},`,"");if(_U(u)&&a!=="_self")return t$(e||"",a),new Fb(null);const h=window.open(e||"",a,f);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new Fb(h)}function t$(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$="__/auth/handler",n$="emulator/auth/handler",s$=encodeURIComponent("fac");async function Ub(t,e,r,n,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:bl,eventId:s};if(e instanceof UP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",U6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof ku){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${s$}=${encodeURIComponent(l)}`:"";return`${i$(t)}?${Pu(a).slice(1)}${u}`}function i$({config:t}){return t.emulator?h_(t,n$):`https://${t.authDomain}/${r$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class o${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GP,this._completeRedirectFn=R9,this._overrideRedirectResult=I9}async _openPopup(e,r,n,s){var o;bs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Ub(e,r,n,Zy(),s);return e$(e,i,v_())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await Ub(e,r,n,Zy(),s);return c9(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(bs(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await K9(e),n=new k9(e);return r.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(cg,{type:cg},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[cg];i!==void 0&&r(!!i),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=L9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return DP()||PP()||m_()}}const a$=o$;var $b="@firebase/auth",zb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u$(t){nl(new Po("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MP(t)},u=new CU(n,s,i,l);return MU(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),nl(new Po("auth-internal",e=>{const r=Bo(e.getProvider("auth").getImmediate());return(n=>new l$(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi($b,zb,c$(t)),vi($b,zb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=5*60,f$=dP("authIdTokenMaxAge")||d$;let Bb=null;const h$=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>f$)return;const s=r==null?void 0:r.token;Bb!==s&&(Bb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function p$(t=yP()){const e=d_(t,"auth");if(e.isInitialized())return e.getImmediate();const r=DU(t,{popupRedirectResolver:a$,persistence:[v9,o9,GP]}),n=dP("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=h$(i.toString());r9(r,o,()=>o(r.currentUser)),t9(r,a=>o(a))}}const s=cP("auth");return s&&LU(r,`http://${s}`),r}function m$(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}IU({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Dn("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",m$().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u$("Browser");var Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,eR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function P(){}P.prototype=T.prototype,C.D=T.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(A,k,O){for(var j=Array(arguments.length-2),B=2;B<arguments.length;B++)j[B-2]=arguments[B];return T.prototype[k].apply(A,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,T,P){P||(P=0);var A=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)A[k]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(k=0;16>k;++k)A[k]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=C.g[0],P=C.g[1],k=C.g[2];var O=C.g[3],j=T+(O^P&(k^O))+A[0]+3614090360&4294967295;T=P+(j<<7&4294967295|j>>>25),j=O+(k^T&(P^k))+A[1]+3905402710&4294967295,O=T+(j<<12&4294967295|j>>>20),j=k+(P^O&(T^P))+A[2]+606105819&4294967295,k=O+(j<<17&4294967295|j>>>15),j=P+(T^k&(O^T))+A[3]+3250441966&4294967295,P=k+(j<<22&4294967295|j>>>10),j=T+(O^P&(k^O))+A[4]+4118548399&4294967295,T=P+(j<<7&4294967295|j>>>25),j=O+(k^T&(P^k))+A[5]+1200080426&4294967295,O=T+(j<<12&4294967295|j>>>20),j=k+(P^O&(T^P))+A[6]+2821735955&4294967295,k=O+(j<<17&4294967295|j>>>15),j=P+(T^k&(O^T))+A[7]+4249261313&4294967295,P=k+(j<<22&4294967295|j>>>10),j=T+(O^P&(k^O))+A[8]+1770035416&4294967295,T=P+(j<<7&4294967295|j>>>25),j=O+(k^T&(P^k))+A[9]+2336552879&4294967295,O=T+(j<<12&4294967295|j>>>20),j=k+(P^O&(T^P))+A[10]+4294925233&4294967295,k=O+(j<<17&4294967295|j>>>15),j=P+(T^k&(O^T))+A[11]+2304563134&4294967295,P=k+(j<<22&4294967295|j>>>10),j=T+(O^P&(k^O))+A[12]+1804603682&4294967295,T=P+(j<<7&4294967295|j>>>25),j=O+(k^T&(P^k))+A[13]+4254626195&4294967295,O=T+(j<<12&4294967295|j>>>20),j=k+(P^O&(T^P))+A[14]+2792965006&4294967295,k=O+(j<<17&4294967295|j>>>15),j=P+(T^k&(O^T))+A[15]+1236535329&4294967295,P=k+(j<<22&4294967295|j>>>10),j=T+(k^O&(P^k))+A[1]+4129170786&4294967295,T=P+(j<<5&4294967295|j>>>27),j=O+(P^k&(T^P))+A[6]+3225465664&4294967295,O=T+(j<<9&4294967295|j>>>23),j=k+(T^P&(O^T))+A[11]+643717713&4294967295,k=O+(j<<14&4294967295|j>>>18),j=P+(O^T&(k^O))+A[0]+3921069994&4294967295,P=k+(j<<20&4294967295|j>>>12),j=T+(k^O&(P^k))+A[5]+3593408605&4294967295,T=P+(j<<5&4294967295|j>>>27),j=O+(P^k&(T^P))+A[10]+38016083&4294967295,O=T+(j<<9&4294967295|j>>>23),j=k+(T^P&(O^T))+A[15]+3634488961&4294967295,k=O+(j<<14&4294967295|j>>>18),j=P+(O^T&(k^O))+A[4]+3889429448&4294967295,P=k+(j<<20&4294967295|j>>>12),j=T+(k^O&(P^k))+A[9]+568446438&4294967295,T=P+(j<<5&4294967295|j>>>27),j=O+(P^k&(T^P))+A[14]+3275163606&4294967295,O=T+(j<<9&4294967295|j>>>23),j=k+(T^P&(O^T))+A[3]+4107603335&4294967295,k=O+(j<<14&4294967295|j>>>18),j=P+(O^T&(k^O))+A[8]+1163531501&4294967295,P=k+(j<<20&4294967295|j>>>12),j=T+(k^O&(P^k))+A[13]+2850285829&4294967295,T=P+(j<<5&4294967295|j>>>27),j=O+(P^k&(T^P))+A[2]+4243563512&4294967295,O=T+(j<<9&4294967295|j>>>23),j=k+(T^P&(O^T))+A[7]+1735328473&4294967295,k=O+(j<<14&4294967295|j>>>18),j=P+(O^T&(k^O))+A[12]+2368359562&4294967295,P=k+(j<<20&4294967295|j>>>12),j=T+(P^k^O)+A[5]+4294588738&4294967295,T=P+(j<<4&4294967295|j>>>28),j=O+(T^P^k)+A[8]+2272392833&4294967295,O=T+(j<<11&4294967295|j>>>21),j=k+(O^T^P)+A[11]+1839030562&4294967295,k=O+(j<<16&4294967295|j>>>16),j=P+(k^O^T)+A[14]+4259657740&4294967295,P=k+(j<<23&4294967295|j>>>9),j=T+(P^k^O)+A[1]+2763975236&4294967295,T=P+(j<<4&4294967295|j>>>28),j=O+(T^P^k)+A[4]+1272893353&4294967295,O=T+(j<<11&4294967295|j>>>21),j=k+(O^T^P)+A[7]+4139469664&4294967295,k=O+(j<<16&4294967295|j>>>16),j=P+(k^O^T)+A[10]+3200236656&4294967295,P=k+(j<<23&4294967295|j>>>9),j=T+(P^k^O)+A[13]+681279174&4294967295,T=P+(j<<4&4294967295|j>>>28),j=O+(T^P^k)+A[0]+3936430074&4294967295,O=T+(j<<11&4294967295|j>>>21),j=k+(O^T^P)+A[3]+3572445317&4294967295,k=O+(j<<16&4294967295|j>>>16),j=P+(k^O^T)+A[6]+76029189&4294967295,P=k+(j<<23&4294967295|j>>>9),j=T+(P^k^O)+A[9]+3654602809&4294967295,T=P+(j<<4&4294967295|j>>>28),j=O+(T^P^k)+A[12]+3873151461&4294967295,O=T+(j<<11&4294967295|j>>>21),j=k+(O^T^P)+A[15]+530742520&4294967295,k=O+(j<<16&4294967295|j>>>16),j=P+(k^O^T)+A[2]+3299628645&4294967295,P=k+(j<<23&4294967295|j>>>9),j=T+(k^(P|~O))+A[0]+4096336452&4294967295,T=P+(j<<6&4294967295|j>>>26),j=O+(P^(T|~k))+A[7]+1126891415&4294967295,O=T+(j<<10&4294967295|j>>>22),j=k+(T^(O|~P))+A[14]+2878612391&4294967295,k=O+(j<<15&4294967295|j>>>17),j=P+(O^(k|~T))+A[5]+4237533241&4294967295,P=k+(j<<21&4294967295|j>>>11),j=T+(k^(P|~O))+A[12]+1700485571&4294967295,T=P+(j<<6&4294967295|j>>>26),j=O+(P^(T|~k))+A[3]+2399980690&4294967295,O=T+(j<<10&4294967295|j>>>22),j=k+(T^(O|~P))+A[10]+4293915773&4294967295,k=O+(j<<15&4294967295|j>>>17),j=P+(O^(k|~T))+A[1]+2240044497&4294967295,P=k+(j<<21&4294967295|j>>>11),j=T+(k^(P|~O))+A[8]+1873313359&4294967295,T=P+(j<<6&4294967295|j>>>26),j=O+(P^(T|~k))+A[15]+4264355552&4294967295,O=T+(j<<10&4294967295|j>>>22),j=k+(T^(O|~P))+A[6]+2734768916&4294967295,k=O+(j<<15&4294967295|j>>>17),j=P+(O^(k|~T))+A[13]+1309151649&4294967295,P=k+(j<<21&4294967295|j>>>11),j=T+(k^(P|~O))+A[4]+4149444226&4294967295,T=P+(j<<6&4294967295|j>>>26),j=O+(P^(T|~k))+A[11]+3174756917&4294967295,O=T+(j<<10&4294967295|j>>>22),j=k+(T^(O|~P))+A[2]+718787259&4294967295,k=O+(j<<15&4294967295|j>>>17),j=P+(O^(k|~T))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(k+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+O&4294967295}n.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var P=T-this.blockSize,A=this.B,k=this.h,O=0;O<T;){if(k==0)for(;O<=P;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<T;)if(A[k++]=C.charCodeAt(O++),k==this.blockSize){s(this,A),k=0;break}}else for(;O<T;)if(A[k++]=C[O++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=T},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var P=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=P&255,P/=256;for(this.u(C),C=Array(16),T=P=0;4>T;++T)for(var A=0;32>A;A+=8)C[P++]=this.g[T]>>>A&255;return C};function i(C,T){var P=a;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=T(C)}function o(C,T){this.h=T;for(var P=[],A=!0,k=C.length-1;0<=k;k--){var O=C[k]|0;A&&O==T||(P[k]=O,A=!1)}this.g=P}var a={};function l(C){return-128<=C&&128>C?i(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return b(u(-C));for(var T=[],P=1,A=0;C>=P;A++)T[A]=C/P|0,P*=4294967296;return new o(T,0)}function f(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return b(f(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),A=h,k=0;k<C.length;k+=8){var O=Math.min(8,C.length-k),j=parseInt(C.substring(k,k+O),T);8>O?(O=u(Math.pow(T,O)),A=A.j(O).add(u(j))):(A=A.j(P),A=A.add(u(j)))}return A}var h=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var C=0,T=1,P=0;P<this.g.length;P++){var A=this.i(P);C+=(0<=A?A:4294967296+A)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(v(this))return"-"+b(this).toString(C);for(var T=u(Math.pow(C,6)),P=this,A="";;){var k=I(P,T).g;P=_(P,k.j(T));var O=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=k,x(P))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=_(this,C),v(C)?-1:x(C)?0:1};function b(C){for(var T=C.g.length,P=[],A=0;A<T;A++)P[A]=~C.g[A];return new o(P,~C.h).add(p)}t.abs=function(){return v(this)?b(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),P=[],A=0,k=0;k<=T;k++){var O=A+(this.i(k)&65535)+(C.i(k)&65535),j=(O>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);A=j>>>16,O&=65535,j&=65535,P[k]=j<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(C,T){return C.add(b(T))}t.j=function(C){if(x(this)||x(C))return h;if(v(this))return v(C)?b(this).j(b(C)):b(b(this).j(C));if(v(C))return b(this.j(b(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var T=this.g.length+C.g.length,P=[],A=0;A<2*T;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<C.g.length;k++){var O=this.i(A)>>>16,j=this.i(A)&65535,B=C.i(k)>>>16,J=C.i(k)&65535;P[2*A+2*k]+=j*J,w(P,2*A+2*k),P[2*A+2*k+1]+=O*J,w(P,2*A+2*k+1),P[2*A+2*k+1]+=j*B,w(P,2*A+2*k+1),P[2*A+2*k+2]+=O*B,w(P,2*A+2*k+2)}for(A=0;A<T;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=T;A<2*T;A++)P[A]=0;return new o(P,0)};function w(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function S(C,T){this.g=C,this.h=T}function I(C,T){if(x(T))throw Error("division by zero");if(x(C))return new S(h,h);if(v(C))return T=I(b(C),T),new S(b(T.g),b(T.h));if(v(T))return T=I(C,b(T)),new S(b(T.g),T.h);if(30<C.g.length){if(v(C)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var P=p,A=T;0>=A.l(C);)P=N(P),A=N(A);var k=D(P,1),O=D(A,1);for(A=D(A,2),P=D(P,2);!x(A);){var j=O.add(A);0>=j.l(C)&&(k=k.add(P),O=j),A=D(A,1),P=D(P,1)}return T=_(C,k.j(T)),new S(k,T)}for(k=h;0<=C.l(T);){for(P=Math.max(1,Math.floor(C.m()/T.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=u(P),j=O.j(T);v(j)||0<j.l(C);)P-=A,O=u(P),j=O.j(T);x(O)&&(O=p),k=k.add(O),C=_(C,j)}return new S(k,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)&C.i(A);return new o(P,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)|C.i(A);return new o(P,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),P=[],A=0;A<T;A++)P[A]=this.i(A)^C.i(A);return new o(P,this.h^C.h)};function N(C){for(var T=C.g.length+1,P=[],A=0;A<T;A++)P[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(P,C.h)}function D(C,T){var P=T>>5;T%=32;for(var A=C.g.length-P,k=[],O=0;O<A;O++)k[O]=0<T?C.i(O+P)>>>T|C.i(O+P+1)<<32-T:C.i(O+P);return new o(k,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,eR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,wi=o}).apply(typeof Hb<"u"?Hb:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tR,oc,rR,ff,nv,nR,sR,iR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,E){return c==Array.prototype||c==Object.prototype||(c[m]=E.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function s(c,m){if(m)e:{var E=n;c=c.split(".");for(var R=0;R<c.length-1;R++){var M=c[R];if(!(M in E))break e;E=E[M]}c=c[c.length-1],R=E[c],m=m(R),m!=R&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var E=0,R=!1,M={next:function(){if(!R&&E<c.length){var L=E++;return{value:m(L,c[L]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function f(c,m,E){return c.call.apply(c.bind,arguments)}function h(c,m,E){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),c.apply(m,M)}}return function(){return c.apply(m,arguments)}}function p(c,m,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,p.apply(null,arguments)}function g(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function x(c,m){function E(){}E.prototype=m.prototype,c.aa=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(R,M,L){for(var q=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)q[ze-2]=arguments[ze];return m.prototype[M].apply(R,q)}}function v(c){const m=c.length;if(0<m){const E=Array(m);for(let R=0;R<m;R++)E[R]=c[R];return E}return[]}function b(c,m){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(l(R)){const M=c.length||0,L=R.length||0;c.length=M+L;for(let q=0;q<L;q++)c[M+q]=R[q]}else c.push(R)}}class _{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(c){return/^[\s\xa0]*$/.test(c)}function S(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var N=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function D(c,m,E){for(const R in c)m.call(E,c[R],R,c)}function C(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function T(c){const m={};for(const E in c)m[E]=c[E];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,m){let E,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(E in R)c[E]=R[E];for(let L=0;L<P.length;L++)E=P[L],Object.prototype.hasOwnProperty.call(R,E)&&(c[E]=R[E])}}function k(c){var m=1;c=c.split(":");const E=[];for(;0<m&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function O(c){a.setTimeout(()=>{throw c},0)}function j(){var c=U;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class B{constructor(){this.h=this.g=null}add(m,E){const R=J.get();R.set(m,E),this.h?this.h.next=R:this.g=R,this.h=R}}var J=new _(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,V=!1,U=new B,Q=()=>{const c=a.Promise.resolve(void 0);re=()=>{c.then(oe)}};var oe=()=>{for(var c;c=j();){try{c.h.call(c.g)}catch(E){O(E)}var m=J;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}V=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return c}();function je(c,m){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(N){e:{try{I(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Je[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&je.aa.h.call(this)}}x(je,ne);var Je={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ze(c,m,E,R,M){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!R,this.ha=M,this.key=++Oe,this.da=this.fa=!1}function xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function we(c){this.src=c,this.g={},this.h=0}we.prototype.add=function(c,m,E,R,M){var L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);var q=_t(c,m,R,M);return-1<q?(m=c[q],E||(m.fa=!1)):(m=new Ze(m,this.src,L,!!R,M),m.fa=E,c.push(m)),m};function Ee(c,m){var E=m.type;if(E in c.g){var R=c.g[E],M=Array.prototype.indexOf.call(R,m,void 0),L;(L=0<=M)&&Array.prototype.splice.call(R,M,1),L&&(xe(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function _t(c,m,E,R){for(var M=0;M<c.length;++M){var L=c[M];if(!L.da&&L.listener==m&&L.capture==!!E&&L.ha==R)return M}return-1}var Gt="closure_lm_"+(1e6*Math.random()|0),Xr={};function Jr(c,m,E,R,M){if(Array.isArray(m)){for(var L=0;L<m.length;L++)Jr(c,m[L],E,R,M);return null}return E=Ku(E),c&&c[K]?c.K(m,E,u(R)?!!R.capture:!1,M):qn(c,m,E,!1,R,M)}function qn(c,m,E,R,M,L){if(!m)throw Error("Invalid event type");var q=u(M)?!!M.capture:!!M,ze=Zr(c);if(ze||(c[Gt]=ze=new we(c)),E=ze.add(m,E,R,q,L),E.proxy)return E;if(R=Wi(),E.proxy=R,R.src=c,R.listener=E,c.addEventListener)fe||(M=q),M===void 0&&(M=!1),c.addEventListener(m.toString(),R,M);else if(c.attachEvent)c.attachEvent(Ns(m.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wi(){function c(E){return m.call(c.src,c.listener,E)}const m=Gu;return c}function Gn(c,m,E,R,M){if(Array.isArray(m))for(var L=0;L<m.length;L++)Gn(c,m[L],E,R,M);else R=u(R)?!!R.capture:!!R,E=Ku(E),c&&c[K]?(c=c.i,m=String(m).toString(),m in c.g&&(L=c.g[m],E=_t(L,E,R,M),-1<E&&(xe(L[E]),Array.prototype.splice.call(L,E,1),L.length==0&&(delete c.g[m],c.h--)))):c&&(c=Zr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=_t(m,E,R,M)),(E=-1<c?m[c]:null)&&qo(E))}function qo(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[K])Ee(m.i,c);else{var E=c.type,R=c.proxy;m.removeEventListener?m.removeEventListener(E,R,c.capture):m.detachEvent?m.detachEvent(Ns(E),R):m.addListener&&m.removeListener&&m.removeListener(R),(E=Zr(m))?(Ee(E,c),E.h==0&&(E.src=null,m[Gt]=null)):xe(c)}}}function Ns(c){return c in Xr?Xr[c]:Xr[c]="on"+c}function Gu(c,m){if(c.da)c=!0;else{m=new je(m,this);var E=c.listener,R=c.ha||c.src;c.fa&&qo(c),c=E.call(R,m)}return c}function Zr(c){return c=c[Gt],c instanceof we?c:null}var kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ku(c){return typeof c=="function"?c:(c[kl]||(c[kl]=function(m){return c.handleEvent(m)}),c[kl])}function Ve(){te.call(this),this.i=new we(this),this.M=this,this.F=null}x(Ve,te),Ve.prototype[K]=!0,Ve.prototype.removeEventListener=function(c,m,E,R){Gn(this,c,m,E,R)};function ct(c,m){var E,R=c.F;if(R)for(E=[];R;R=R.F)E.push(R);if(c=c.M,R=m.type||m,typeof m=="string")m=new ne(m,c);else if(m instanceof ne)m.target=m.target||c;else{var M=m;m=new ne(R,c),A(m,M)}if(M=!0,E)for(var L=E.length-1;0<=L;L--){var q=m.g=E[L];M=Go(q,R,!0,m)&&M}if(q=m.g=c,M=Go(q,R,!0,m)&&M,M=Go(q,R,!1,m)&&M,E)for(L=0;L<E.length;L++)q=m.g=E[L],M=Go(q,R,!1,m)&&M}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var E=c.g[m],R=0;R<E.length;R++)xe(E[R]);delete c.g[m],c.h--}}this.F=null},Ve.prototype.K=function(c,m,E,R){return this.i.add(String(c),m,!1,E,R)},Ve.prototype.L=function(c,m,E,R){return this.i.add(String(c),m,!0,E,R)};function Go(c,m,E,R){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,L=0;L<m.length;++L){var q=m[L];if(q&&!q.da&&q.capture==E){var ze=q.listener,Vt=q.ha||q.src;q.fa&&Ee(c.i,q),M=ze.call(Vt,R)!==!1&&M}}return M&&!R.defaultPrevented}function Qu(c,m,E){if(typeof c=="function")E&&(c=p(c,E));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function qi(c){c.g=Qu(()=>{c.g=null,c.i&&(c.i=!1,qi(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Xp extends te{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(c){te.call(this),this.h=c,this.g={}}x(ks,te);var Ko=[];function Kn(c){D(c.g,function(m,E){this.g.hasOwnProperty(E)&&qo(m)},c),c.g={}}ks.prototype.N=function(){ks.aa.N.call(this),Kn(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qo=a.JSON.stringify,js=a.JSON.parse,Jp=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function jl(){}jl.prototype.h=null;function Ol(c){return c.h||(c.h=c.i())}function Dl(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ki(){ne.call(this,"d")}x(Ki,ne);function Fr(){ne.call(this,"c")}x(Fr,ne);var Qn={},ue=null;function Ie(){return ue=ue||new Ve}Qn.La="serverreachability";function $e(c){ne.call(this,Qn.La,c)}x($e,ne);function Mt(c){const m=Ie();ct(m,new $e(m))}Qn.STAT_EVENT="statevent";function mr(c,m){ne.call(this,Qn.STAT_EVENT,c),this.stat=m}x(mr,ne);function et(c){const m=Ie();ct(m,new mr(m,c))}Qn.Ma="timingevent";function En(c,m){ne.call(this,Qn.Ma,c),this.size=m}x(En,ne);function Lt(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function Bj(c,m,E,R,M,L){c.info(function(){if(c.g)if(L)for(var q="",ze=L.split("&"),Vt=0;Vt<ze.length;Vt++){var Pe=ze[Vt].split("=");if(1<Pe.length){var Kt=Pe[0];Pe=Pe[1];var Qt=Kt.split("_");q=2<=Qt.length&&Qt[1]=="type"?q+(Kt+"="+Pe+"&"):q+(Kt+"=redacted&")}}else q=null;else q=L;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+m+`
`+E+`
`+q})}function Hj(c,m,E,R,M,L,q){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+m+`
`+E+`
`+L+" "+q})}function Yo(c,m,E,R){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+qj(c,E)+(R?" "+R:"")})}function Wj(c,m){c.info(function(){return"TIMEOUT: "+m})}gr.prototype.info=function(){};function qj(c,m){if(!c.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var R=E[c];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return Qo(E)}catch{return m}}var Yu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zp;function Xu(){}x(Xu,jl),Xu.prototype.g=function(){return new XMLHttpRequest},Xu.prototype.i=function(){return{}},Zp=new Xu;function Os(c,m,E,R){this.j=c,this.i=m,this.l=E,this.R=R||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kx}function kx(){this.i=null,this.g="",this.h=!1}var jx={},em={};function tm(c,m,E){c.L=1,c.v=td(Yn(m)),c.m=E,c.P=!0,Ox(c,null)}function Ox(c,m){c.F=Date.now(),Ju(c),c.A=Yn(c.v);var E=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Kx(E.i,"t",R),c.C=0,E=c.j.J,c.h=new kx,c.g=f0(c.j,E?m:null,!c.m),0<c.O&&(c.M=new Xp(p(c.Y,c,c.g),c.O)),m=c.U,E=c.g,R=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ko[0]=M.toString()),M=Ko);for(var L=0;L<M.length;L++){var q=Jr(E,M[L],R||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Mt(),Bj(c.i,c.u,c.A,c.l,c.R,c.m)}Os.prototype.ca=function(c){c=c.target;const m=this.M;m&&Xn(c)==3?m.j():this.Y(c)},Os.prototype.Y=function(c){try{if(c==this.g)e:{const Qt=Xn(this.g);var m=this.g.Ba();const Zo=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||t0(this.g)))){this.J||Qt!=4||m==7||(m==8||0>=Zo?Mt(3):Mt(2)),rm(this);var E=this.g.Z();this.X=E;t:if(Dx(this)){var R=t0(this.g);c="";var M=R.length,L=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),Ml(this);var q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,c+=this.h.i.decode(R[m],{stream:!(L&&m==M-1)});R.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=E==200,Hj(this.i,this.u,this.A,this.l,this.R,Qt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Vt=this.g;if((ze=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(ze)){var Pe=ze;break t}}Pe=null}if(E=Pe)Yo(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nm(this,E);else{this.o=!1,this.s=3,et(12),Qi(this),Ml(this);break e}}if(this.P){E=!0;let en;for(;!this.J&&this.C<q.length;)if(en=Gj(this,q),en==em){Qt==4&&(this.s=4,et(14),E=!1),Yo(this.i,this.l,null,"[Incomplete Response]");break}else if(en==jx){this.s=4,et(15),Yo(this.i,this.l,q,"[Invalid Chunk]"),E=!1;break}else Yo(this.i,this.l,en,null),nm(this,en);if(Dx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||q.length!=0||this.h.h||(this.s=1,et(16),E=!1),this.o=this.o&&E,!E)Yo(this.i,this.l,q,"[Invalid Chunked Response]"),Qi(this),Ml(this);else if(0<q.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),cm(Kt),Kt.M=!0,et(11))}}else Yo(this.i,this.l,q,null),nm(this,q);Qt==4&&Qi(this),this.o&&!this.J&&(Qt==4?l0(this.j,this):(this.o=!1,Ju(this)))}else u2(this.g),E==400&&0<q.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Qi(this),Ml(this)}}}catch{}finally{}};function Dx(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gj(c,m){var E=c.C,R=m.indexOf(`
`,E);return R==-1?em:(E=Number(m.substring(E,R)),isNaN(E)?jx:(R+=1,R+E>m.length?em:(m=m.slice(R,R+E),c.C=R+E,m)))}Os.prototype.cancel=function(){this.J=!0,Qi(this)};function Ju(c){c.S=Date.now()+c.I,Mx(c,c.I)}function Mx(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lt(p(c.ba,c),m)}function rm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Os.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wj(this.i,this.A),this.L!=2&&(Mt(),et(17)),Qi(this),this.s=2,Ml(this)):Mx(this,this.S-c)};function Ml(c){c.j.G==0||c.J||l0(c.j,c)}function Qi(c){rm(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Kn(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function nm(c,m){try{var E=c.j;if(E.G!=0&&(E.g==c||sm(E.h,c))){if(!c.K&&sm(E.h,c)&&E.G==3){try{var R=E.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)ad(E),id(E);else break e;lm(E),et(18)}}else E.za=M[1],0<E.za-E.T&&37500>M[2]&&E.F&&E.v==0&&!E.C&&(E.C=Lt(p(E.Za,E),6e3));if(1>=Fx(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Xi(E,11)}else if((c.K||E.g==c)&&ad(E),!w(m))for(M=E.Da.g.parse(m),m=0;m<M.length;m++){let Pe=M[m];if(E.T=Pe[0],Pe=Pe[1],E.G==2)if(Pe[0]=="c"){E.K=Pe[1],E.ia=Pe[2];const Kt=Pe[3];Kt!=null&&(E.la=Kt,E.j.info("VER="+E.la));const Qt=Pe[4];Qt!=null&&(E.Aa=Qt,E.j.info("SVER="+E.Aa));const Zo=Pe[5];Zo!=null&&typeof Zo=="number"&&0<Zo&&(R=1.5*Zo,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const en=c.g;if(en){const cd=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cd){var L=R.h;L.g||cd.indexOf("spdy")==-1&&cd.indexOf("quic")==-1&&cd.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(im(L,L.h),L.h=null))}if(R.D){const um=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;um&&(R.ya=um,Ge(R.I,R.D,um))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var q=c;if(R.qa=d0(R,R.J?R.ia:null,R.W),q.K){Ux(R.h,q);var ze=q,Vt=R.L;Vt&&(ze.I=Vt),ze.B&&(rm(ze),Ju(ze)),R.g=q}else o0(R);0<E.i.length&&od(E)}else Pe[0]!="stop"&&Pe[0]!="close"||Xi(E,7);else E.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Xi(E,7):am(E):Pe[0]!="noop"&&E.l&&E.l.ta(Pe),E.v=0)}}Mt(4)}catch{}}var Kj=class{constructor(c,m){this.g=c,this.map=m}};function Lx(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vx(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Fx(c){return c.h?1:c.g?c.g.size:0}function sm(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function im(c,m){c.g?c.g.add(m):c.h=m}function Ux(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Lx.prototype.cancel=function(){if(this.i=$x(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $x(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.D);return m}return v(c.i)}function Qj(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],E=c.length,R=0;R<E;R++)m.push(c[R]);return m}m=[],E=0;for(R in c)m[E++]=c[R];return m}function Yj(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var E=0;E<c;E++)m.push(E);return m}m=[],E=0;for(const R in c)m[E++]=R;return m}}}function zx(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var E=Yj(c),R=Qj(c),M=R.length,L=0;L<M;L++)m.call(void 0,R[L],E&&E[L],c)}var Bx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xj(c,m){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var R=c[E].indexOf("="),M=null;if(0<=R){var L=c[E].substring(0,R);M=c[E].substring(R+1)}else L=c[E];m(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yi){this.h=c.h,Zu(this,c.j),this.o=c.o,this.g=c.g,ed(this,c.s),this.l=c.l;var m=c.i,E=new Fl;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),Hx(this,E),this.m=c.m}else c&&(m=String(c).match(Bx))?(this.h=!1,Zu(this,m[1]||"",!0),this.o=Ll(m[2]||""),this.g=Ll(m[3]||"",!0),ed(this,m[4]),this.l=Ll(m[5]||"",!0),Hx(this,m[6]||"",!0),this.m=Ll(m[7]||"")):(this.h=!1,this.i=new Fl(null,this.h))}Yi.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Vl(m,Wx,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Vl(m,Wx,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Vl(E,E.charAt(0)=="/"?e2:Zj,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Vl(E,r2)),c.join("")};function Yn(c){return new Yi(c)}function Zu(c,m,E){c.j=E?Ll(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ed(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Hx(c,m,E){m instanceof Fl?(c.i=m,n2(c.i,c.h)):(E||(m=Vl(m,t2)),c.i=new Fl(m,c.h))}function Ge(c,m,E){c.i.set(m,E)}function td(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ll(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vl(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,Jj),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jj(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Wx=/[#\/\?@]/g,Zj=/[#\?:]/g,e2=/[#\?]/g,t2=/[#\?@]/g,r2=/#/g;function Fl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Ds(c){c.g||(c.g=new Map,c.h=0,c.i&&Xj(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=Fl.prototype,t.add=function(c,m){Ds(this),this.i=null,c=Xo(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function qx(c,m){Ds(c),m=Xo(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Gx(c,m){return Ds(c),m=Xo(c,m),c.g.has(m)}t.forEach=function(c,m){Ds(this),this.g.forEach(function(E,R){E.forEach(function(M){c.call(m,M,R,this)},this)},this)},t.na=function(){Ds(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let R=0;R<m.length;R++){const M=c[R];for(let L=0;L<M.length;L++)E.push(m[R])}return E},t.V=function(c){Ds(this);let m=[];if(typeof c=="string")Gx(this,c)&&(m=m.concat(this.g.get(Xo(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)m=m.concat(c[E])}return m},t.set=function(c,m){return Ds(this),this.i=null,c=Xo(this,c),Gx(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Kx(c,m,E){qx(c,m),0<E.length&&(c.i=null,c.g.set(Xo(c,m),v(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var R=m[E];const L=encodeURIComponent(String(R)),q=this.V(R);for(R=0;R<q.length;R++){var M=L;q[R]!==""&&(M+="="+encodeURIComponent(String(q[R]))),c.push(M)}}return this.i=c.join("&")};function Xo(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function n2(c,m){m&&!c.j&&(Ds(c),c.i=null,c.g.forEach(function(E,R){var M=R.toLowerCase();R!=M&&(qx(this,R),Kx(this,M,E))},c)),c.j=m}function s2(c,m){const E=new gr;if(a.Image){const R=new Image;R.onload=g(Ms,E,"TestLoadImage: loaded",!0,m,R),R.onerror=g(Ms,E,"TestLoadImage: error",!1,m,R),R.onabort=g(Ms,E,"TestLoadImage: abort",!1,m,R),R.ontimeout=g(Ms,E,"TestLoadImage: timeout",!1,m,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else m(!1)}function i2(c,m){const E=new gr,R=new AbortController,M=setTimeout(()=>{R.abort(),Ms(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:R.signal}).then(L=>{clearTimeout(M),L.ok?Ms(E,"TestPingServer: ok",!0,m):Ms(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Ms(E,"TestPingServer: error",!1,m)})}function Ms(c,m,E,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(E)}catch{}}function o2(){this.g=new Jp}function a2(c,m,E){const R=E||"";try{zx(c,function(M,L){let q=M;u(M)&&(q=Qo(M)),m.push(R+L+"="+encodeURIComponent(q))})}catch(M){throw m.push(R+"type="+encodeURIComponent("_badmap")),M}}function rd(c){this.l=c.Ub||null,this.j=c.eb||!1}x(rd,jl),rd.prototype.g=function(){return new nd(this.l,this.j)},rd.prototype.i=function(c){return function(){return c}}({});function nd(c,m){Ve.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(nd,Ve),t=nd.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,$l(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ul(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qx(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qx(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ul(this):$l(this),this.readyState==3&&Qx(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ul(this))},t.Qa=function(c){this.g&&(this.response=c,Ul(this))},t.ga=function(){this.g&&Ul(this)};function Ul(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$l(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function $l(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(nd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yx(c){let m="";return D(c,function(E,R){m+=R,m+=":",m+=E,m+=`\r
`}),m}function om(c,m,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Yx(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):Ge(c,m,E))}function ut(c){Ve.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ut,Ve);var l2=/^https?$/i,c2=["POST","PUT"];t=ut.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zp.g(),this.v=this.o?Ol(this.o):Ol(Zp),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(L){Xx(this,L);return}if(c=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)E.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const L of R.keys())E.set(L,R.get(L));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(c2,m,void 0))||R||M||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,q]of E)this.g.setRequestHeader(L,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{e0(this),this.u=!0,this.g.send(c),this.u=!1}catch(L){Xx(this,L)}};function Xx(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Jx(c),sd(c)}function Jx(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ct(this,"complete"),ct(this,"abort"),sd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sd(this,!0)),ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zx(this):this.bb())},t.bb=function(){Zx(this)};function Zx(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)Qu(c.Ea,0,c);else if(ct(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var R;if(R=q===0){var M=String(c.D).match(Bx)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!l2.test(M?M.toLowerCase():"")}E=R}if(E)ct(c,"complete"),ct(c,"success");else{c.m=6;try{var L=2<Xn(c)?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.Z()+"]",Jx(c)}}finally{sd(c)}}}}function sd(c,m){if(c.g){e0(c);const E=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||ct(c,"ready");try{E.onreadystatechange=R}catch{}}}function e0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),js(m)}};function t0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function u2(c){const m={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(w(c[R]))continue;var E=k(c[R]);const M=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const L=m[M]||[];m[M]=L,L.push(E)}C(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zl(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function r0(c){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zl("baseRetryDelayMs",5e3,c),this.cb=zl("retryDelaySeedMs",1e4,c),this.Wa=zl("forwardChannelMaxRetries",2,c),this.wa=zl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Lx(c&&c.concurrentRequestLimit),this.Da=new o2,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=r0.prototype,t.la=8,t.G=1,t.connect=function(c,m,E,R){et(0),this.W=c,this.H=m||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=d0(this,null,this.W),od(this)};function am(c){if(n0(c),c.G==3){var m=c.U++,E=Yn(c.I);if(Ge(E,"SID",c.K),Ge(E,"RID",m),Ge(E,"TYPE","terminate"),Bl(c,E),m=new Os(c,c.j,m),m.L=2,m.v=td(Yn(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=f0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ju(m)}u0(c)}function id(c){c.g&&(cm(c),c.g.cancel(),c.g=null)}function n0(c){id(c),c.u&&(a.clearTimeout(c.u),c.u=null),ad(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function od(c){if(!Vx(c.h)&&!c.s){c.s=!0;var m=c.Ga;re||Q(),V||(re(),V=!0),U.add(m,c),c.B=0}}function d2(c,m){return Fx(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lt(p(c.Ga,c,m),c0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Os(this,this.j,c);let L=this.o;if(this.S&&(L?(L=T(L),A(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=i0(this,M,m),E=Yn(this.I),Ge(E,"RID",c),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),Bl(this,E),L&&(this.O?m="headers="+encodeURIComponent(String(Yx(L)))+"&"+m:this.m&&om(E,this.m,L)),im(this.h,M),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",m),Ge(E,"SID","null"),M.T=!0,tm(M,E,null)):tm(M,E,m),this.G=2}}else this.G==3&&(c?s0(this,c):this.i.length==0||Vx(this.h)||s0(this))};function s0(c,m){var E;m?E=m.l:E=c.U++;const R=Yn(c.I);Ge(R,"SID",c.K),Ge(R,"RID",E),Ge(R,"AID",c.T),Bl(c,R),c.m&&c.o&&om(R,c.m,c.o),E=new Os(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),m&&(c.i=m.D.concat(c.i)),m=i0(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),im(c.h,E),tm(E,R,m)}function Bl(c,m){c.H&&D(c.H,function(E,R){Ge(m,R,E)}),c.l&&zx({},function(E,R){Ge(m,R,E)})}function i0(c,m,E){E=Math.min(c.i.length,E);var R=c.l?p(c.l.Na,c.l,c):null;e:{var M=c.i;let L=-1;for(;;){const q=["count="+E];L==-1?0<E?(L=M[0].g,q.push("ofs="+L)):L=0:q.push("ofs="+L);let ze=!0;for(let Vt=0;Vt<E;Vt++){let Pe=M[Vt].g;const Kt=M[Vt].map;if(Pe-=L,0>Pe)L=Math.max(0,M[Vt].g-100),ze=!1;else try{a2(Kt,q,"req"+Pe+"_")}catch{R&&R(Kt)}}if(ze){R=q.join("&");break e}}}return c=c.i.splice(0,E),m.D=c,R}function o0(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;re||Q(),V||(re(),V=!0),U.add(m,c),c.v=0}}function lm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lt(p(c.Fa,c),c0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,a0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lt(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),id(this),a0(this))};function cm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function a0(c){c.g=new Os(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Yn(c.qa);Ge(m,"RID","rpc"),Ge(m,"SID",c.K),Ge(m,"AID",c.T),Ge(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(m,"TO",c.ja),Ge(m,"TYPE","xmlhttp"),Bl(c,m),c.m&&c.o&&om(m,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=td(Yn(m)),E.m=null,E.P=!0,Ox(E,c)}t.Za=function(){this.C!=null&&(this.C=null,id(this),lm(this),et(19))};function ad(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function l0(c,m){var E=null;if(c.g==m){ad(c),cm(c),c.g=null;var R=2}else if(sm(c.h,m))E=m.D,Ux(c.h,m),R=1;else return;if(c.G!=0){if(m.o)if(R==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var M=c.B;R=Ie(),ct(R,new En(R,E)),od(c)}else o0(c);else if(M=m.s,M==3||M==0&&0<m.X||!(R==1&&d2(c,m)||R==2&&lm(c)))switch(E&&0<E.length&&(m=c.h,m.i=m.i.concat(E)),M){case 1:Xi(c,5);break;case 4:Xi(c,10);break;case 3:Xi(c,6);break;default:Xi(c,2)}}}function c0(c,m){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*m}function Xi(c,m){if(c.j.info("Error code "+m),m==2){var E=p(c.fb,c),R=c.Xa;const M=!R;R=new Yi(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zu(R,"https"),td(R),M?s2(R.toString(),E):i2(R.toString(),E)}else et(2);c.G=0,c.l&&c.l.sa(m),u0(c),n0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function u0(c){if(c.G=0,c.ka=[],c.l){const m=$x(c.h);(m.length!=0||c.i.length!=0)&&(b(c.ka,m),b(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function d0(c,m,E){var R=E instanceof Yi?Yn(E):new Yi(E);if(R.g!="")m&&(R.g=m+"."+R.g),ed(R,R.s);else{var M=a.location;R=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var L=new Yi(null);R&&Zu(L,R),m&&(L.g=m),M&&ed(L,M),E&&(L.l=E),R=L}return E=c.D,m=c.ya,E&&m&&Ge(R,E,m),Ge(R,"VER",c.la),Bl(c,R),R}function f0(c,m,E){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ut(new rd({eb:E})):new ut(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function h0(){}t=h0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ld(){}ld.prototype.g=function(c,m){return new Cr(c,m)};function Cr(c,m){Ve.call(this),this.g=new r0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!w(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Jo(this)}x(Cr,Ve),Cr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cr.prototype.close=function(){am(this.g)},Cr.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Qo(c),c=E);m.i.push(new Kj(m.Ya++,c)),m.G==3&&od(m)},Cr.prototype.N=function(){this.g.l=null,delete this.j,am(this.g),delete this.g,Cr.aa.N.call(this)};function p0(c){Ki.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}x(p0,Ki);function m0(){Fr.call(this),this.status=1}x(m0,Fr);function Jo(c){this.g=c}x(Jo,h0),Jo.prototype.ua=function(){ct(this.g,"a")},Jo.prototype.ta=function(c){ct(this.g,new p0(c))},Jo.prototype.sa=function(c){ct(this.g,new m0)},Jo.prototype.ra=function(){ct(this.g,"b")},ld.prototype.createWebChannel=ld.prototype.g,Cr.prototype.send=Cr.prototype.o,Cr.prototype.open=Cr.prototype.m,Cr.prototype.close=Cr.prototype.close,iR=function(){return new ld},sR=function(){return Ie()},nR=Qn,nv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yu.NO_ERROR=0,Yu.TIMEOUT=8,Yu.HTTP_ERROR=6,ff=Yu,Nx.COMPLETE="complete",rR=Nx,Dl.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,oc=Dl,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,tR=ut}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const Wb="@firebase/firestore",qb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}er.UNAUTHENTICATED=new er(null),er.GOOGLE_CREDENTIALS=new er("google-credentials-uid"),er.FIRST_PARTY=new er("first-party-uid"),er.MOCK_USER=new er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new c_("@firebase/firestore");function sa(){return ko.logLevel}function Z(t,...e){if(ko.logLevel<=be.DEBUG){const r=e.map(__);ko.debug(`Firestore (${Tl}): ${t}`,...r)}}function Ss(t,...e){if(ko.logLevel<=be.ERROR){const r=e.map(__);ko.error(`Firestore (${Tl}): ${t}`,...r)}}function il(t,...e){if(ko.logLevel<=be.WARN){const r=e.map(__);ko.warn(`Firestore (${Tl}): ${t}`,...r)}}function __(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,oR(t,n,r)}function oR(t,e,r){let n=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ss(n),new Error(n)}function Le(t,e,r,n){let s="Unexpected state";typeof r=="string"?s=r:n=r,t||oR(e,s,n)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ps{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(er.UNAUTHENTICATED))}shutdown(){}}class y${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class v${constructor(e){this.t=e,this.currentUser=er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Le(this.o===void 0,42304);let n=this.i;const s=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ds,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ds)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Le(typeof n.accessToken=="string",31837,{l:n}),new aR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new er(e)}}class w${constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _${constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new w$(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x${constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Le(this.o===void 0,3512);const n=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Le(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Gb(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=E$(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%62))}return n}}function Se(t,e){return t<e?-1:t>e?1:0}function sv(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const s=t.charAt(n),i=e.charAt(n);if(s!==i)return ug(s)===ug(i)?Se(s,i):ug(s)?1:-1}return Se(t.length,e.length)}const b$=55296,S$=57343;function ug(t){const e=t.charCodeAt(0);return e>=b$&&e<=S$}function ol(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="__name__";class Tn{constructor(e,r,n){r===void 0?r=0:r>e.length&&le(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&le(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Tn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Tn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=Tn.compareSegments(e.get(s),r.get(s));if(i!==0)return i}return Se(e.length,r.length)}static compareSegments(e,r){const n=Tn.isNumericId(e),s=Tn.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Tn.extractNumericId(e).compare(Tn.extractNumericId(r)):sv(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class He extends Tn{construct(e,r,n){return new He(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new He(r)}static emptyPath(){return new He([])}}const T$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Tn{construct(e,r,n){return new Bt(e,r,n)}static isValidIdentifier(e){return T$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kb}static keyField(){return new Bt([Kb])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(n+=a,s++):(i(),s++)}if(i(),o)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(r)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(He.fromString(e))}static fromName(e){return new se(He.fromString(e).popFirst(5))}static empty(){return new se(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return He.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e,r){if(!r)throw new Y(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C$(t,e,r,n){if(e===!0&&n===!0)throw new Y(F.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Qb(t){if(!se.isDocumentKey(t))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yb(t){if(se.isDocumentKey(t))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vp(t);throw new Y(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t,e){const r={typeString:t};return e&&(r.value=e),r}function Ou(t,e){if(!cR(t))throw new Y(F.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const s=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(s&&typeof o!==s){r=`JSON field '${n}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new Y(F.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=-62135596800,Jb=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Jb);return new Ye(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Xb)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jb}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Tt("string",Ye._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Ye(0,0))}static max(){return new pe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function I$(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(n===1e9?new Ye(r+1,0):new Ye(r,n));return new Ai(s,se.empty(),e)}function A$(t){return new Ai(t.readTime,t.key,iu)}class Ai{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ai(pe.min(),se.empty(),iu)}static max(){return new Ai(pe.max(),se.empty(),iu)}}function P$(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=se.comparator(t.documentKey,e.documentKey),r!==0?r:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==R$)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new z((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof z?r:z.resolve(r)}catch(r){return z.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):z.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):z.reject(r)}static resolve(e){return new z((r,n)=>{r(e)})}static reject(e){return new z((r,n)=>{n(e)})}static waitFor(e){return new z((r,n)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&r()},l=>n(l))}),o=!0,i===s&&r()})}static or(e){let r=z.resolve(!1);for(const n of e)r=r.next(s=>s?z.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new z((n,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;r(e[u]).next(f=>{o[u]=f,++a,a===i&&n(o)},f=>s(f))}})}static doWhile(e,r){return new z((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function k$(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-1;function _p(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function j$(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="";function O$(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=Zb(e)),e=D$(t.get(r),e);return Zb(e)}function D$(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const i=t.charAt(s);switch(i){case"\0":r+="";break;case uR:r+="";break;default:r+=i}}return r}function Zb(t){return t+uR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function $i(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function dR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,r){this.comparator=e,this.root=r||$t.EMPTY}insert(e,r){return new lt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??$t.RED,this.left=s??$t.EMPTY,this.right=i??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new $t(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,r,n,s,i){return this}insert(e,r,n){return new $t(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new tS(this.data.getIterator())}getIteratorFrom(e){return new tS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Pt(this.comparator);return r.data=e,r}}class tS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Rr([])}unionWith(e){let r=new Pt(Bt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Rr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new fR("Invalid base64 string: "+i):i}}(e);return new qt(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new qt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const M$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const r=M$.exec(t);if(Le(!!r,46558,{timestamp:t}),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="server_timestamp",pR="__type__",mR="__previous_value__",gR="__local_write_time__";function b_(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[pR])==null?void 0:n.stringValue)===hR}function xp(t){const e=t.mapValue.fields[mR];return b_(e)?xp(e):e}function ou(t){const e=Pi(t.mapValue.fields[gR].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,r,n,s,i,o,a,l,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const wh="(default)";class au{constructor(e,r){this.projectId=e,this.database=r||wh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="__type__",V$="__max__",Ld={mapValue:{}},vR="__vector__",_h="value";function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b_(t)?4:U$(t)?9007199254740991:F$(t)?10:11:le(28295,{value:t})}function zn(t,e){if(t===e)return!0;const r=Ni(t);if(r!==Ni(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Pi(s.timestampValue),a=Pi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ri(s.bytesValue).isEqual(Ri(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return gt(s.geoPointValue.latitude)===gt(i.geoPointValue.latitude)&&gt(s.geoPointValue.longitude)===gt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return gt(s.integerValue)===gt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=gt(s.doubleValue),a=gt(i.doubleValue);return o===a?vh(o)===vh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ol(t.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(eS(o)!==eS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zn(o[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function lu(t,e){return(t.values||[]).find(r=>zn(r,e))!==void 0}function al(t,e){if(t===e)return 0;const r=Ni(t),n=Ni(e);if(r!==n)return Se(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=gt(i.integerValue||i.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rS(t.timestampValue,e.timestampValue);case 4:return rS(ou(t),ou(e));case 5:return sv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ri(i),l=Ri(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=Se(a[u],l[u]);if(f!==0)return f}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(gt(i.latitude),gt(o.latitude));return a!==0?a:Se(gt(i.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nS(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,g,x,v;const a=i.fields||{},l=o.fields||{},u=(p=a[_h])==null?void 0:p.arrayValue,f=(g=l[_h])==null?void 0:g.arrayValue,h=Se(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((v=f==null?void 0:f.values)==null?void 0:v.length)||0);return h!==0?h:nS(u,f)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ld.mapValue&&o===Ld.mapValue)return 0;if(i===Ld.mapValue)return 1;if(o===Ld.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const p=sv(l[h],f[h]);if(p!==0)return p;const g=al(a[l[h]],u[f[h]]);if(g!==0)return g}return Se(l.length,f.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:r})}}function rS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const r=Pi(t),n=Pi(e),s=Se(r.seconds,n.seconds);return s!==0?s:Se(r.nanos,n.nanos)}function nS(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=al(r[s],n[s]);if(i)return i}return Se(r.length,n.length)}function ll(t){return iv(t)}function iv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Pi(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ri(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return se.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=iv(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${iv(r.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function hf(t){switch(Ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xp(t);return e?16+hf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,i)=>s+hf(i),0)}(t.arrayValue);case 10:case 11:return function(n){let s=0;return $i(n.fields,(i,o)=>{s+=i.length+hf(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function sS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ov(t){return!!t&&"integerValue"in t}function S_(t){return!!t&&"arrayValue"in t}function iS(t){return!!t&&"nullValue"in t}function oS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function F$(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[yR])==null?void 0:n.stringValue)===vR}function Cc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return $i(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Cc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Cc(t.arrayValue.values[r]);return e}return{...t}}function U$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===V$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!pf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(r)}setAll(e){let r=Bt.emptyPath(),n={},s=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,s),n={},s=[],r=a.popLast()}o?n[a.lastSegment()]=Cc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());pf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];pf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){$i(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new xr(Cc(this.value))}}function wR(t){const e=[];return $i(t.fields,(r,n)=>{const s=new Bt([r]);if(pf(n)){const i=wR(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,r,n,s,i,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new rr(e,0,pe.min(),pe.min(),pe.min(),xr.empty(),0)}static newFoundDocument(e,r,n,s){return new rr(e,1,r,pe.min(),n,s,0)}static newNoDocument(e,r){return new rr(e,2,r,pe.min(),pe.min(),xr.empty(),0)}static newUnknownDocument(e,r){return new rr(e,3,r,pe.min(),pe.min(),xr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,r){this.position=e,this.inclusive=r}}function aS(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=se.comparator(se.fromName(o.referenceValue),r.key):n=al(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function lS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!zn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,r="asc"){this.field=e,this.dir=r}}function $$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{}class St extends _R{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new B$(e,r,n):r==="array-contains"?new q$(e,n):r==="in"?new G$(e,n):r==="not-in"?new K$(e,n):r==="array-contains-any"?new Q$(e,n):new St(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new H$(e,n):new W$(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(al(r,this.value)):r!==null&&Ni(this.value)===Ni(r)&&this.matchesComparison(al(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends _R{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new _n(e,r)}matches(e){return xR(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xR(t){return t.op==="and"}function ER(t){return z$(t)&&xR(t)}function z$(t){for(const e of t.filters)if(e instanceof _n)return!1;return!0}function av(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+ll(t.value);if(ER(t))return t.filters.map(e=>av(e)).join(",");{const e=t.filters.map(r=>av(r)).join(",");return`${t.op}(${e})`}}function bR(t,e){return t instanceof St?function(n,s){return s instanceof St&&n.op===s.op&&n.field.isEqual(s.field)&&zn(n.value,s.value)}(t,e):t instanceof _n?function(n,s){return s instanceof _n&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,a)=>i&&bR(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function SR(t){return t instanceof St?function(r){return`${r.field.canonicalString()} ${r.op} ${ll(r.value)}`}(t):t instanceof _n?function(r){return r.op.toString()+" {"+r.getFilters().map(SR).join(" ,")+"}"}(t):"Filter"}class B$ extends St{constructor(e,r,n){super(e,r,n),this.key=se.fromName(n.referenceValue)}matches(e){const r=se.comparator(e.key,this.key);return this.matchesComparison(r)}}class H$ extends St{constructor(e,r){super(e,"in",r),this.keys=TR("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class W$ extends St{constructor(e,r){super(e,"not-in",r),this.keys=TR("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function TR(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>se.fromName(n.referenceValue))}class q$ extends St{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return S_(r)&&lu(r.arrayValue,this.value)}}class G$ extends St{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&lu(this.value.arrayValue,r)}}class K$ extends St{constructor(e,r){super(e,"not-in",r)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!lu(this.value.arrayValue,r)}}class Q$ extends St{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!S_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>lu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e,r=null,n=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function cS(t,e=null,r=[],n=[],s=null,i=null,o=null){return new Y$(t,e,r,n,s,i,o)}function T_(t){const e=me(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>av(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),_p(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ll(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ll(n)).join(",")),e.Te=r}return e.Te}function C_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!$$(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!bR(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lS(t.startAt,e.startAt)&&lS(t.endAt,e.endAt)}function lv(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,r=null,n=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X$(t,e,r,n,s,i,o,a){return new Al(t,e,r,n,s,i,o,a)}function Ep(t){return new Al(t)}function uS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CR(t){return t.collectionGroup!==null}function Ic(t){const e=me(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pt(Bt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new cu(i,n))}),r.has(Bt.keyField().canonicalString())||e.Ie.push(new cu(Bt.keyField(),n))}return e.Ie}function Ln(t){const e=me(t);return e.Ee||(e.Ee=J$(e,Ic(t))),e.Ee}function J$(t,e){if(t.limitType==="F")return cS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new cu(s.field,i)});const r=t.endAt?new xh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new xh(t.startAt.position,t.startAt.inclusive):null;return cS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function cv(t,e){const r=t.filters.concat([e]);return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function uv(t,e,r){return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function bp(t,e){return C_(Ln(t),Ln(e))&&t.limitType===e.limitType}function IR(t){return`${T_(Ln(t))}|lt:${t.limitType}`}function ia(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>SR(s)).join(", ")}]`),_p(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>ll(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>ll(s)).join(",")),`Target(${n})`}(Ln(t))}; limitType=${t.limitType})`}function Sp(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):se.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of Ic(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,l){const u=aS(o,a,l);return o.inclusive?u<=0:u<0}(n.startAt,Ic(n),s)||n.endAt&&!function(o,a,l){const u=aS(o,a,l);return o.inclusive?u>=0:u>0}(n.endAt,Ic(n),s))}(t,e)}function Z$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AR(t){return(e,r)=>{let n=!1;for(const s of Ic(t)){const i=ez(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function ez(t,e,r){const n=t.field.isKeyField()?se.comparator(e.key,r.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?al(l,u):le(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$i(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return dR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=new lt(se.comparator);function Ts(){return tz}const PR=new lt(se.comparator);function ac(...t){let e=PR;for(const r of t)e=e.insert(r.key,r);return e}function RR(t){let e=PR;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function lo(){return Ac()}function NR(){return Ac()}function Ac(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const rz=new lt(se.comparator),nz=new Pt(se.comparator);function Te(...t){let e=nz;for(const r of t)e=e.add(r);return e}const sz=new Pt(Se);function iz(){return sz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function kR(t){return{integerValue:""+t}}function jR(t,e){return j$(e)?kR(e):I_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this._=void 0}}function oz(t,e,r){return t instanceof Eh?function(s,i){const o={fields:{[pR]:{stringValue:hR},[gR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&b_(i)&&(i=xp(i)),i&&(o.fields[mR]=i),{mapValue:o}}(r,e):t instanceof uu?DR(t,e):t instanceof du?MR(t,e):function(s,i){const o=OR(s,i),a=dS(o)+dS(s.Ae);return ov(o)&&ov(s.Ae)?kR(a):I_(s.serializer,a)}(t,e)}function az(t,e,r){return t instanceof uu?DR(t,e):t instanceof du?MR(t,e):r}function OR(t,e){return t instanceof fu?function(n){return ov(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Eh extends Tp{}class uu extends Tp{constructor(e){super(),this.elements=e}}function DR(t,e){const r=LR(e);for(const n of t.elements)r.some(s=>zn(s,n))||r.push(n);return{arrayValue:{values:r}}}class du extends Tp{constructor(e){super(),this.elements=e}}function MR(t,e){let r=LR(e);for(const n of t.elements)r=r.filter(s=>!zn(s,n));return{arrayValue:{values:r}}}class fu extends Tp{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function dS(t){return gt(t.integerValue||t.doubleValue)}function LR(t){return S_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,r){this.field=e,this.transform=r}}function cz(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof uu&&s instanceof uu||n instanceof du&&s instanceof du?ol(n.elements,s.elements,zn):n instanceof fu&&s instanceof fu?zn(n.Ae,s.Ae):n instanceof Eh&&s instanceof Eh}(t.transform,e.transform)}class uz{constructor(e,r){this.version=e,this.transformResults=r}}class fr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Cp=class{};function VR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ip(t.key,fr.none()):new Du(t.key,t.data,fr.none());{const r=t.data,n=xr.empty();let s=new Pt(Bt.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new zi(t.key,n,new Rr(s.toArray()),fr.none())}}function dz(t,e,r){t instanceof Du?function(s,i,o){const a=s.value.clone(),l=hS(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof zi?function(s,i,o){if(!mf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=hS(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(FR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Pc(t,e,r,n){return t instanceof Du?function(i,o,a,l){if(!mf(i.precondition,o))return a;const u=i.value.clone(),f=pS(i.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof zi?function(i,o,a,l){if(!mf(i.precondition,o))return a;const u=pS(i.fieldTransforms,l,o),f=o.data;return f.setAll(FR(i)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(i,o,a){return mf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function fz(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=OR(n.transform,s||null);i!=null&&(r===null&&(r=xr.empty()),r.set(n.field,i))}return r||null}function fS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&ol(n,s,(i,o)=>cz(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Du extends Cp{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zi extends Cp{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function FR(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function hS(t,e,r){const n=new Map;Le(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);n.set(i.field,az(o,a,r[s]))}return n}function pS(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,oz(i,o,e))}return n}class Ip extends Cp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hz extends Cp{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&dz(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Pc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Pc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=NR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=r.has(s.key)?null:a;const l=VR(o,a);l!==null&&n.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Te())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(r,n)=>fS(r,n))&&ol(this.baseMutations,e.baseMutations,(r,n)=>fS(r,n))}}class A_{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){Le(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=function(){return rz}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new A_(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ce;function yz(t){switch(t){case F.OK:return le(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function UR(t){if(t===void 0)return Ss("GRPC error has no .code"),F.UNKNOWN;switch(t){case xt.OK:return F.OK;case xt.CANCELLED:return F.CANCELLED;case xt.UNKNOWN:return F.UNKNOWN;case xt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case xt.INTERNAL:return F.INTERNAL;case xt.UNAVAILABLE:return F.UNAVAILABLE;case xt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case xt.NOT_FOUND:return F.NOT_FOUND;case xt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case xt.ABORTED:return F.ABORTED;case xt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case xt.DATA_LOSS:return F.DATA_LOSS;default:return le(39323,{code:t})}}(Ce=xt||(xt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=new wi([4294967295,4294967295],0);function mS(t){const e=vz().encode(t),r=new eR;return r.update(e),new Uint8Array(r.digest())}function gS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new wi([r,n],0),new wi([s,i],0)]}class P_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new lc(`Invalid padding: ${r}`);if(n<0)throw new lc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new lc(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=wi.fromNumber(this.ge)}ye(e,r,n){let s=e.add(r.multiply(wi.fromNumber(n)));return s.compare(wz)===1&&(s=new wi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=mS(e),[n,s]=gS(r);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,s,i);if(!this.we(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new P_(i,s,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const r=mS(e),[n,s]=gS(r);for(let i=0;i<this.hashCount;i++){const o=this.ye(n,s,i);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ap(pe.min(),s,new lt(Se),Ts(),Te())}}class Mu{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Mu(n,r,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,r,n,s){this.be=e,this.removedTargetIds=r,this.key=n,this.De=s}}class $R{constructor(e,r){this.targetId=e,this.Ce=r}}class zR{constructor(e,r,n=qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class yS{constructor(){this.ve=0,this.Fe=vS(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Te(),r=Te(),n=Te();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:le(38017,{changeType:i})}}),new Mu(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=vS()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _z{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=Vd(),this.He=Vd(),this.Ye=new lt(Se)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,s)=>{this.rt(s)&&r(s)})}st(e){const r=e.targetId,n=e.Ce.count,s=this.ot(r);if(s){const i=s.target;if(lv(i))if(n===0){const o=new se(i.path);this.et(r,o,rr.newNoDocument(o,pe.min()))}else Le(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,a;try{o=Ri(n).toUint8Array()}catch(l){if(l instanceof fR)return il("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new P_(o,s,i)}catch(l){return il(l instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(r,i,null),s++)}),s}Tt(e){const r=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&lv(a.target)){const l=new se(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,rr.newNoDocument(l,e))}i.Be&&(r.set(o,i.ke()),i.qe())}});let n=Te();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ap(e,r,this.Ye,this.je,n);return this.je=Ts(),this.Je=Vd(),this.He=Vd(),this.Ye=new lt(Se),s}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,r)?s.Qe(r,1):s.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new yS,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Pt(Se),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Pt(Se),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Z("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yS),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Vd(){return new lt(se.comparator)}function vS(){return new lt(se.comparator)}const xz={asc:"ASCENDING",desc:"DESCENDING"},Ez={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bz={and:"AND",or:"OR"};class Sz{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function dv(t,e){return t.useProto3Json||_p(e)?e:{value:e}}function bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tz(t,e){return bh(t,e.toTimestamp())}function Vn(t){return Le(!!t,49232),pe.fromTimestamp(function(r){const n=Pi(r);return new Ye(n.seconds,n.nanos)}(t))}function R_(t,e){return fv(t,e).canonicalString()}function fv(t,e){const r=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function HR(t){const e=He.fromString(t);return Le(QR(e),10190,{key:e.toString()}),e}function hv(t,e){return R_(t.databaseId,e.path)}function dg(t,e){const r=HR(e);if(r.get(1)!==t.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new se(qR(r))}function WR(t,e){return R_(t.databaseId,e)}function Cz(t){const e=HR(t);return e.length===4?He.emptyPath():qR(e)}function pv(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qR(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wS(t,e,r){return{name:hv(t,e),fields:r.value.mapValue.fields}}function Iz(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,f){return u.useProto3Json?(Le(f===void 0||typeof f=="string",58123),qt.fromBase64String(f||"")):(Le(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),qt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const f=u.code===void 0?F.UNKNOWN:UR(u.code);return new Y(f,u.message||"")}(o);r=new zR(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=dg(t,n.document.name),i=Vn(n.document.updateTime),o=n.document.createTime?Vn(n.document.createTime):pe.min(),a=new xr({mapValue:{fields:n.document.fields}}),l=rr.newFoundDocument(s,i,o,a),u=n.targetIds||[],f=n.removedTargetIds||[];r=new gf(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=dg(t,n.document),i=n.readTime?Vn(n.readTime):pe.min(),o=rr.newNoDocument(s,i),a=n.removedTargetIds||[];r=new gf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=dg(t,n.document),i=n.removedTargetIds||[];r=new gf([],i,s,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new gz(s,i),a=n.targetId;r=new $R(a,o)}}return r}function Az(t,e){let r;if(e instanceof Du)r={update:wS(t,e.key,e.value)};else if(e instanceof Ip)r={delete:hv(t,e.key)};else if(e instanceof zi)r={update:wS(t,e.key,e.data),updateMask:Lz(e.fieldMask)};else{if(!(e instanceof hz))return le(16599,{Vt:e.type});r={verify:hv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const a=o.transform;if(a instanceof Eh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof du)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw le(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Tz(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),r}function Pz(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(r=>function(s,i){let o=s.updateTime?Vn(s.updateTime):Vn(i);return o.isEqual(pe.min())&&(o=Vn(i)),new uz(o,s.transformResults||[])}(r,e))):[]}function Rz(t,e){return{documents:[WR(t,e.path)]}}function Nz(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=WR(t,s);const i=function(u){if(u.length!==0)return KR(_n.create(u,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:oa(p.field),direction:Oz(p.dir)}}(f))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=dv(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:s}}function kz(t){let e=Cz(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){Le(n===1,65062);const f=r.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];r.where&&(i=function(h){const p=GR(h);return p instanceof _n&&ER(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(p=>function(x){return new cu(aa(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(r.orderBy));let a=null;r.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,_p(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(h){const p=!!h.before,g=h.values||[];return new xh(g,p)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const p=!h.before,g=h.values||[];return new xh(g,p)}(r.endAt)),X$(e,s,o,i,a,"F",l,u)}function jz(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function GR(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=aa(r.unaryFilter.field);return St.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=aa(r.unaryFilter.field);return St.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=aa(r.unaryFilter.field);return St.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=aa(r.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(r){return St.create(aa(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return _n.create(r.compositeFilter.filters.map(n=>GR(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(r.compositeFilter.op))}(t):le(30097,{filter:t})}function Oz(t){return xz[t]}function Dz(t){return Ez[t]}function Mz(t){return bz[t]}function oa(t){return{fieldPath:t.canonicalString()}}function aa(t){return Bt.fromServerFormat(t.fieldPath)}function KR(t){return t instanceof St?function(r){if(r.op==="=="){if(oS(r.value))return{unaryFilter:{field:oa(r.field),op:"IS_NAN"}};if(iS(r.value))return{unaryFilter:{field:oa(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(oS(r.value))return{unaryFilter:{field:oa(r.field),op:"IS_NOT_NAN"}};if(iS(r.value))return{unaryFilter:{field:oa(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(r.field),op:Dz(r.op),value:r.value}}}(t):t instanceof _n?function(r){const n=r.getFilters().map(s=>KR(s));return n.length===1?n[0]:{compositeFilter:{op:Mz(r.op),filters:n}}}(t):le(54877,{filter:t})}function Lz(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function QR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,r,n,s,i=pe.min(),o=pe.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.yt=e}}function Fz(t){const e=kz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.Cn=new $z}addToCollectionParentIndex(e,r){return this.Cn.add(r),z.resolve()}getCollectionParents(e,r){return z.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return z.resolve()}deleteFieldIndex(e,r){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,r){return z.resolve()}getDocumentsMatchingTarget(e,r){return z.resolve(null)}getIndexType(e,r){return z.resolve(0)}getFieldIndexes(e,r){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,r){return z.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,r){return z.resolve(Ai.min())}updateCollectionGroup(e,r,n){return z.resolve()}updateIndexEntries(e,r){return z.resolve()}}class $z{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Pt(He.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Pt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YR=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(YR,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cl(0)}static cr(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="LruGarbageCollector",zz=1048576;function ES([t,e],[r,n]){const s=Se(t,r);return s===0?Se(e,n):s}class Bz{constructor(e){this.Ir=e,this.buffer=new Pt(ES),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();ES(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Hz{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(xS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Il(r)?Z(xS,"Ignoring IndexedDB error during garbage collection: ",r):await Cl(r)}await this.Vr(3e5)})}}class Wz{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return z.resolve(wp.ce);const n=new Bz(r);return this.mr.forEachTarget(e,s=>n.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>n.Ar(s))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(_S)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_S):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,s,i,o,a,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(n=h,a=Date.now(),this.removeTargets(e,n,r))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),sa()<=be.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function qz(t,e){return new Wz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(){this.changes=new Ho(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?z.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&Pc(n.mutation,s,Rr.empty(),Ye.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Te()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Te()){const s=lo();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=ac();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=lo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Te()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,s){let i=Ts();const o=Ac(),a=function(){return Ac()}();return r.forEach((l,u)=>{const f=n.get(u.key);s.has(u.key)&&(f===void 0||f.mutation instanceof zi)?i=i.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Pc(f.mutation,u,f.mutation.getFieldMask(),Ye.now())):o.set(u.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,f)=>o.set(u,f)),r.forEach((u,f)=>a.set(u,new Kz(f,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,r){const n=Ac();let s=new lt((o,a)=>o-a),i=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let f=n.get(l)||Rr.empty();f=a.applyToLocalView(u,f),n.set(l,f);const h=(s.get(a.batchId)||Te()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,h=NR();f.forEach(p=>{if(!i.has(p)){const g=VR(r.get(p),n.get(p));g!==null&&h.set(p,g),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):CR(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):z.resolve(lo());let a=iu,l=i;return o.next(u=>z.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Te())).next(f=>({batchId:a,changes:RR(f)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new se(r)).next(n=>{let s=ac();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=ac();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(h,p){return new Al(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,n,s).next(f=>{f.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,rr.newInvalidDocument(f)))});let a=ac();return o.forEach((l,u)=>{const f=i.get(l);f!==void 0&&Pc(f.mutation,u,Rr.empty(),Ye.now()),Sp(r,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return z.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:Vn(s.createTime)}}(r)),z.resolve()}getNamedQuery(e,r){return z.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(s){return{name:s.name,query:Fz(s.bundledQuery),readTime:Vn(s.readTime)}}(r)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.overlays=new lt(se.comparator),this.qr=new Map}getOverlay(e,r){return z.resolve(this.overlays.get(r))}getOverlays(e,r){const n=lo();return z.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.St(e,r,i)}),z.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),z.resolve()}getOverlaysForCollection(e,r,n){const s=lo(),i=r.length+1,o=new se(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new lt((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let f=i.get(u.largestBatchId);f===null&&(f=lo(),i=i.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=lo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=s)););return z.resolve(a)}St(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new mz(r,n));let i=this.qr.get(r);i===void 0&&(i=Te(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Qr=new Pt(Nt.$r),this.Ur=new Pt(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Nt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Nt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new se(new He([])),n=new Nt(r,e),s=new Nt(r,e+1),i=[];return this.Ur.forEachInRange([n,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new se(new He([])),n=new Nt(r,e),s=new Nt(r,e+1);let i=Te();return this.Ur.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new Nt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Nt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return se.comparator(e.key,r.key)||Se(e.Yr,r.Yr)}static Kr(e,r){return Se(e.Yr,r.Yr)||se.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Nt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pz(i,r,n,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Nt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,r){return z.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.ei(n),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?E_:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Nt(r,0),s=new Nt(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Pt(Se);return r.forEach(s=>{const i=new Nt(s,0),o=new Nt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{n=n.add(a.Yr)})}),z.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;se.isDocumentKey(i)||(i=i.child(""));const o=new Nt(new se(i),0);let a=new Pt(Se);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const r=[];return e.forEach(n=>{const s=this.Xr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){Le(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return z.forEach(r.mutations,s=>{const i=new Nt(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Nt(r,0),s=this.Zr.firstAfterOrEqual(n);return z.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.ri=e,this.docs=function(){return new lt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return z.resolve(n?n.document.mutableCopy():rr.newInvalidDocument(r))}getEntries(e,r){let n=Ts();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():rr.newInvalidDocument(s))}),z.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=Ts();const o=r.path,a=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||P$(A$(f),n)<=0||(s.has(f.key)||Sp(r,f))&&(i=i.insert(f.key,f.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,r,n,s){le(9500)}ii(e,r){return z.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new tB(this)}getSize(e){return z.resolve(this.size)}}class tB extends Gz{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)}),z.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.persistence=e,this.si=new Ho(r=>T_(r),C_),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new N_,this.targetCount=0,this.ai=cl.ur()}forEachTarget(e,r){return this.si.forEach((n,s)=>r(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),z.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new cl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,z.resolve()}updateTargetData(e,r){return this.Pr(r),z.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return z.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),z.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),z.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return z.resolve(n)}containsKey(e,r){return z.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,r){this.ui={},this.overlays={},this.ci=new wp(0),this.li=!1,this.li=!0,this.hi=new Jz,this.referenceDelegate=e(this),this.Pi=new rB(this),this.indexManager=new Uz,this.remoteDocumentCache=function(s){return new eB(s)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new Vz(r),this.Ii=new Yz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Xz,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Zz(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Z("MemoryPersistence","Starting transaction:",e);const s=new nB(this.ci.next());return this.referenceDelegate.Ei(),n(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,r){return z.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class nB extends N${constructor(e){super(),this.currentSequenceNumber=e}}class k_{constructor(e){this.persistence=e,this.Ri=new N_,this.Vi=null}static mi(e){return new k_(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),z.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),z.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),z.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(s=>this.fi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,n=>{const s=se.fromPath(n);return this.gi(e,s).next(i=>{i||r.removeEntry(s,pe.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return z.or([()=>z.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Sh{constructor(e,r){this.persistence=e,this.pi=new Ho(n=>O$(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=qz(this,r)}static mi(e,r){return new Sh(e,r)}Ei(){}di(e){return z.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return z.forEach(this.pi,(n,s)=>this.br(e,n,s).next(i=>i?z.resolve():r(s)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,r).next(a=>{a||(n++,i.removeEntry(o,pe.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=hf(e.data.value)),r}br(e,r,n){return z.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.pi.get(r);return z.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=s}static As(e,r){let n=Te(),s=Te();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new j_(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return O6()?8:k$(sr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.ys(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new sB;return this.Ss(e,r,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,r,o,a.size)})}).next(()=>i.result)}bs(e,r,n,s){return n.documentReadCount<this.fs?(sa()<=be.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",ia(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(sa()<=be.DEBUG&&Z("QueryEngine","Query:",ia(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(sa()<=be.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",ia(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(r))):z.resolve())}ys(e,r){if(uS(r))return z.resolve(null);let n=Ln(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=uv(r,null,"F"),n=Ln(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=Te(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(r,a);return this.Cs(r,u,o,l.readTime)?this.ys(e,uv(r,null,"F")):this.vs(e,u,r,l)}))})))}ws(e,r,n,s){return uS(r)||s.isEqual(pe.min())?z.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(r,i);return this.Cs(r,o,n,s)?z.resolve(null):(sa()<=be.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ia(r)),this.vs(e,o,r,I$(s,iu)).next(a=>a))})}Ds(e,r){let n=new Pt(AR(e));return r.forEach((s,i)=>{Sp(e,i)&&(n=n.add(i))}),n}Cs(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,r,n){return sa()<=be.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",ia(r)),this.ps.getDocumentsMatchingQuery(e,r,Ai.min(),n)}vs(e,r,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LocalStore",oB=3e8;class aB{constructor(e,r,n,s){this.persistence=e,this.Fs=r,this.serializer=s,this.Ms=new lt(Se),this.xs=new Ho(i=>T_(i),C_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function lB(t,e,r,n){return new aB(t,e,r,n)}async function JR(t,e){const r=me(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],a=[];let l=Te();for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function cB(t,e){const r=me(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const h=u.batch,p=h.keys();let g=z.resolve();return p.forEach(x=>{g=g.next(()=>f.getEntry(l,x)).next(v=>{const b=u.docVersions.get(x);Le(b!==null,48541),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),f.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function ZR(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function uB(t,e){const r=me(t),n=e.snapshotVersion;let s=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});s=r.Ms;const a=[];e.targetChanges.forEach((f,h)=>{const p=s.get(h);if(!p)return;a.push(r.Pi.removeMatchingKeys(i,f.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(i,f.addedDocuments,h)));let g=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(qt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,n)),s=s.insert(h,g),function(v,b,_){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=oB?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,f)&&a.push(r.Pi.updateTargetData(i,g))});let l=Ts(),u=Te();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(dB(i,o,e.documentUpdates).next(f=>{l=f.ks,u=f.qs})),!n.isEqual(pe.min())){const f=r.Pi.getLastRemoteSnapshotVersion(i).next(h=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(f)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(r.Ms=s,i))}function dB(t,e,r){let n=Te(),s=Te();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=Ts();return r.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(O_,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function fB(t,e){const r=me(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=E_),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function hB(t,e){const r=me(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Pi.getTargetData(n,e).next(i=>i?(s=i,z.resolve(s)):r.Pi.allocateTargetId(n).next(o=>(s=new oi(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function mv(t,e,r){const n=me(t),s=n.Ms.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Il(o))throw o;Z(O_,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function bS(t,e,r){const n=me(t);let s=pe.min(),i=Te();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){const h=me(l),p=h.xs.get(f);return p!==void 0?z.resolve(h.Ms.get(p)):h.Pi.getTargetData(u,f)}(n,o,Ln(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?s:pe.min(),r?i:Te())).next(a=>(pB(n,Z$(e),a),{documents:a,Qs:i})))}function pB(t,e,r){let n=t.Os.get(e)||pe.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.Os.set(e,n)}class SS{constructor(){this.activeTargetIds=iz()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mB{constructor(){this.Mo=new SS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new SS,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="ConnectivityMonitor";class CS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(TS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(TS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=null;function gv(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="RestConnection",yB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===wh?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,r,n,s,i){const o=gv(),a=this.zo(e,r.toUriEncodedString());Z(fg,`Sending RPC '${e}' ${o}:`,a,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),f=El(u);return this.Jo(e,a,l,n,f).then(h=>(Z(fg,`Received RPC '${e}' ${o}: `,h),h),h=>{throw il(fg,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",n),h})}Ho(e,r,n,s,i,o){return this.Go(e,r,n,s,i)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>e[i]=s),n&&n.headers.forEach((s,i)=>e[i]=s)}zo(e,r){const n=yB[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class _B extends vB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,s,i){const o=gv();return new Promise((a,l)=>{const u=new tR;u.setWithCredentials(!0),u.listenOnce(rR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ff.NO_ERROR:const h=u.getResponseJson();Z(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case ff.TIMEOUT:Z(Zt,`RPC '${e}' ${o} timed out`),l(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const p=u.getStatus();if(Z(Zt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const v=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(x.status);l(new Y(v,x.message))}else l(new Y(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(F.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Z(Zt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(s);Z(Zt,`RPC '${e}' ${o} sending request:`,s),u.send(r,"POST",f,n,15)})}T_(e,r,n){const s=gv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iR(),a=sR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=i.join("");Z(Zt,`Creating RPC '${e}' stream ${s}: ${f}`,l);const h=o.createWebChannel(f,l);this.I_(h);let p=!1,g=!1;const x=new wB({Yo:b=>{g?Z(Zt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(p||(Z(Zt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),Z(Zt,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},Zo:()=>h.close()}),v=(b,_,w)=>{b.listen(_,S=>{try{w(S)}catch(I){setTimeout(()=>{throw I},0)}})};return v(h,oc.EventType.OPEN,()=>{g||(Z(Zt,`RPC '${e}' stream ${s} transport opened.`),x.o_())}),v(h,oc.EventType.CLOSE,()=>{g||(g=!0,Z(Zt,`RPC '${e}' stream ${s} transport closed`),x.a_(),this.E_(h))}),v(h,oc.EventType.ERROR,b=>{g||(g=!0,il(Zt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),x.a_(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),v(h,oc.EventType.MESSAGE,b=>{var _;if(!g){const w=b.data[0];Le(!!w,16349);const S=w,I=(S==null?void 0:S.error)||((_=S[0])==null?void 0:_.error);if(I){Z(Zt,`RPC '${e}' stream ${s} received error:`,I);const N=I.status;let D=function(P){const A=xt[P];if(A!==void 0)return UR(A)}(N),C=I.message;D===void 0&&(D=F.INTERNAL,C="Unknown error status: "+N+" with message "+I.message),g=!0,x.a_(new Y(D,C)),h.close()}else Z(Zt,`RPC '${e}' stream ${s} received:`,w),x.u_(w)}}),v(a,nR.STAT_EVENT,b=>{b.stat===nv.PROXY?Z(Zt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===nv.NOPROXY&&Z(Zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){return new Sz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,r,n=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,r-n);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="PersistentStream";class tN{constructor(e,r,n,s,i,o,a,l){this.Mi=e,this.S_=n,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eN(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===F.RESOURCE_EXHAUSTED?(Ss(r.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.D_===r&&this.G_(n,s)},n=>{e(()=>{const s=new Y(F.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{n(()=>this.z_(s))}),this.stream.onMessage(s=>{n(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(IS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(Z(IS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xB extends tN{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Iz(this.serializer,e),n=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Vn(o.readTime):pe.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=pv(this.serializer),r.addTarget=function(i,o){let a;const l=o.target;if(a=lv(l)?{documents:Rz(i,l)}:{query:Nz(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BR(i,o.resumeToken);const u=dv(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=bh(i,o.snapshotVersion.toTimestamp());const u=dv(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const n=jz(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=pv(this.serializer),r.removeTarget=e,this.q_(r)}}class EB extends tN{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Pz(e.writeResults,e.commitTime),n=Vn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=pv(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Az(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{}class SB extends bB{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,fv(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(F.UNKNOWN,i.toString())})}Ho(e,r,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,fv(r,n),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class TB{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(r),this.aa=!1):Z("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class CB{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Wo(this)&&(Z(jo,"Restarting streams for network reachability change."),await async function(l){const u=me(l);u.Ea.add(4),await Lu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Rp(u)}(this))})}),this.Ra=new TB(n,s)}}async function Rp(t){if(Wo(t))for(const e of t.da)await e(!0)}async function Lu(t){for(const e of t.da)await e(!1)}function rN(t,e){const r=me(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),V_(r)?L_(r):Pl(r).O_()&&M_(r,e))}function D_(t,e){const r=me(t),n=Pl(r);r.Ia.delete(e),n.O_()&&nN(r,e),r.Ia.size===0&&(n.O_()?n.L_():Wo(r)&&r.Ra.set("Unknown"))}function M_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Pl(t).Y_(e)}function nN(t,e){t.Va.Ue(e),Pl(t).Z_(e)}function L_(t){t.Va=new _z({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pl(t).start(),t.Ra.ua()}function V_(t){return Wo(t)&&!Pl(t).x_()&&t.Ia.size>0}function Wo(t){return me(t).Ea.size===0}function sN(t){t.Va=void 0}async function IB(t){t.Ra.set("Online")}async function AB(t){t.Ia.forEach((e,r)=>{M_(t,e)})}async function PB(t,e){sN(t),V_(t)?(t.Ra.ha(e),L_(t)):t.Ra.set("Unknown")}async function RB(t,e,r){if(t.Ra.set("Online"),e instanceof zR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(n){Z(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Th(t,n)}else if(e instanceof gf?t.Va.Ze(e):e instanceof $R?t.Va.st(e):t.Va.tt(e),!r.isEqual(pe.min()))try{const n=await ZR(t.localStore);r.compareTo(n)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.Ia.get(u);f&&i.Ia.set(u,f.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const f=i.Ia.get(l);if(!f)return;i.Ia.set(l,f.withResumeToken(qt.EMPTY_BYTE_STRING,f.snapshotVersion)),nN(i,l);const h=new oi(f.target,l,u,f.sequenceNumber);M_(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){Z(jo,"Failed to raise snapshot:",n),await Th(t,n)}}async function Th(t,e,r){if(!Il(e))throw e;t.Ea.add(1),await Lu(t),t.Ra.set("Offline"),r||(r=()=>ZR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(jo,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Rp(t)})}function iN(t,e){return e().catch(r=>Th(t,r,e))}async function Np(t){const e=me(t),r=ki(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:E_;for(;NB(e);)try{const s=await fB(e.localStore,n);if(s===null){e.Ta.length===0&&r.L_();break}n=s.batchId,kB(e,s)}catch(s){await Th(e,s)}oN(e)&&aN(e)}function NB(t){return Wo(t)&&t.Ta.length<10}function kB(t,e){t.Ta.push(e);const r=ki(t);r.O_()&&r.X_&&r.ea(e.mutations)}function oN(t){return Wo(t)&&!ki(t).x_()&&t.Ta.length>0}function aN(t){ki(t).start()}async function jB(t){ki(t).ra()}async function OB(t){const e=ki(t);for(const r of t.Ta)e.ea(r.mutations)}async function DB(t,e,r){const n=t.Ta.shift(),s=A_.from(n,e,r);await iN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Np(t)}async function MB(t,e){e&&ki(t).X_&&await async function(n,s){if(function(o){return yz(o)&&o!==F.ABORTED}(s.code)){const i=n.Ta.shift();ki(n).B_(),await iN(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Np(n)}}(t,e),oN(t)&&aN(t)}async function AS(t,e){const r=me(t);r.asyncQueue.verifyOperationInProgress(),Z(jo,"RemoteStore received new credentials");const n=Wo(r);r.Ea.add(3),await Lu(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Rp(r)}async function LB(t,e){const r=me(t);e?(r.Ea.delete(2),await Rp(r)):e||(r.Ea.add(2),await Lu(r),r.Ra.set("Unknown"))}function Pl(t){return t.ma||(t.ma=function(r,n,s){const i=me(r);return i.sa(),new xB(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:IB.bind(null,t),t_:AB.bind(null,t),r_:PB.bind(null,t),H_:RB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),V_(t)?L_(t):t.Ra.set("Unknown")):(await t.ma.stop(),sN(t))})),t.ma}function ki(t){return t.fa||(t.fa=function(r,n,s){const i=me(r);return i.sa(),new EB(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:jB.bind(null,t),r_:MB.bind(null,t),ta:OB.bind(null,t),na:DB.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Np(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(jo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,a=new F_(e,r,o,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U_(t,e){if(Ss("AsyncQueue",`${e}: ${t}`),Il(t))return new Y(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||se.comparator(r.key,n.key):(r,n)=>se.comparator(r.key,n.key),this.keyedMap=ac(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Da;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.ga=new lt(se.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class ul{constructor(e,r,n,s,i,o,a,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new ul(e,r,Da.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class FB{constructor(){this.queries=RS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const s=me(r),i=s.queries;s.queries=RS(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(n)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}}function RS(){return new Ho(t=>IR(t),bp)}async function $_(t,e){const r=me(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.ba()&&e.Da()&&(n=2):(i=new VB,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(s,!0);break;case 1:i.wa=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const a=U_(o,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.Sa.push(e),e.va(r.onlineState),i.wa&&e.Fa(i.wa)&&B_(r)}async function z_(t,e){const r=me(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function UB(t,e){const r=me(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(n=!0);o.wa=s}}n&&B_(r)}function $B(t,e,r){const n=me(t),s=n.queries.get(e);if(s)for(const i of s.Sa)i.onError(r);n.queries.delete(e)}function B_(t){t.Ca.forEach(e=>{e.next()})}var yv,NS;(NS=yv||(yv={})).Ma="default",NS.Cache="cache";class H_{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new ul(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.key=e}}class cN{constructor(e){this.key=e}}class zB{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Te(),this.mutatedKeys=Te(),this.eu=AR(e),this.tu=new Da(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new PS,s=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,h)=>{const p=s.get(f),g=Sp(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;p&&g?p.data.isEqual(g.data)?x!==v&&(n.track({type:3,doc:g}),b=!0):this.su(p,g)||(n.track({type:2,doc:g}),b=!0,(l&&this.eu(g,l)>0||u&&this.eu(g,u)<0)&&(a=!0)):!p&&g?(n.track({type:0,doc:g}),b=!0):p&&!g&&(n.track({type:1,doc:p}),b=!0,(l||u)&&(a=!0)),b&&(g?(o=o.add(g),i=v?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:a,mutatedKeys:i}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,h)=>function(g,x){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:b})}};return v(g)-v(x)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(n),s=s??!1;const a=r&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new ul(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Te(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new cN(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new lN(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Te();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const W_="SyncEngine";class BB{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class HB{constructor(e){this.key=e,this.hu=!1}}class WB{constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ho(a=>IR(a),bp),this.Iu=new Map,this.Eu=new Set,this.du=new lt(se.comparator),this.Au=new Map,this.Ru=new N_,this.Vu={},this.mu=new Map,this.fu=cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qB(t,e,r=!0){const n=mN(t);let s;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await uN(n,e,r,!0),s}async function GB(t,e){const r=mN(t);await uN(r,e,!0,!1)}async function uN(t,e,r,n){const s=await hB(t.localStore,Ln(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await KB(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&rN(t.remoteStore,s),a}async function KB(t,e,r,n,s){t.pu=(h,p,g)=>async function(v,b,_,w){let S=b.view.ru(_);S.Cs&&(S=await bS(v.localStore,b.query,!1).then(({documents:C})=>b.view.ru(C,S)));const I=w&&w.targetChanges.get(b.targetId),N=w&&w.targetMismatches.get(b.targetId)!=null,D=b.view.applyChanges(S,v.isPrimaryClient,I,N);return jS(v,b.targetId,D.au),D.snapshot}(t,h,p,g);const i=await bS(t.localStore,e,!0),o=new zB(e,i.Qs),a=o.ru(i.documents),l=Mu.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);jS(t,r,u.au);const f=new BB(e,r,o);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function QB(t,e,r){const n=me(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);if(i.length>1)return n.Iu.set(s.targetId,i.filter(o=>!bp(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await mv(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&D_(n.remoteStore,s.targetId),vv(n,s.targetId)}).catch(Cl)):(vv(n,s.targetId),await mv(n.localStore,s.targetId,!0))}async function YB(t,e){const r=me(t),n=r.Tu.get(e),s=r.Iu.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),D_(r.remoteStore,n.targetId))}async function XB(t,e,r){const n=s8(t);try{const s=await function(o,a){const l=me(o),u=Ye.now(),f=a.reduce((g,x)=>g.add(x.key),Te());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let x=Ts(),v=Te();return l.Ns.getEntries(g,f).next(b=>{x=b,x.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,x)).next(b=>{h=b;const _=[];for(const w of a){const S=fz(w,h.get(w.key).overlayedDocument);S!=null&&_.push(new zi(w.key,S,wR(S.value.mapValue),fr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,_,a)}).next(b=>{p=b;const _=b.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(g,b.batchId,_)})}).then(()=>({batchId:p.batchId,changes:RR(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new lt(Se)),u=u.insert(a,l),o.Vu[o.currentUser.toKey()]=u}(n,s.batchId,r),await Vu(n,s.changes),await Np(n.remoteStore)}catch(s){const i=U_(s,"Failed to persist write");r.reject(i)}}async function dN(t,e){const r=me(t);try{const n=await uB(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Au.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Le(o.hu,14607):s.removedDocuments.size>0&&(Le(o.hu,42227),o.hu=!1))}),await Vu(r,n,e)}catch(n){await Cl(n)}}function kS(t,e,r){const n=me(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let u=!1;l.queries.forEach((f,h)=>{for(const p of h.Sa)p.va(a)&&(u=!0)}),u&&B_(l)}(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function JB(t,e,r){const n=me(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Au.get(e),i=s&&s.key;if(i){let o=new lt(se.comparator);o=o.insert(i,rr.newNoDocument(i,pe.min()));const a=Te().add(i),l=new Ap(pe.min(),new Map,new lt(Se),o,a);await dN(n,l),n.du=n.du.remove(i),n.Au.delete(e),q_(n)}else await mv(n.localStore,e,!1).then(()=>vv(n,e,r)).catch(Cl)}async function ZB(t,e){const r=me(t),n=e.batch.batchId;try{const s=await cB(r.localStore,e);hN(r,n,null),fN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Vu(r,s)}catch(s){await Cl(s)}}async function e8(t,e,r){const n=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Le(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(n.localStore,e);hN(n,e,r),fN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Vu(n,s)}catch(s){await Cl(s)}}function fN(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function hN(t,e,r){const n=me(t);let s=n.Vu[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function vv(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||pN(t,n)})}function pN(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(D_(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),q_(t))}function jS(t,e,r){for(const n of r)n instanceof lN?(t.Ru.addReference(n.key,e),t8(t,n)):n instanceof cN?(Z(W_,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||pN(t,n.key)):le(19791,{wu:n})}function t8(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Z(W_,"New document in limbo: "+r),t.Eu.add(n),q_(t))}function q_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new se(He.fromString(e)),n=t.fu.next();t.Au.set(n,new HB(r)),t.du=t.du.insert(r,n),rN(t.remoteStore,new oi(Ln(Ep(r.path)),n,"TargetPurposeLimboResolution",wp.ce))}}async function Vu(t,e,r){const n=me(t),s=[],i=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((a,l)=>{o.push(n.pu(l,e,r).then(u=>{var f;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(f=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:f.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=j_.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),n.Pu.H_(s),await async function(l,u){const f=me(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,p=>z.forEach(p.Es,g=>f.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>z.forEach(p.ds,g=>f.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!Il(h))throw h;Z(O_,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const g=f.Ms.get(p),x=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(x);f.Ms=f.Ms.insert(p,v)}}}(n.localStore,i))}async function r8(t,e){const r=me(t);if(!r.currentUser.isEqual(e)){Z(W_,"User change. New user:",e.toKey());const n=await JR(r.localStore,e);r.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Y(F.CANCELLED,o))})}),i.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Vu(r,n.Ls)}}function n8(t,e){const r=me(t),n=r.Au.get(e);if(n&&n.hu)return Te().add(n.key);{let s=Te();const i=r.Iu.get(e);if(!i)return s;for(const o of i){const a=r.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function mN(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JB.bind(null,e),e.Pu.H_=UB.bind(null,e.eventManager),e.Pu.yu=$B.bind(null,e.eventManager),e}function s8(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e8.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return lB(this.persistence,new iB,e.initialUser,this.serializer)}Cu(e){return new XR(k_.mi,this.serializer)}Du(e){return new mB}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class i8 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Le(this.persistence.referenceDelegate instanceof Sh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Hz(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new XR(n=>Sh.mi(n,r),this.serializer)}}class wv{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>kS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=r8.bind(null,this.syncEngine),await LB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FB}()}createDatastore(e){const r=Pp(e.databaseInfo.databaseId),n=function(i){return new _B(i)}(e.databaseInfo);return function(i,o,a,l){return new SB(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,a){return new CB(n,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>kS(this.syncEngine,r,0),function(){return CS.v()?new CS:new gB}())}createSyncEngine(e,r){return function(s,i,o,a,l,u,f){const h=new WB(s,i,o,a,l,u);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=me(s);Z(jo,"RemoteStore shutting down."),i.Ea.add(5),await Lu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}wv.provider={build:()=>new wv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class o8{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=er.UNAUTHENTICATED,this.clientId=x_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Z(ji,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Z(ji,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=U_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function pg(t,e){t.asyncQueue.verifyOperationInProgress(),Z(ji,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await JR(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OS(t,e){t.asyncQueue.verifyOperationInProgress();const r=await a8(t);Z(ji,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>AS(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>AS(e.remoteStore,s)),t._onlineComponents=e}async function a8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(ji,"Using user provided OfflineComponentProvider");try{await pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;il("Error using user provided cache. Falling back to memory cache: "+r),await pg(t,new Ch)}}else Z(ji,"Using default OfflineComponentProvider"),await pg(t,new i8(void 0));return t._offlineComponents}async function gN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(ji,"Using user provided OnlineComponentProvider"),await OS(t,t._uninitializedComponentsProvider._online)):(Z(ji,"Using default OnlineComponentProvider"),await OS(t,new wv))),t._onlineComponents}function l8(t){return gN(t).then(e=>e.syncEngine)}async function Ih(t){const e=await gN(t),r=e.eventManager;return r.onListen=qB.bind(null,e.syncEngine),r.onUnlisten=QB.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=GB.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=YB.bind(null,e.syncEngine),r}function c8(t,e,r={}){const n=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const f=new G_({next:p=>{f.Nu(),o.enqueueAndForget(()=>z_(i,h));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new Y(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new H_(Ep(a.path),f,{includeMetadataChanges:!0,qa:!0});return $_(i,h)}(await Ih(t),t.asyncQueue,e,r,n)),n.promise}function u8(t,e,r={}){const n=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const f=new G_({next:p=>{f.Nu(),o.enqueueAndForget(()=>z_(i,h)),p.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new H_(a,f,{includeMetadataChanges:!0,qa:!0});return $_(i,h)}(await Ih(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firestore.googleapis.com",MS=!0;class LS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vN,this.ssl=MS}else this.host=e.host,this.ssl=e.ssl??MS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zz)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yN(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kp{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new g$;switch(n.type){case"firstParty":return new _$(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=DS.get(r);n&&(Z("ComponentProvider","Removing Datastore"),DS.delete(r),n.terminate())}(this),Promise.resolve()}}function d8(t,e,r,n={}){var u;t=dr(t,kp);const s=El(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${r}`;s&&(fP(`https://${a}`),hP("Firestore",!0)),i.host!==vN&&i.host!==a&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:n};if(!Ao(l,o)&&(t._setSettings(l),n.mockUserToken)){let f,h;if(typeof n.mockUserToken=="string")f=n.mockUserToken,h=er.MOCK_USER;else{f=T6(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new er(p)}t._authCredentials=new y$(new aR(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=class wN{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wN(this.firestore,e,this._query)}};class ht{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Ou(r,ht._jsonSchema))return new ht(e,n||null,new se(He.fromString(r.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:Tt("string",ht._jsonSchemaVersion),referencePath:Tt("string")};class _i extends Rl{constructor(e,r,n){super(e,r,Ep(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new se(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function Et(t,e,...r){if(t=wt(t),lR("collection","path",e),t instanceof kp){const n=He.fromString(e,...r);return Yb(n),new _i(t,null,n)}{if(!(t instanceof ht||t instanceof _i))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(He.fromString(e,...r));return Yb(n),new _i(t.firestore,null,n)}}function Be(t,e,...r){if(t=wt(t),arguments.length===1&&(e=x_.newId()),lR("doc","path",e),t instanceof kp){const n=He.fromString(e,...r);return Qb(n),new ht(t,null,new se(n))}{if(!(t instanceof ht||t instanceof _i))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(He.fromString(e,...r));return Qb(n),new ht(t.firestore,t instanceof _i?t.converter:null,new se(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="AsyncQueue";class FS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eN(this,"async_queue_retry"),this._c=()=>{const n=hg();n&&Z(VS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=hg();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=hg();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ds;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;Z(VS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",US(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const s=F_.createAndSchedule(this,e,r,n,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&le(47125,{Pc:US(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function US(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Bn extends kp{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new FS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FS(e),this._firestoreClient=void 0,await e}}}function f8(t,e){const r=typeof t=="object"?t:yP(),n=typeof t=="string"?t:wh,s=d_(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=b6("firestore");i&&d8(s,...i)}return s}function Fu(t){if(t._terminated)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||h8(t),t._firestoreClient}function h8(t){var n,s,i;const e=t._freezeSettings(),r=function(a,l,u,f){return new L$(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,yN(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new o8(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wr(qt.fromBase64String(e))}catch(r){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wr(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,Wr._jsonSchema))return Wr.fromBase64String(e.bytes)}}Wr._jsonSchemaVersion="firestore/bytes/1.0",Wr._jsonSchema={type:Tt("string",Wr._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:Tt("string",Fn._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,Un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Un(e.vectorValues);throw new Y(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Un._jsonSchemaVersion="firestore/vectorValue/1.0",Un._jsonSchema={type:Tt("string",Un._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=/^__.*__$/;class m8{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Du(e,this.data,r,this.fieldTransforms)}}class _N{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new zi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function xN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class K_{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const r=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var s;const r=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xN(this.Ac)&&p8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class g8{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Pp(e)}Cc(e,r,n,s=!1){return new K_({Ac:e,methodName:r,Dc:n,path:Bt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $u(t){const e=t._freezeSettings(),r=Pp(t._databaseId);return new g8(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Q_(t,e,r,n,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,r,s);X_("Data must be an object, but it was:",o,n);const a=SN(n,o);let l,u;if(i.merge)l=new Rr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const h of i.mergeFields){const p=_v(e,h,r);if(!o.contains(p))throw new Y(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);CN(f,p)||f.push(p)}l=new Rr(f),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new m8(new xr(a),l,u)}class Op extends jp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Op}}class Y_ extends jp{constructor(e,r){super(e),this.Fc=r}_toFieldTransform(e){const r=new fu(e.serializer,jR(e.serializer,this.Fc));return new lz(e.path,r)}isEqual(e){return e instanceof Y_&&this.Fc===e.Fc}}function EN(t,e,r,n){const s=t.Cc(1,e,r);X_("Data must be an object, but it was:",s,n);const i=[],o=xr.empty();$i(n,(l,u)=>{const f=J_(e,l,r);u=wt(u);const h=s.yc(f);if(u instanceof Op)i.push(f);else{const p=zu(u,h);p!=null&&(i.push(f),o.set(f,p))}});const a=new Rr(i);return new _N(o,a,s.fieldTransforms)}function bN(t,e,r,n,s,i){const o=t.Cc(1,e,r),a=[_v(e,n,r)],l=[s];if(i.length%2!=0)throw new Y(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(_v(e,i[p])),l.push(i[p+1]);const u=[],f=xr.empty();for(let p=a.length-1;p>=0;--p)if(!CN(u,a[p])){const g=a[p];let x=l[p];x=wt(x);const v=o.yc(g);if(x instanceof Op)u.push(g);else{const b=zu(x,v);b!=null&&(u.push(g),f.set(g,b))}}const h=new Rr(u);return new _N(f,h,o.fieldTransforms)}function y8(t,e,r,n=!1){return zu(r,t.Cc(n?4:3,e))}function zu(t,e){if(TN(t=wt(t)))return X_("Unsupported field value:",e,t),SN(t,e);if(t instanceof jp)return function(n,s){if(!xN(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const a of n){let l=zu(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=wt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return jR(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ye.fromDate(n);return{timestampValue:bh(s.serializer,i)}}if(n instanceof Ye){const i=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bh(s.serializer,i)}}if(n instanceof Fn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wr)return{bytesValue:BR(s.serializer,n._byteString)};if(n instanceof ht){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:R_(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Un)return function(o,a){return{mapValue:{fields:{[yR]:{stringValue:vR},[_h]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return I_(a.serializer,u)})}}}}}}(n,s);throw s.Sc(`Unsupported field value: ${vp(n)}`)}(t,e)}function SN(t,e){const r={};return dR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$i(t,(n,s)=>{const i=zu(s,e.mc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function TN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Fn||t instanceof Wr||t instanceof ht||t instanceof jp||t instanceof Un)}function X_(t,e,r){if(!TN(r)||!cR(r)){const n=vp(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function _v(t,e,r){if((e=wt(e))instanceof Uu)return e._internalPath;if(typeof e=="string")return J_(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,r)}const v8=new RegExp("[~\\*/\\[\\]]");function J_(t,e,r){if(e.search(v8)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Uu(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ah(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${n}`),o&&(l+=` in document ${s}`),l+=")"),new Y(F.INVALID_ARGUMENT,a+t+l)}function CN(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Dp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class w8 extends IN{data(){return super.data()}}function Dp(t,e){return typeof e=="string"?J_(t,e):e instanceof Uu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z_{}class PN extends Z_{}function zt(t,e,...r){let n=[];e instanceof Z_&&n.push(e),n=n.concat(r),function(i){const o=i.filter(l=>l instanceof ex).length,a=i.filter(l=>l instanceof Mp).length;if(o>1||o>0&&a>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class Mp extends PN{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Mp(e,r,n)}_apply(e){const r=this._parse(e);return RN(e._query,r),new Rl(e.firestore,e.converter,cv(e._query,r))}_parse(e){const r=$u(e.firestore);return function(i,o,a,l,u,f,h){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){BS(h,f);const x=[];for(const v of h)x.push(zS(l,i,v));p={arrayValue:{values:x}}}else p=zS(l,i,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||BS(h,f),p=y8(a,o,h,f==="in"||f==="not-in");return St.create(u,f,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function lr(t,e,r){const n=e,s=Dp("where",t);return Mp._create(s,n,r)}class ex extends Z_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new ex(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:_n.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)RN(o,l),o=cv(o,l)}(e._query,r),new Rl(e.firestore,e.converter,cv(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tx extends PN{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new tx(e,r)}_apply(e){const r=function(s,i,o){if(s.startAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(i,o)}(e._query,this._field,this._direction);return new Rl(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Al(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function qr(t,e="asc"){const r=e,n=Dp("orderBy",t);return tx._create(n,r)}function zS(t,e,r){if(typeof(r=wt(r))=="string"){if(r==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CR(e)&&r.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(He.fromString(r));if(!se.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return sS(t,new se(n))}if(r instanceof ht)return sS(t,r._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(r)}.`)}function BS(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RN(t,e){const r=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _8{convertValue(e,r="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return $i(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var n,s,i;const r=(i=(s=(n=e.fields)==null?void 0:n[_h].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>gt(o.doubleValue));return new Un(r)}convertGeoPoint(e){return new Fn(gt(e.latitude),gt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=xp(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const r=Pi(e);return new Ye(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=He.fromString(e);Le(QR(n),9688,{name:e});const s=new au(n.get(1),n.get(3)),i=new se(n.popFirst(5));return s.isEqual(r)||Ss(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class cc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yo extends IN{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new yf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Dp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=yo._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",yo._jsonSchema={type:Tt("string",yo._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class yf extends yo{data(e={}){return super.data(e)}}class vo{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new cc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new yf(this._firestore,this._userDataWriter,n.key,n,new cc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new cc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new yf(s._firestore,s._userDataWriter,a.doc.key,a.doc,new cc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:x8(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=x_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t){t=dr(t,ht);const e=dr(t.firestore,Bn);return c8(Fu(e),t._key).then(r=>NN(e,t,r))}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:Tt("string",vo._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class nx extends _8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wr(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,r)}}function _r(t){t=dr(t,Rl);const e=dr(t.firestore,Bn),r=Fu(e),n=new nx(e);return AN(t._query),u8(r,t._query).then(s=>new vo(e,n,t,s))}function HS(t,e,r){t=dr(t,ht);const n=dr(t.firestore,Bn),s=rx(t.converter,e,r);return Bu(n,[Q_($u(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,fr.none())])}function fs(t,e,r,...n){t=dr(t,ht);const s=dr(t.firestore,Bn),i=$u(s);let o;return o=typeof(e=wt(e))=="string"||e instanceof Uu?bN(i,"updateDoc",t._key,e,r,n):EN(i,"updateDoc",t._key,e),Bu(s,[o.toMutation(t._key,fr.exists(!0))])}function sx(t){return Bu(dr(t.firestore,Bn),[new Ip(t._key,fr.none())])}function ix(t,e){const r=dr(t.firestore,Bn),n=Be(t),s=rx(t.converter,e);return Bu(r,[Q_($u(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,fr.exists(!1))]).then(()=>n)}function dl(t,...e){var l,u,f;t=wt(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||$S(e[n])||(r=e[n++]);const s={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if($S(e[n])){const h=e[n];e[n]=(l=h.next)==null?void 0:l.bind(h),e[n+1]=(u=h.error)==null?void 0:u.bind(h),e[n+2]=(f=h.complete)==null?void 0:f.bind(h)}let i,o,a;if(t instanceof ht)o=dr(t.firestore,Bn),a=Ep(t._key.path),i={next:h=>{e[n]&&e[n](NN(o,t,h))},error:e[n+1],complete:e[n+2]};else{const h=dr(t,Rl);o=dr(h.firestore,Bn),a=h._query;const p=new nx(o);i={next:g=>{e[n]&&e[n](new vo(o,p,h,g))},error:e[n+1],complete:e[n+2]},AN(t._query)}return function(p,g,x,v){const b=new G_(v),_=new H_(g,b,x);return p.asyncQueue.enqueueAndForget(async()=>$_(await Ih(p),_)),()=>{b.Nu(),p.asyncQueue.enqueueAndForget(async()=>z_(await Ih(p),_))}}(Fu(o),a,s,i)}function Bu(t,e){return function(n,s){const i=new ds;return n.asyncQueue.enqueueAndForget(async()=>XB(await l8(n),s,i)),i.promise}(Fu(t),e)}function NN(t,e,r){const n=r.docs.get(e._key),s=new nx(t);return new yo(t,s,e._key,n,new cc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=$u(e)}set(e,r,n){this._verifyNotCommitted();const s=mg(e,this._firestore),i=rx(s.converter,r,n),o=Q_(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(o.toMutation(s._key,fr.none())),this}update(e,r,n,...s){this._verifyNotCommitted();const i=mg(e,this._firestore);let o;return o=typeof(r=wt(r))=="string"||r instanceof Uu?bN(this._dataReader,"WriteBatch.update",i._key,r,n,s):EN(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(o.toMutation(i._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=mg(e,this._firestore);return this._mutations=this._mutations.concat(new Ip(r._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Y(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mg(t,e){if((t=wt(t)).firestore!==e)throw new Y(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function b8(t){return new Y_("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){return Fu(t=dr(t,Bn)),new E8(t,e=>Bu(t,e))}(function(e,r=!0){(function(s){Tl=s})(bl),nl(new Po("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new Bn(new v$(n.getProvider("auth-internal")),new x$(o,n.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(u.options.projectId,f)}(o,s),o);return i={useFetchStreams:r,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),vi(Wb,qb,e),vi(Wb,qb,"esm2020")})();const ax={apiKey:"AIzaSyCK-dwW2ISCrgmf0jnO6ARUNczMMuuRB3c",authDomain:"interrapidisimoprueba.firebaseapp.com",projectId:"interrapidisimoprueba",storageBucket:"interrapidisimoprueba.firebasestorage.app",messagingSenderId:"709086552686",appId:"1:709086552686:web:9e361084368af8d722bc7f",measurementId:"G-50WRJPVZRG"},kN=gP(ax),Ji=p$(kN),ce=f8(kN);console.log(" Firebase configurado correctamente");console.log(" Proyecto:",ax.projectId);console.log(" Auth Domain:",ax.authDomain);console.log(" Modo produccin: usando Firebase real");const he={students:"students",subjects:"subjects",professors:"professors",users:"users",enrollments:"enrollments"};class Lp{static async registerUser(e){try{console.log(" Iniciando registro de usuario:",e.email);const n=(await XU(Ji,e.email,e.password)).user;console.log(" Usuario creado en Firebase Auth:",n.uid);const s={name:e.name,email:e.email,phone:e.phone||"",subjects:[],professors:[],semester:e.semester,gpa:0,credits:0,maxCredits:9,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};console.log(" Guardando perfil en Firestore..."),await HS(Be(ce,he.students,n.uid),s),console.log(" Perfil guardado en Firestore"),await e9(n,{displayName:e.name}),console.log(" Perfil de Firebase Auth actualizado");const i={id:n.uid,...s};return console.log(" Usuario registrado exitosamente:",i),i}catch(r){throw console.error(" Error al registrar usuario:",r),r instanceof Error?r.message.includes("auth/email-already-in-use")?new Error("El email ya est registrado"):r.message.includes("auth/weak-password")?new Error("La contrasea es muy dbil"):r.message.includes("auth/invalid-email")?new Error("Email invlido"):new Error(`Error de autenticacin: ${r.message}`):new Error("Error al registrar usuario")}}static async loginUser(e,r){try{console.log(" Iniciando sesin para:",e);const s=(await JU(Ji,e,r)).user;console.log(" Usuario autenticado en Firebase Auth:",s.uid),console.log(" Obteniendo perfil desde Firestore...");const i=await mn(Be(ce,he.students,s.uid));if(!i.exists())throw console.error(" Perfil de estudiante no encontrado en Firestore"),new Error("Perfil de estudiante no encontrado. Contacta al administrador.");const o=i.data();console.log(" Perfil obtenido de Firestore:",o);const a={id:s.uid,...o};return console.log(" Sesin iniciada exitosamente:",a),a}catch(n){throw console.error(" Error al iniciar sesin:",n),n instanceof Error?n.message.includes("auth/user-not-found")?new Error("Usuario no encontrado"):n.message.includes("auth/wrong-password")?new Error("Contrasea incorrecta"):n.message.includes("auth/invalid-email")?new Error("Email invlido"):n.message.includes("auth/too-many-requests")?new Error("Demasiados intentos fallidos. Intenta ms tarde."):new Error(`Error de autenticacin: ${n.message}`):new Error("Error al iniciar sesin")}}static async logoutUser(){try{await n9(Ji)}catch(e){throw console.error("Error al cerrar sesin:",e),new Error("Error al cerrar sesin")}}static async getCurrentUser(){try{const e=Ji.currentUser;if(!e)return null;const r=await mn(Be(ce,he.students,e.uid));if(!r.exists())return null;const n=r.data();return{id:e.uid,...n}}catch(e){return console.error("Error al obtener usuario actual:",e),null}}static async updateUserProfile(e){try{const r=Ji.currentUser;if(!r)throw new Error("No hay usuario autenticado");await HS(Be(ce,he.students,r.uid),{...e,updatedAt:new Date().toISOString()},{merge:!0})}catch(r){throw console.error("Error al actualizar perfil:",r),new Error("Error al actualizar perfil")}}static isAuthenticated(){return!!Ji.currentUser}static getCurrentUserId(){var e;return((e=Ji.currentUser)==null?void 0:e.uid)||null}}class uc{static async getAllProfessors(){try{const e=Et(ce,he.professors),r=zt(e,qr("name","asc")),n=await _r(r),s=[];return n.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(e){throw console.error("Error al obtener profesores:",e),new Error("Error al obtener profesores")}}static async getProfessorById(e){try{const r=await mn(Be(ce,he.professors,e));return r.exists()?{id:r.id,...r.data()}:null}catch(r){throw console.error("Error al obtener profesor:",r),new Error("Error al obtener profesor")}}static async createProfessor(e){try{const r=Et(ce,he.professors),n={...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{id:(await ix(r,n)).id,...n}}catch(r){throw console.error("Error al crear profesor:",r),new Error("Error al crear profesor")}}static async updateProfessor(e,r){try{const n=Be(ce,he.professors,e);await fs(n,{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error al actualizar profesor:",n),new Error("Error al actualizar profesor")}}static async deleteProfessor(e){try{await sx(Be(ce,he.professors,e))}catch(r){throw console.error("Error al eliminar profesor:",r),new Error("Error al eliminar profesor")}}static async getProfessorsBySubject(e){try{const r=Et(ce,he.professors),n=zt(r,lr("subjects","array-contains",e),lr("isActive","==",!0)),s=await _r(n),i=[];return s.forEach(o=>{i.push({id:o.id,...o.data()})}),i}catch(r){throw console.error("Error al obtener profesores por materia:",r),new Error("Error al obtener profesores por materia")}}static async getActiveProfessors(){try{const e=Et(ce,he.professors),r=zt(e,lr("isActive","==",!0),qr("name","asc")),n=await _r(r),s=[];return n.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(e){throw console.error("Error al obtener profesores activos:",e),new Error("Error al obtener profesores activos")}}static async assignSubjectToProfessor(e,r){try{const n=Be(ce,he.professors,e),s=await mn(n);if(!s.exists())throw new Error("Profesor no encontrado");const i=s.data();if(i.subjects.length>=2)throw new Error("El profesor ya tiene el mximo de materias permitidas");if(i.subjects.includes(r))throw new Error("El profesor ya est asignado a esta materia");await fs(n,{subjects:[...i.subjects,r],updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error al asignar materia:",n),n}}static async removeSubjectFromProfessor(e,r){try{const n=Be(ce,he.professors,e),s=await mn(n);if(!s.exists())throw new Error("Profesor no encontrado");const i=s.data();await fs(n,{subjects:i.subjects.filter(o=>o!==r),updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error al remover materia:",n),n}}static async getProfessorsBySpecialty(e){try{const r=Et(ce,he.professors),n=zt(r,lr("specialty","==",e),lr("isActive","==",!0),qr("name","asc")),s=await _r(n),i=[];return s.forEach(o=>{i.push({id:o.id,...o.data()})}),i}catch(r){throw console.error("Error al obtener profesores por especialidad:",r),new Error("Error al obtener profesores por especialidad")}}static subscribeToProfessors(e){const r=Et(ce,he.professors),n=zt(r,qr("name","asc"));return dl(n,s=>{const i=[];s.forEach(o=>{i.push({id:o.id,...o.data()})}),e(i)})}static subscribeToProfessor(e,r){const n=Be(ce,he.professors,e);return dl(n,s=>{s.exists()?r({id:s.id,...s.data()}):r(null)})}static async batchUpdateProfessors(e){try{const r=ox(ce);e.forEach(({id:n,updates:s})=>{const i=Be(ce,he.professors,n);r.update(i,{...s,updatedAt:new Date().toISOString()})}),await r.commit()}catch(r){throw console.error("Error en actualizacin en lote:",r),new Error("Error en actualizacin en lote")}}static async searchProfessors(e){try{const r=Et(ce,he.professors),n=zt(r,lr("isActive","==",!0),qr("name","asc")),s=await _r(n),i=[];return s.forEach(o=>{const a={id:o.id,...o.data()};(a.name.toLowerCase().includes(e.toLowerCase())||a.specialty.toLowerCase().includes(e.toLowerCase()))&&i.push(a)}),i}catch(r){throw console.error("Error al buscar profesores:",r),new Error("Error al buscar profesores")}}static async validateSubjectDistribution(){try{const e=await this.getAllProfessors(),r=[];return e.forEach(n=>{n.subjects.length>2&&r.push(`El profesor ${n.name} tiene ms de 2 materias asignadas`)}),{isValid:r.length===0,errors:r}}catch(e){throw console.error("Error al validar distribucin:",e),new Error("Error al validar distribucin de materias")}}}class kt{static async getAllStudents(){try{const e=Et(ce,he.students),r=zt(e,qr("createdAt","desc")),n=await _r(r),s=[];return n.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(e){throw console.error("Error al obtener estudiantes:",e),new Error("Error al obtener estudiantes")}}static async getStudentById(e){try{const r=await mn(Be(ce,he.students,e));return r.exists()?{id:r.id,...r.data()}:null}catch(r){throw console.error("Error al obtener estudiante:",r),new Error("Error al obtener estudiante")}}static async createStudent(e){try{const r=Et(ce,he.students),n={...e,phone:"",subjects:[],professors:[],gpa:0,credits:0,maxCredits:9,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{id:(await ix(r,n)).id,...n}}catch(r){throw console.error("Error al crear estudiante:",r),new Error("Error al crear estudiante")}}static async updateStudent(e){try{const{id:r,updates:n}=e,s=Be(ce,he.students,r);await fs(s,{...n,updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al actualizar estudiante:",r),new Error("Error al actualizar estudiante")}}static async deleteStudent(e){try{await sx(Be(ce,he.students,e))}catch(r){throw console.error("Error al eliminar estudiante:",r),new Error("Error al eliminar estudiante")}}static async getStudentsBySubject(e){try{const r=Et(ce,he.students),n=zt(r,lr("subjects","array-contains",e)),s=await _r(n),i=[];return s.forEach(o=>{i.push({id:o.id,...o.data()})}),i}catch(r){throw console.error("Error al obtener estudiantes por materia:",r),new Error("Error al obtener estudiantes por materia")}}static async getStudentsByProfessor(e){try{const r=Et(ce,he.students),n=zt(r,lr("professors","array-contains",e)),s=await _r(n),i=[];return s.forEach(o=>{i.push({id:o.id,...o.data()})}),i}catch(r){throw console.error("Error al obtener estudiantes por profesor:",r),new Error("Error al obtener estudiantes por profesor")}}static async selectSubject(e,r){try{const n=Be(ce,he.students,e),s=await mn(n);if(!s.exists())throw new Error("Estudiante no encontrado");const i=s.data();if(i.subjects.length>=3)throw new Error("Ya tienes el mximo de materias permitidas");if(i.credits+3>9)throw new Error("Excedes el lmite de crditos permitidos");await fs(n,{subjects:[...i.subjects,r],credits:i.credits+3,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error al seleccionar materia:",n),n}}static async removeSubject(e,r){try{const n=Be(ce,he.students,e),s=await mn(n);if(!s.exists())throw new Error("Estudiante no encontrado");const i=s.data();await fs(n,{subjects:i.subjects.filter(o=>o!==r),credits:Math.max(0,i.credits-3),updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error al remover materia:",n),n}}static subscribeToStudents(e){const r=Et(ce,he.students),n=zt(r,qr("createdAt","desc"));return dl(n,s=>{const i=[];s.forEach(o=>{i.push({id:o.id,...o.data()})}),e(i)})}static subscribeToStudent(e,r){const n=Be(ce,he.students,e);return dl(n,s=>{s.exists()?r({id:s.id,...s.data()}):r(null)})}static async batchUpdateStudents(e){try{const r=ox(ce);e.forEach(({id:n,updates:s})=>{const i=Be(ce,he.students,n);r.update(i,{...s,updatedAt:new Date().toISOString()})}),await r.commit()}catch(r){throw console.error("Error en actualizacin en lote:",r),new Error("Error en actualizacin en lote")}}}class xi{static async getAllSubjects(){try{const e=Et(ce,he.subjects),r=zt(e,qr("name","asc")),n=await _r(r),s=[];return n.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(e){throw console.error("Error al obtener materias:",e),new Error("Error al obtener materias")}}static async getSubjectById(e){try{const r=await mn(Be(ce,he.subjects,e));return r.exists()?{id:r.id,...r.data()}:null}catch(r){throw console.error("Error al obtener materia:",r),new Error("Error al obtener materia")}}static async createSubject(e){try{const r=Et(ce,he.subjects),n={...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{id:(await ix(r,n)).id,...n}}catch(r){throw console.error("Error al crear materia:",r),new Error("Error al crear materia")}}static async updateSubject(e,r){try{const n=Be(ce,he.subjects,e);await fs(n,{...r,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error al actualizar materia:",n),new Error("Error al actualizar materia")}}static async deleteSubject(e){try{await sx(Be(ce,he.subjects,e))}catch(r){throw console.error("Error al eliminar materia:",r),new Error("Error al eliminar materia")}}static async getSubjectsByProfessor(e){try{const r=Et(ce,he.subjects),n=zt(r,lr("professor","==",e),lr("isActive","==",!0)),s=await _r(n),i=[];return s.forEach(o=>{i.push({id:o.id,...o.data()})}),i}catch(r){throw console.error("Error al obtener materias por profesor:",r),new Error("Error al obtener materias por profesor")}}static async getActiveSubjects(){try{const e=Et(ce,he.subjects),r=zt(e,lr("isActive","==",!0),qr("name","asc")),n=await _r(r),s=[];return n.forEach(i=>{s.push({id:i.id,...i.data()})}),s}catch(e){throw console.error("Error al obtener materias activas:",e),new Error("Error al obtener materias activas")}}static async getAvailableSubjects(){try{const e=Et(ce,he.subjects),r=zt(e,lr("isActive","==",!0),qr("name","asc")),n=await _r(r),s=[];return n.forEach(i=>{const o={id:i.id,...i.data()};o.enrolled<o.capacity&&s.push(o)}),s}catch(e){throw console.error("Error al obtener materias disponibles:",e),new Error("Error al obtener materias disponibles")}}static async enrollStudent(e){try{const r=Be(ce,he.subjects,e),n=await mn(r);if(!n.exists())throw new Error("Materia no encontrada");const s=n.data();if(!s.isActive)throw new Error("La materia no est activa");if(s.enrolled>=s.capacity)throw new Error("La materia est llena");await fs(r,{enrolled:b8(1),updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al inscribir estudiante:",r),r}}static async unenrollStudent(e){try{const r=Be(ce,he.subjects,e),n=await mn(r);if(!n.exists())throw new Error("Materia no encontrada");const s=n.data();await fs(r,{enrolled:Math.max(0,s.enrolled-1),updatedAt:new Date().toISOString()})}catch(r){throw console.error("Error al retirar estudiante:",r),r}}static async getSubjectsByPrerequisites(e){try{const r=Et(ce,he.subjects),n=zt(r,lr("prerequisites","array-contains-any",e),lr("isActive","==",!0)),s=await _r(n),i=[];return s.forEach(o=>{i.push({id:o.id,...o.data()})}),i}catch(r){throw console.error("Error al obtener materias por prerrequisitos:",r),new Error("Error al obtener materias por prerrequisitos")}}static subscribeToSubjects(e){const r=Et(ce,he.subjects),n=zt(r,qr("name","asc"));return dl(n,s=>{const i=[];s.forEach(o=>{i.push({id:o.id,...o.data()})}),e(i)})}static subscribeToSubject(e,r){const n=Be(ce,he.subjects,e);return dl(n,s=>{s.exists()?r({id:s.id,...s.data()}):r(null)})}static async batchUpdateSubjects(e){try{const r=ox(ce);e.forEach(({id:n,updates:s})=>{const i=Be(ce,he.subjects,n);r.update(i,{...s,updatedAt:new Date().toISOString()})}),await r.commit()}catch(r){throw console.error("Error en actualizacin en lote:",r),new Error("Error en actualizacin en lote")}}static async searchSubjects(e){try{const r=Et(ce,he.subjects),n=zt(r,lr("isActive","==",!0),qr("name","asc")),s=await _r(n),i=[];return s.forEach(o=>{const a={id:o.id,...o.data()};(a.name.toLowerCase().includes(e.toLowerCase())||a.description.toLowerCase().includes(e.toLowerCase()))&&i.push(a)}),i}catch(r){throw console.error("Error al buscar materias:",r),new Error("Error al buscar materias")}}}function Ft(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var S8=typeof Symbol=="function"&&Symbol.observable||"@@observable",WS=S8,gg=()=>Math.random().toString(36).substring(7).split("").join("."),T8={INIT:`@@redux/INIT${gg()}`,REPLACE:`@@redux/REPLACE${gg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gg()}`},Ph=T8;function lx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cx(t,e,r){if(typeof t!="function")throw new Error(Ft(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ft(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ft(1));return r(cx)(t,e)}let n=t,s=e,i=new Map,o=i,a=0,l=!1;function u(){o===i&&(o=new Map,i.forEach((b,_)=>{o.set(_,b)}))}function f(){if(l)throw new Error(Ft(3));return s}function h(b){if(typeof b!="function")throw new Error(Ft(4));if(l)throw new Error(Ft(5));let _=!0;u();const w=a++;return o.set(w,b),function(){if(_){if(l)throw new Error(Ft(6));_=!1,u(),o.delete(w),i=null}}}function p(b){if(!lx(b))throw new Error(Ft(7));if(typeof b.type>"u")throw new Error(Ft(8));if(typeof b.type!="string")throw new Error(Ft(17));if(l)throw new Error(Ft(9));try{l=!0,s=n(s,b)}finally{l=!1}return(i=o).forEach(w=>{w()}),b}function g(b){if(typeof b!="function")throw new Error(Ft(10));n=b,p({type:Ph.REPLACE})}function x(){const b=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Ft(11));function w(){const I=_;I.next&&I.next(f())}return w(),{unsubscribe:b(w)}},[WS](){return this}}}return p({type:Ph.INIT}),{dispatch:p,subscribe:h,getState:f,replaceReducer:g,[WS]:x}}function C8(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Ph.INIT})>"u")throw new Error(Ft(12));if(typeof r(void 0,{type:Ph.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ft(13))})}function jN(t){const e=Object.keys(t),r={};for(let i=0;i<e.length;i++){const o=e[i];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let s;try{C8(r)}catch(i){s=i}return function(o={},a){if(s)throw s;let l=!1;const u={};for(let f=0;f<n.length;f++){const h=n[f],p=r[h],g=o[h],x=p(g,a);if(typeof x>"u")throw a&&a.type,new Error(Ft(14));u[h]=x,l=l||x!==g}return l=l||n.length!==Object.keys(o).length,l?u:o}}function Rh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function I8(...t){return e=>(r,n)=>{const s=e(r,n);let i=()=>{throw new Error(Ft(15))};const o={getState:s.getState,dispatch:(l,...u)=>i(l,...u)},a=t.map(l=>l(o));return i=Rh(...a)(s.dispatch),{...s,dispatch:i}}}function A8(t){return lx(t)&&"type"in t&&typeof t.type=="string"}var ON=Symbol.for("immer-nothing"),qS=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function dn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fl=Object.getPrototypeOf;function Oo(t){return!!t&&!!t[Dr]}function Cs(t){var e;return t?DN(t)||Array.isArray(t)||!!t[qS]||!!((e=t.constructor)!=null&&e[qS])||Fp(t)||Up(t):!1}var P8=Object.prototype.constructor.toString();function DN(t){if(!t||typeof t!="object")return!1;const e=fl(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===P8}function Nh(t,e){Vp(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Vp(t){const e=t[Dr];return e?e.type_:Array.isArray(t)?1:Fp(t)?2:Up(t)?3:0}function xv(t,e){return Vp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function MN(t,e,r){const n=Vp(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function R8(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Fp(t){return t instanceof Map}function Up(t){return t instanceof Set}function ro(t){return t.copy_||t.base_}function Ev(t,e){if(Fp(t))return new Map(t);if(Up(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=DN(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Dr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(fl(t),n)}else{const n=fl(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function ux(t,e=!1){return $p(t)||Oo(t)||!Cs(t)||(Vp(t)>1&&(t.set=t.add=t.clear=t.delete=N8),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>ux(n,!0))),t}function N8(){dn(2)}function $p(t){return Object.isFrozen(t)}var k8={};function Do(t){const e=k8[t];return e||dn(0,t),e}var hu;function LN(){return hu}function j8(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function GS(t,e){e&&(Do("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bv(t){Sv(t),t.drafts_.forEach(O8),t.drafts_=null}function Sv(t){t===hu&&(hu=t.parent_)}function KS(t){return hu=j8(hu,t)}function O8(t){const e=t[Dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Dr].modified_&&(bv(e),dn(4)),Cs(t)&&(t=kh(e,t),e.parent_||jh(e,t)),e.patches_&&Do("Patches").generateReplacementPatches_(r[Dr].base_,t,e.patches_,e.inversePatches_)):t=kh(e,r,[]),bv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ON?t:void 0}function kh(t,e,r){if($p(e))return e;const n=e[Dr];if(!n)return Nh(e,(s,i)=>YS(t,n,e,s,i,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return jh(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Nh(i,(a,l)=>YS(t,n,s,a,l,r,o)),jh(t,s,!1),r&&t.patches_&&Do("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function YS(t,e,r,n,s,i,o){if(Oo(s)){const a=i&&e&&e.type_!==3&&!xv(e.assigned_,n)?i.concat(n):void 0,l=kh(t,s,a);if(MN(r,n,l),Oo(l))t.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Cs(s)&&!$p(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;kh(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&jh(t,s)}}function jh(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ux(e,r)}function D8(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:LN(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=dx;r&&(s=[n],i=pu);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return n.draft_=a,n.revoke_=o,a}var dx={get(t,e){if(e===Dr)return t;const r=ro(t);if(!xv(r,e))return M8(t,r,e);const n=r[e];return t.finalized_||!Cs(n)?n:n===yg(t.base_,e)?(vg(t),t.copy_[e]=Cv(n,t)):n},has(t,e){return e in ro(t)},ownKeys(t){return Reflect.ownKeys(ro(t))},set(t,e,r){const n=VN(ro(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=yg(ro(t),e),i=s==null?void 0:s[Dr];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(R8(r,s)&&(r!==void 0||xv(t.base_,e)))return!0;vg(t),Tv(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return yg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,vg(t),Tv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=ro(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){dn(11)},getPrototypeOf(t){return fl(t.base_)},setPrototypeOf(){dn(12)}},pu={};Nh(dx,(t,e)=>{pu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});pu.deleteProperty=function(t,e){return pu.set.call(this,t,e,void 0)};pu.set=function(t,e,r){return dx.set.call(this,t[0],e,r,t[0])};function yg(t,e){const r=t[Dr];return(r?ro(r):t)[e]}function M8(t,e,r){var s;const n=VN(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function VN(t,e){if(!(e in t))return;let r=fl(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=fl(r)}}function Tv(t){t.modified_||(t.modified_=!0,t.parent_&&Tv(t.parent_))}function vg(t){t.copy_||(t.copy_=Ev(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var L8=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const o=this;return function(l=i,...u){return o.produce(l,f=>r.call(this,f,...u))}}typeof r!="function"&&dn(6),n!==void 0&&typeof n!="function"&&dn(7);let s;if(Cs(e)){const i=KS(this),o=Cv(e,void 0);let a=!0;try{s=r(o),a=!1}finally{a?bv(i):Sv(i)}return GS(i,n),QS(s,i)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===ON&&(s=void 0),this.autoFreeze_&&ux(s,!0),n){const i=[],o=[];Do("Patches").generateReplacementPatches_(e,s,i,o),n(i,o)}return s}else dn(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let n,s;return[this.produce(e,r,(o,a)=>{n=o,s=a}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Cs(t)||dn(8),Oo(t)&&(t=V8(t));const e=KS(this),r=Cv(t,void 0);return r[Dr].isManual_=!0,Sv(e),r}finishDraft(t,e){const r=t&&t[Dr];(!r||!r.isManual_)&&dn(9);const{scope_:n}=r;return GS(n,e),QS(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=Do("Patches").applyPatches_;return Oo(t)?n(t,e):this.produce(t,s=>n(s,e))}};function Cv(t,e){const r=Fp(t)?Do("MapSet").proxyMap_(t,e):Up(t)?Do("MapSet").proxySet_(t,e):D8(t,e);return(e?e.scope_:LN()).drafts_.push(r),r}function V8(t){return Oo(t)||dn(10,t),FN(t)}function FN(t){if(!Cs(t)||$p(t))return t;const e=t[Dr];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Ev(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Ev(t,!0);return Nh(r,(n,s)=>{MN(r,n,FN(s))}),e&&(e.finalized_=!1),r}var Mr=new L8,UN=Mr.produce;Mr.produceWithPatches.bind(Mr);Mr.setAutoFreeze.bind(Mr);Mr.setUseStrictShallowCopy.bind(Mr);Mr.applyPatches.bind(Mr);Mr.createDraft.bind(Mr);Mr.finishDraft.bind(Mr);function $N(t){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,t):s(i)}var F8=$N(),U8=$N,$8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rh:Rh.apply(null,arguments)},z8=t=>t&&typeof t.match=="function";function Rc(t,e){function r(...n){if(e){let s=e(...n);if(!s)throw new Error(hs(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>A8(n)&&n.type===t,r}var zN=class dc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dc(...e[0].concat(this)):new dc(...e.concat(this))}};function XS(t){return Cs(t)?UN(t,()=>{}):t}function Ud(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function B8(t){return typeof t=="boolean"}var H8=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=e??{};let o=new zN;return r&&(B8(r)?o.push(F8):o.push(U8(r.extraArgument))),o},W8="RTK_autoBatch",JS=t=>e=>{setTimeout(e,t)},q8=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let s=!0,i=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JS(10):t.type==="callback"?t.queueNotification:JS(t.timeout),u=()=>{o=!1,i&&(i=!1,a.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const h=()=>s&&f(),p=n.subscribe(h);return a.add(f),()=>{p(),a.delete(f)}},dispatch(f){var h;try{return s=!((h=f==null?void 0:f.meta)!=null&&h[W8]),i=!s,i&&(o||(o=!0,l(u))),n.dispatch(f)}finally{s=!0}}})},G8=t=>function(r){const{autoBatch:n=!0}=r??{};let s=new zN(t);return n&&s.push(q8(typeof n=="object"?n:void 0)),s};function K8(t){const e=H8(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=t||{};let a;if(typeof r=="function")a=r;else if(lx(r))a=jN(r);else throw new Error(hs(1));let l;typeof n=="function"?l=n(e):l=e();let u=Rh;s&&(u=$8({trace:!1,...typeof s=="object"&&s}));const f=I8(...l),h=G8(f);let p=typeof o=="function"?o(h):h();const g=u(...p);return cx(a,i,g)}function BN(t){const e={},r=[];let n;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(hs(28));if(a in e)throw new Error(hs(29));return e[a]=o,s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return t(s),[e,r,n]}function Q8(t){return typeof t=="function"}function Y8(t,e){let[r,n,s]=BN(e),i;if(Q8(t))i=()=>XS(t());else{const a=XS(t);i=()=>a}function o(a=i(),l){let u=[r[l.type],...n.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[s]),u.reduce((f,h)=>{if(h)if(Oo(f)){const g=h(f,l);return g===void 0?f:g}else{if(Cs(f))return UN(f,p=>h(p,l));{const p=h(f,l);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},a)}return o.getInitialState=i,o}var X8=(t,e)=>z8(t)?t.match(e):t(e);function J8(...t){return e=>t.some(r=>X8(r,e))}var Z8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",e7=(t=21)=>{let e="",r=t;for(;r--;)e+=Z8[Math.random()*64|0];return e},t7=["name","message","stack","code"],wg=class{constructor(t,e){dm(this,"_type");this.payload=t,this.meta=e}},ZS=class{constructor(t,e){dm(this,"_type");this.payload=t,this.meta=e}},r7=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of t7)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},eT="External signal was aborted",pt=(()=>{function t(e,r,n){const s=Rc(e+"/fulfilled",(l,u,f,h)=>({payload:l,meta:{...h||{},arg:f,requestId:u,requestStatus:"fulfilled"}})),i=Rc(e+"/pending",(l,u,f)=>({payload:void 0,meta:{...f||{},arg:u,requestId:l,requestStatus:"pending"}})),o=Rc(e+"/rejected",(l,u,f,h,p)=>({payload:h,error:(n&&n.serializeError||r7)(l||"Rejected"),meta:{...p||{},arg:f,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l,{signal:u}={}){return(f,h,p)=>{const g=n!=null&&n.idGenerator?n.idGenerator(l):e7(),x=new AbortController;let v,b;function _(S){b=S,x.abort()}u&&(u.aborted?_(eT):u.addEventListener("abort",()=>_(eT),{once:!0}));const w=async function(){var N,D;let S;try{let C=(N=n==null?void 0:n.condition)==null?void 0:N.call(n,l,{getState:h,extra:p});if(s7(C)&&(C=await C),C===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((P,A)=>{v=()=>{A({name:"AbortError",message:b||"Aborted"})},x.signal.addEventListener("abort",v)});f(i(g,l,(D=n==null?void 0:n.getPendingMeta)==null?void 0:D.call(n,{requestId:g,arg:l},{getState:h,extra:p}))),S=await Promise.race([T,Promise.resolve(r(l,{dispatch:f,getState:h,extra:p,requestId:g,signal:x.signal,abort:_,rejectWithValue:(P,A)=>new wg(P,A),fulfillWithValue:(P,A)=>new ZS(P,A)})).then(P=>{if(P instanceof wg)throw P;return P instanceof ZS?s(P.payload,g,l,P.meta):s(P,g,l)})])}catch(C){S=C instanceof wg?o(null,g,l,C.payload,C.meta):o(C,g,l)}finally{v&&x.signal.removeEventListener("abort",v)}return n&&!n.dispatchConditionRejection&&o.match(S)&&S.meta.condition||f(S),S}();return Object.assign(w,{abort:_,requestId:g,arg:l,unwrap(){return w.then(n7)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:s,settled:J8(o,s),typePrefix:e})}return t.withTypes=()=>t,t})();function n7(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function s7(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var i7=Symbol.for("rtk-slice-createasyncthunk");function o7(t,e){return`${t}/${e}`}function a7({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[i7];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(hs(11));const a=(typeof s.reducers=="function"?s.reducers(c7()):s.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,N){const D=typeof I=="string"?I:I.type;if(!D)throw new Error(hs(12));if(D in u.sliceCaseReducersByType)throw new Error(hs(13));return u.sliceCaseReducersByType[D]=N,f},addMatcher(I,N){return u.sliceMatchers.push({matcher:I,reducer:N}),f},exposeAction(I,N){return u.actionCreators[I]=N,f},exposeCaseReducer(I,N){return u.sliceCaseReducersByName[I]=N,f}};l.forEach(I=>{const N=a[I],D={reducerName:I,type:o7(i,I),createNotation:typeof s.reducers=="function"};d7(N)?h7(D,N,f,e):u7(D,N,f)});function h(){const[I={},N=[],D=void 0]=typeof s.extraReducers=="function"?BN(s.extraReducers):[s.extraReducers],C={...I,...u.sliceCaseReducersByType};return Y8(s.initialState,T=>{for(let P in C)T.addCase(P,C[P]);for(let P of u.sliceMatchers)T.addMatcher(P.matcher,P.reducer);for(let P of N)T.addMatcher(P.matcher,P.reducer);D&&T.addDefaultCase(D)})}const p=I=>I,g=new Map,x=new WeakMap;let v;function b(I,N){return v||(v=h()),v(I,N)}function _(){return v||(v=h()),v.getInitialState()}function w(I,N=!1){function D(T){let P=T[I];return typeof P>"u"&&N&&(P=Ud(x,D,_)),P}function C(T=p){const P=Ud(g,N,()=>new WeakMap);return Ud(P,T,()=>{const A={};for(const[k,O]of Object.entries(s.selectors??{}))A[k]=l7(O,T,()=>Ud(x,T,_),N);return A})}return{reducerPath:I,getSelectors:C,get selectors(){return C(D)},selectSlice:D}}const S={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...w(o),injectInto(I,{reducerPath:N,...D}={}){const C=N??o;return I.inject({reducerPath:C,reducer:b},D),{...S,...w(C,!0)}}};return S}}function l7(t,e,r,n){function s(i,...o){let a=e(i);return typeof a>"u"&&n&&(a=r()),t(a,...o)}return s.unwrapped=t,s}var zp=a7();function c7(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function u7({type:t,reducerName:e,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!f7(n))throw new Error(hs(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?Rc(t,o):Rc(t))}function d7(t){return t._reducerDefinitionType==="asyncThunk"}function f7(t){return t._reducerDefinitionType==="reducerWithPrepare"}function h7({type:t,reducerName:e},r,n,s){if(!s)throw new Error(hs(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:l,settled:u,options:f}=r,h=s(t,i,f);n.exposeAction(e,h),o&&n.addCase(h.fulfilled,o),a&&n.addCase(h.pending,a),l&&n.addCase(h.rejected,l),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:o||$d,pending:a||$d,rejected:l||$d,settled:u||$d})}function $d(){}function hs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const p7={user:null,isAuthenticated:!1,isLoading:!1,error:null},vf=pt("auth/loginUser",async(t,{rejectWithValue:e})=>{try{return await Lp.loginUser(t.email,t.password)}catch(r){return e(r instanceof Error?r.message:"Error al iniciar sesin")}}),wf=pt("auth/registerUser",async(t,{rejectWithValue:e})=>{try{return await Lp.registerUser(t)}catch(r){return e(r instanceof Error?r.message:"Error al registrar usuario")}}),_f=pt("auth/logoutUser",async(t,{rejectWithValue:e})=>{try{return await Lp.logoutUser(),!0}catch(r){return e(r instanceof Error?r.message:"Error al cerrar sesin")}}),xf=pt("auth/updateProfile",async(t,{rejectWithValue:e})=>{try{return await Lp.updateUserProfile(t),t}catch(r){return e(r instanceof Error?r.message:"Error al actualizar perfil")}}),HN=zp({name:"auth",initialState:p7,reducers:{clearError:t=>{t.error=null},setUser:(t,e)=>{t.user=e.payload,t.isAuthenticated=!0,t.error=null},resetAuth:t=>{t.user=null,t.isAuthenticated=!1,t.isLoading=!1,t.error=null}},extraReducers:t=>{t.addCase(vf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vf.fulfilled,(e,r)=>{e.isLoading=!1,e.user=r.payload,e.isAuthenticated=!0,e.error=null}).addCase(vf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(wf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wf.fulfilled,(e,r)=>{e.isLoading=!1,e.user=r.payload,e.isAuthenticated=!0,e.error=null}).addCase(wf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(_f.pending,e=>{e.isLoading=!0}).addCase(_f.fulfilled,e=>{e.isLoading=!1,e.user=null,e.isAuthenticated=!1,e.error=null}).addCase(_f.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(xf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xf.fulfilled,(e,r)=>{e.isLoading=!1,e.user&&(e.user={...e.user,...r.payload,updatedAt:new Date().toISOString()}),e.error=null}).addCase(xf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"})}}),{clearError:vG,setUser:wG,resetAuth:_G}=HN.actions,m7=HN.reducer,g7=({children:t})=>{const e=Li(),{user:r}=rt(s=>s.auth),n=async()=>{try{await e(_f()).unwrap()}catch(s){console.error("Error en logout:",s)}};return d.jsx(VA,{children:d.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[d.jsx(p6,{onLogout:n}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsx("header",{className:"h-14 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-40",children:d.jsxs("div",{className:"flex items-center h-full px-4",children:[d.jsx(UA,{className:"mr-4"}),d.jsx("div",{className:"flex-1"}),r&&d.jsx("div",{className:"flex items-center space-x-2",children:d.jsxs("span",{className:"text-sm text-muted-foreground",children:["Bienvenido, ",r.name]})})]})}),d.jsx("main",{className:"flex-1 p-6",children:t})]})]})})},y7=$o("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ve({className:t,variant:e,...r}){return d.jsx("div",{className:X(y7({variant:e}),t),...r})}const Ne=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ne.displayName="Card";const De=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:X("flex flex-col space-y-1.5 p-6",t),...e}));De.displayName="CardHeader";const Me=y.forwardRef(({className:t,...e},r)=>d.jsx("h3",{ref:r,className:X("text-2xl font-semibold leading-none tracking-tight",t),...e}));Me.displayName="CardTitle";const vt=y.forwardRef(({className:t,...e},r)=>d.jsx("p",{ref:r,className:X("text-sm text-muted-foreground",t),...e}));vt.displayName="CardDescription";const ke=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:X("p-6 pt-0",t),...e}));ke.displayName="CardContent";const v7=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:X("flex items-center p-6 pt-0",t),...e}));v7.displayName="CardFooter";var fx="Progress",hx=100,[w7,xG]=Hn(fx),[_7,x7]=w7(fx),WN=y.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=E7,...o}=t;(s||s===0)&&!tT(s)&&console.error(b7(`${s}`,"Progress"));const a=tT(s)?s:hx;n!==null&&!rT(n,a)&&console.error(S7(`${n}`,"Progress"));const l=rT(n,a)?n:null,u=Oh(l)?i(l,a):void 0;return d.jsx(_7,{scope:r,value:l,max:a,children:d.jsx(de.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Oh(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":KN(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});WN.displayName=fx;var qN="ProgressIndicator",GN=y.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,s=x7(qN,r);return d.jsx(de.div,{"data-state":KN(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:e})});GN.displayName=qN;function E7(t,e){return`${Math.round(t/e*100)}%`}function KN(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Oh(t){return typeof t=="number"}function tT(t){return Oh(t)&&!isNaN(t)&&t>0}function rT(t,e){return Oh(t)&&!isNaN(t)&&t<=e&&t>=0}function b7(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hx}\`.`}function S7(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var QN=WN,T7=GN;const YN=y.forwardRef(({className:t,value:e,...r},n)=>d.jsx(QN,{ref:n,className:X("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:d.jsx(T7,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));YN.displayName=QN.displayName;const C7={professors:[],isLoading:!1,error:null},wo=pt("professors/fetchProfessors",async(t,{rejectWithValue:e})=>{try{return await uc.getAllProfessors()}catch(r){return e(r instanceof Error?r.message:"Error al obtener profesores")}}),_g=pt("professors/createProfessor",async(t,{rejectWithValue:e})=>{try{return await new Promise(n=>setTimeout(n,1e3)),t.subjects.length>t.maxSubjects?e(`El profesor no puede dictar ms de ${t.maxSubjects} materias`):{id:Date.now().toString(),...t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}catch{return e("Error al crear profesor")}}),xg=pt("professors/updateProfessor",async({id:t,updates:e},{rejectWithValue:r})=>{try{return await new Promise(n=>setTimeout(n,1e3)),e.subjects&&e.subjects.length>2?r("Cada profesor solo puede dictar mximo 2 materias"):{id:t,updates:e}}catch{return r("Error al actualizar profesor")}}),Eg=pt("professors/deleteProfessor",async(t,{rejectWithValue:e,getState:r})=>{try{return await new Promise(i=>setTimeout(i,1e3)),r().students.students.some(i=>Array.isArray(i.professors)&&i.professors.includes(t))?e("No se puede eliminar un profesor con estudiantes inscritos"):t}catch{return e("Error al eliminar profesor")}}),bg=pt("professors/assignSubjectToProfessor",async({professorId:t,subjectId:e},{rejectWithValue:r,getState:n})=>{try{await new Promise(o=>setTimeout(o,500));const i=n().professors.professors.find(o=>o.id===t);return i?i.isActive?i.subjects.length>=i.maxSubjects?r("El profesor ya tiene el mximo de materias permitidas"):i.subjects.includes(e)?r("El profesor ya est asignado a esta materia"):{professorId:t,subjectId:e}:r("El profesor no est activo"):r("Profesor no encontrado")}catch{return r("Error al asignar materia")}}),Sg=pt("professors/removeSubjectFromProfessor",async({professorId:t,subjectId:e},{rejectWithValue:r,getState:n})=>{try{return await new Promise(o=>setTimeout(o,500)),n().students.students.some(o=>o.subjects.includes(e)&&o.professors.includes(t))?r("No se puede remover la materia porque hay estudiantes inscritos"):{professorId:t,subjectId:e}}catch{return r("Error al remover materia")}}),XN=zp({name:"professors",initialState:{...C7,professors:[]},reducers:{clearError:t=>{t.error=null},resetProfessors:t=>{t.professors=[],t.isLoading=!1,t.error=null},validateSubjectDistribution:t=>{t.professors.filter(r=>r.isActive&&r.subjects.length!==2).length>0&&(t.error="Algunos profesores no tienen exactamente 2 materias asignadas")}},extraReducers:t=>{t.addCase(wo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wo.fulfilled,(e,r)=>{e.isLoading=!1,e.professors=r.payload,e.error=null}).addCase(wo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,e.professors.push(r.payload),e.error=null}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1;const{id:n,updates:s}=r.payload,i=e.professors.findIndex(o=>o.id===n);i!==-1&&(e.professors[i]={...e.professors[i],...s,updatedAt:new Date().toISOString()}),e.error=null}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,e.professors=e.professors.filter(n=>n.id!==r.payload),e.error=null}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1;const{professorId:n,subjectId:s}=r.payload,i=e.professors.find(o=>o.id===n);i&&!i.subjects.includes(s)&&(i.subjects.push(s),i.updatedAt=new Date().toISOString()),e.error=null}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1;const{professorId:n,subjectId:s}=r.payload,i=e.professors.find(o=>o.id===n);i&&(i.subjects=i.subjects.filter(o=>o!==s),i.updatedAt=new Date().toISOString()),e.error=null}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"})}}),{clearError:EG,resetProfessors:bG,validateSubjectDistribution:SG}=XN.actions,I7=XN.reducer,zd=3,A7={students:[],currentStudent:null,isLoading:!1,error:null,filters:{searchTerm:"",selectedSubject:"",selectedProfessor:"",selectedSemester:""}},ps=pt("students/fetchStudents",async(t,{rejectWithValue:e})=>{try{return await kt.getAllStudents()}catch(r){return e(r instanceof Error?r.message:"Error al obtener estudiantes")}}),Ef=pt("students/createStudent",async(t,{rejectWithValue:e})=>{try{return await kt.createStudent(t)}catch(r){return e(r instanceof Error?r.message:"Error al crear estudiante")}}),bf=pt("students/updateStudent",async(t,{rejectWithValue:e})=>{try{return await new Promise(r=>setTimeout(r,1e3)),t}catch{return e("Error al actualizar estudiante")}}),Tg=pt("students/deleteStudent",async(t,{rejectWithValue:e})=>{try{return await kt.deleteStudent(t),t}catch(r){return e(r instanceof Error?r.message:"Error al eliminar estudiante")}}),Cg=pt("students/selectSubject",async({studentId:t,subjectId:e},{rejectWithValue:r})=>{try{return await kt.selectSubject(t,e),{studentId:t,subjectId:e}}catch(n){return r(n instanceof Error?n.message:"Error al seleccionar materia")}}),Sf=pt("students/removeSubject",async({studentId:t,subjectId:e},{rejectWithValue:r})=>{try{return await kt.removeSubject(t,e),{studentId:t,subjectId:e}}catch(n){return r(n instanceof Error?n.message:"Error al remover materia")}}),JN=zp({name:"students",initialState:{...A7,students:[]},reducers:{setCurrentStudent:(t,e)=>{t.currentStudent=e.payload},clearCurrentStudent:t=>{t.currentStudent=null},updateFilters:(t,e)=>{t.filters={...t.filters,...e.payload}},clearFilters:t=>{t.filters={searchTerm:"",selectedSubject:"",selectedProfessor:"",selectedSemester:""}},updateStudentsFromRealtime:(t,e)=>{t.students=e.payload,t.isLoading=!1,t.error=null},updateStudentFromRealtime:(t,e)=>{var n;const r=t.students.findIndex(s=>s.id===e.payload.id);r!==-1?t.students[r]=e.payload:t.students.push(e.payload),((n=t.currentStudent)==null?void 0:n.id)===e.payload.id&&(t.currentStudent=e.payload)},clearError:t=>{t.error=null},resetStudents:t=>{t.students=[],t.currentStudent=null,t.isLoading=!1,t.error=null,t.filters={searchTerm:"",selectedSubject:"",selectedProfessor:"",selectedSemester:""}}},extraReducers:t=>{t.addCase(ps.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ps.fulfilled,(e,r)=>{e.isLoading=!1,e.students=r.payload,e.error=null}).addCase(ps.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Ef.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ef.fulfilled,(e,r)=>{e.isLoading=!1,e.students.push(r.payload),e.error=null}).addCase(Ef.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(bf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bf.fulfilled,(e,r)=>{var s;e.isLoading=!1;const n=e.students.findIndex(i=>i.id===r.payload.id);n!==-1&&(e.students[n]={...e.students[n],...r.payload.updates,updatedAt:new Date().toISOString()}),((s=e.currentStudent)==null?void 0:s.id)===r.payload.id&&(e.currentStudent={...e.currentStudent,...r.payload.updates,updatedAt:new Date().toISOString()}),e.error=null}).addCase(bf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tg.fulfilled,(e,r)=>{var n;e.isLoading=!1,e.students=e.students.filter(s=>s.id!==r.payload),((n=e.currentStudent)==null?void 0:n.id)===r.payload&&(e.currentStudent=null),e.error=null}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cg.fulfilled,(e,r)=>{var o;e.isLoading=!1;const{studentId:n,subjectId:s}=r.payload,i=e.students.find(a=>a.id===n);i&&!i.subjects.includes(s)&&(i.subjects.push(s),i.credits+=zd,i.updatedAt=new Date().toISOString()),((o=e.currentStudent)==null?void 0:o.id)===n&&e.currentStudent&&!e.currentStudent.subjects.includes(s)&&(e.currentStudent.subjects.push(s),e.currentStudent.credits+=zd,e.currentStudent.updatedAt=new Date),e.error=null}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Sf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sf.fulfilled,(e,r)=>{var o;e.isLoading=!1;const{studentId:n,subjectId:s}=r.payload,i=e.students.find(a=>a.id===n);i&&(i.subjects=i.subjects.filter(a=>a!==s),i.credits=Math.max(0,i.credits-zd),i.updatedAt=new Date().toISOString()),((o=e.currentStudent)==null?void 0:o.id)===n&&e.currentStudent&&(e.currentStudent.subjects=e.currentStudent.subjects.filter(a=>a!==s),e.currentStudent.credits=Math.max(0,e.currentStudent.credits-zd),e.currentStudent.updatedAt=new Date),e.error=null}).addCase(Sf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"})}}),{setCurrentStudent:TG,clearCurrentStudent:CG,updateFilters:IG,clearFilters:AG,clearError:PG,resetStudents:RG,updateStudentsFromRealtime:NG,updateStudentFromRealtime:P7}=JN.actions,R7=JN.reducer,N7={subjects:[],selectedSubjects:[],isLoading:!1,error:null,filters:{searchTerm:"",selectedProfessor:"",selectedSemester:""}},ms=pt("subjects/fetchSubjects",async(t,{rejectWithValue:e})=>{try{return await xi.getAllSubjects()}catch(r){return e(r instanceof Error?r.message:"Error al obtener materias")}}),Tf=pt("subjects/createSubject",async(t,{rejectWithValue:e})=>{try{return await xi.createSubject(t)}catch(r){return e(r instanceof Error?r.message:"Error al crear materia")}}),Nc=pt("subjects/updateSubject",async({id:t,updates:e},{rejectWithValue:r})=>{try{if(e.credits&&e.credits!==3)return r("Cada materia debe tener exactamente 3 crditos");await xi.updateSubject(t,e);const s=await xi.getSubjectById(t);return s?{id:t,updates:s}:{id:t,updates:e}}catch(n){return r(n instanceof Error?n.message:"Error al actualizar materia")}}),Ig=pt("subjects/deleteSubject",async(t,{rejectWithValue:e,getState:r})=>{try{return await new Promise(i=>setTimeout(i,1e3)),r().students.students.some(i=>i.subjects.includes(t))?e("No se puede eliminar una materia con estudiantes inscritos"):t}catch{return e("Error al eliminar materia")}}),Ag=pt("subjects/enrollStudentInSubject",async({subjectId:t,studentId:e},{rejectWithValue:r,getState:n})=>{try{await new Promise(o=>setTimeout(o,500));const i=n().subjects.subjects.find(o=>o.id===t);return i?i.isActive?i.enrolled>=i.capacity?r("La materia est llena"):{subjectId:t,studentId:e}:r("La materia no est activa"):r("Materia no encontrada")}catch{return r("Error al inscribir estudiante")}}),Pg=pt("subjects/unenrollStudentFromSubject",async({subjectId:t,studentId:e},{rejectWithValue:r})=>{try{return await new Promise(n=>setTimeout(n,500)),{subjectId:t,studentId:e}}catch{return r("Error al retirar estudiante")}}),ZN=zp({name:"subjects",initialState:{...N7,subjects:[]},reducers:{setSelectedSubjects:(t,e)=>{t.selectedSubjects=e.payload},addSelectedSubject:(t,e)=>{t.selectedSubjects.includes(e.payload)||t.selectedSubjects.push(e.payload)},removeSelectedSubject:(t,e)=>{t.selectedSubjects=t.selectedSubjects.filter(r=>r!==e.payload)},clearSelectedSubjects:t=>{t.selectedSubjects=[]},updateFilters:(t,e)=>{t.filters={...t.filters,...e.payload}},clearFilters:t=>{t.filters={searchTerm:"",selectedProfessor:"",selectedSemester:""}},updateSubjectsFromRealtime:(t,e)=>{t.subjects=e.payload,t.isLoading=!1,t.error=null},clearError:t=>{t.error=null},resetSubjects:t=>{t.subjects=[],t.selectedSubjects=[],t.isLoading=!1,t.error=null,t.filters={searchTerm:"",selectedProfessor:"",selectedSemester:""}}},extraReducers:t=>{t.addCase(ms.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ms.fulfilled,(e,r)=>{e.isLoading=!1,e.subjects=r.payload,e.error=null}).addCase(ms.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Tf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tf.fulfilled,(e,r)=>{e.isLoading=!1,e.subjects.push(r.payload),e.error=null}).addCase(Tf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Nc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nc.fulfilled,(e,r)=>{e.isLoading=!1;const{id:n,updates:s}=r.payload,i=e.subjects.findIndex(o=>o.id===n);i!==-1&&(e.subjects[i]={...e.subjects[i],...s,updatedAt:new Date().toISOString()}),e.error=null}).addCase(Nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,e.subjects=e.subjects.filter(n=>n.id!==r.payload),e.error=null}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1;const{subjectId:n}=r.payload,s=e.subjects.find(i=>i.id===n);s&&(s.enrolled+=1,s.updatedAt=new Date().toISOString()),e.error=null}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"}),t.addCase(Pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1;const{subjectId:n}=r.payload,s=e.subjects.find(i=>i.id===n);s&&(s.enrolled=Math.max(0,s.enrolled-1),s.updatedAt=new Date().toISOString()),e.error=null}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Error desconocido"})}}),{setSelectedSubjects:kG,addSelectedSubject:jG,removeSelectedSubject:OG,clearSelectedSubjects:DG,updateFilters:MG,clearFilters:LG,clearError:VG,resetSubjects:FG,updateSubjectsFromRealtime:k7}=ZN.actions,j7=ZN.reducer,nT=()=>{const t=Li(),e=l_(),{user:r}=rt(x=>x.auth),{students:n,isLoading:s}=rt(x=>x.students),{subjects:i,isLoading:o}=rt(x=>x.subjects),{professors:a,isLoading:l}=rt(x=>x.professors),[u,f]=y.useState({totalStudents:0,totalSubjects:0,totalProfessors:0,activeSubjects:0,averageGPA:0,totalCredits:0});y.useEffect(()=>{n.length===0&&t(ps()),i.length===0&&t(ms()),a.length===0&&t(wo())},[]),y.useEffect(()=>{if(!s&&!o&&!l){const x=n.length,v=i.length,b=a.length,_=i.filter(N=>N.isActive).length,w=n.reduce((N,D)=>N+D.gpa,0),S=x>0?w/x:0,I=n.reduce((N,D)=>N+D.credits,0);f({totalStudents:x,totalSubjects:v,totalProfessors:b,activeSubjects:_,averageGPA:Math.round(S*100)/100,totalCredits:I})}},[n,i,a,s,o,l]);const h=r?i.filter(x=>r.subjects.includes(x.id)):[];if(s||o||l)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"Cargando dashboard..."})]})});const g=r?r.credits/r.maxCredits*100:0;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:["Hola, ",(r==null?void 0:r.name)||"Estudiante","! "]}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Aqu tienes un resumen de tu progreso acadmico"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs(ve,{variant:"secondary",children:["Semestre ",(r==null?void 0:r.semester)||"N/A"]}),d.jsxs(ve,{variant:"outline",children:["GPA: ",(r==null?void 0:r.gpa)||"0.0"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs(Ne,{className:"shadow-card hover:shadow-card-hover transition-all duration-300",children:[d.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Me,{className:"text-sm font-medium",children:"Crditos Actuales"}),d.jsx(Ot,{className:"h-4 w-4 text-primary"})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"text-2xl font-bold text-primary",children:(r==null?void 0:r.credits)||0}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["de ",(r==null?void 0:r.maxCredits)||9," mximos"]}),d.jsx(YN,{value:g,className:"mt-2"})]})]}),d.jsxs(Ne,{className:"shadow-card hover:shadow-card-hover transition-all duration-300",children:[d.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Me,{className:"text-sm font-medium",children:"Materias Inscritas"}),d.jsx(Gs,{className:"h-4 w-4 text-accent"})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"text-2xl font-bold text-accent",children:h.length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"este semestre"})]})]}),d.jsxs(Ne,{className:"shadow-card hover:shadow-card-hover transition-all duration-300",children:[d.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Me,{className:"text-sm font-medium",children:"Total Estudiantes"}),d.jsx(Si,{className:"h-4 w-4 text-success"})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"text-2xl font-bold text-success",children:u.totalStudents}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"registrados"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{children:[d.jsx(Me,{children:"Materias Inscritas"}),d.jsx(vt,{children:"Materias que ests cursando este semestre"})]}),d.jsx(ke,{children:h.length>0?d.jsx("div",{className:"space-y-3",children:h.map(x=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:x.name}),d.jsx("div",{className:"text-sm text-muted-foreground",children:x.schedule})]}),d.jsxs(ve,{variant:"outline",children:[x.credits," crditos"]})]},x.id))}):d.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[d.jsx(Ot,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),d.jsx("p",{children:"No tienes materias asignadas"}),d.jsx("p",{className:"text-sm",children:"Contacta a tu asesor acadmico"})]})})]}),d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{children:[d.jsx(Me,{children:"Estadsticas Generales"}),d.jsx(vt,{children:"Resumen del sistema acadmico"})]}),d.jsx(ke,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm font-medium",children:"Materias Activas"}),d.jsx(ve,{variant:"secondary",children:u.activeSubjects})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm font-medium",children:"Total Profesores"}),d.jsx(ve,{variant:"outline",children:u.totalProfessors})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-sm font-medium",children:"Crditos Totales"}),d.jsx(ve,{variant:"default",children:u.totalCredits})]})]})})]})]}),d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{children:[d.jsx(Me,{children:"Acciones Rpidas"}),d.jsx(vt,{children:"Accede rpidamente a las funciones principales"})]}),d.jsx(ke,{children:d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsxs(Fe,{variant:"outline",className:"flex items-center gap-2",onClick:()=>e("/subjects"),children:[d.jsx(Ot,{className:"h-4 w-4"}),"Ver Materias"]}),d.jsxs(Fe,{variant:"outline",className:"flex items-center gap-2",onClick:()=>e("/students"),children:[d.jsx(Si,{className:"h-4 w-4"}),"Ver Estudiantes"]}),d.jsxs(Fe,{variant:"outline",className:"flex items-center gap-2",onClick:()=>e("/my-subjects"),children:[d.jsx(Ot,{className:"h-4 w-4"}),"Mis Materias"]})]})})]})]})},O7=()=>{const t=Li(),[e,r]=y.useState(""),[n,s]=y.useState(""),i=rt(x=>x.students),o=rt(x=>x.subjects),a=rt(x=>x.professors),l=()=>{t(ps())},u=()=>{t(ms())},f=()=>{t(wo())},h=()=>{e&&n&&(t(Ef({name:e,email:n,phone:"",semester:1})),r(""),s(""))},p=(x,v)=>{t(Sf({studentId:x,subjectId:v}))},g=()=>{t(Tf({name:"Nueva Materia",credits:3,professor:"1",schedule:"Lun-Mi 10:00-12:00",capacity:25,enrolled:0,description:"Descripcin de la nueva materia",prerequisites:[],isActive:!0}))};return d.jsxs("div",{className:"space-y-6 p-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Administrador de Datos"}),d.jsxs(Ne,{children:[d.jsxs(De,{children:[d.jsx(Me,{children:" Estado de Estudiantes"}),d.jsx(vt,{children:"Prueba las funciones de estudiantes"})]}),d.jsxs(ke,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs(ve,{variant:"outline",children:["Total: ",i.students.length]}),d.jsx(ve,{variant:i.isLoading?"secondary":"default",children:i.isLoading?"Cargando...":"Listo"})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Fe,{onClick:l,disabled:i.isLoading,children:"Cargar Estudiantes"}),d.jsx(Fe,{onClick:h,variant:"outline",children:"Crear Estudiante"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("input",{type:"text",placeholder:"Nombre",value:e,onChange:x=>r(x.target.value),className:"px-3 py-2 border rounded"}),d.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:x=>s(x.target.value),className:"px-3 py-2 border rounded"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium",children:"Estudiantes:"}),i.students.map(x=>d.jsx("div",{className:"p-3 border rounded",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("strong",{children:x.name})," - ",x.email,d.jsxs("div",{className:"text-sm text-gray-600",children:["Crditos: ",x.credits,"/",x.maxCredits," | Materias: ",x.subjects.length,"/3"]})]}),d.jsx("div",{className:"flex space-x-1",children:x.subjects.map(v=>d.jsx(ve,{variant:"outline",className:"cursor-pointer hover:bg-red-100",onClick:()=>p(x.id,v),children:v},v))})]})},x.id))]}),i.error&&d.jsxs("div",{className:"text-red-500 text-sm",children:["Error: ",i.error]})]})]}),d.jsxs(Ne,{children:[d.jsxs(De,{children:[d.jsx(Me,{children:" Estado de Materias"}),d.jsx(vt,{children:"Prueba las funciones de materias"})]}),d.jsxs(ke,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs(ve,{variant:"outline",children:["Total: ",o.subjects.length]}),d.jsx(ve,{variant:o.isLoading?"secondary":"default",children:o.isLoading?"Cargando...":"Listo"})]}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Fe,{onClick:u,disabled:o.isLoading,children:"Cargar Materias"}),d.jsx(Fe,{onClick:g,variant:"outline",children:"Crear Materia"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium",children:"Materias:"}),o.subjects.map(x=>d.jsx("div",{className:"p-3 border rounded",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("strong",{children:x.name})," - ",x.credits," crditos",d.jsxs("div",{className:"text-sm text-gray-600",children:["Profesor: ",x.professor," | Cupos: ",x.enrolled,"/",x.capacity]})]}),d.jsx(ve,{variant:x.isActive?"default":"secondary",children:x.isActive?"Activa":"Inactiva"})]})},x.id))]}),o.error&&d.jsxs("div",{className:"text-red-500 text-sm",children:["Error: ",o.error]})]})]}),d.jsxs(Ne,{children:[d.jsxs(De,{children:[d.jsx(Me,{children:" Estado de Profesores"}),d.jsx(vt,{children:"Prueba las funciones de profesores"})]}),d.jsxs(ke,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs(ve,{variant:"outline",children:["Total: ",a.professors.length]}),d.jsx(ve,{variant:a.isLoading?"secondary":"default",children:a.isLoading?"Cargando...":"Listo"})]}),d.jsx(Fe,{onClick:f,disabled:a.isLoading,children:"Cargar Profesores"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium",children:"Profesores:"}),a.professors.map(x=>d.jsx("div",{className:"p-3 border rounded",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("strong",{children:x.name})," - ",x.email,d.jsxs("div",{className:"text-sm text-gray-600",children:["Materias: ",x.subjects.length,"/",x.maxSubjects]})]}),d.jsx(ve,{variant:x.isActive?"default":"secondary",children:x.isActive?"Activo":"Inactivo"})]})},x.id))]}),a.error&&d.jsxs("div",{className:"text-red-500 text-sm",children:["Error: ",a.error]})]})]})]})};var D7="Label",ek=y.forwardRef((t,e)=>d.jsx(de.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ek.displayName=D7;var tk=ek;const M7=$o("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mt=y.forwardRef(({className:t,...e},r)=>d.jsx(tk,{ref:r,className:X(M7(),t),...e}));mt.displayName=tk.displayName;const L7=1,V7=1e6;let Rg=0;function F7(){return Rg=(Rg+1)%Number.MAX_SAFE_INTEGER,Rg.toString()}const Ng=new Map,sT=t=>{if(Ng.has(t))return;const e=setTimeout(()=>{Ng.delete(t),kc({type:"REMOVE_TOAST",toastId:t})},V7);Ng.set(t,e)},U7=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,L7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?sT(r):t.toasts.forEach(n=>{sT(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Cf=[];let If={toasts:[]};function kc(t){If=U7(If,t),Cf.forEach(e=>{e(If)})}function $7({...t}){const e=F7(),r=s=>kc({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>kc({type:"DISMISS_TOAST",toastId:e});return kc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Hu(){const[t,e]=y.useState(If);return y.useEffect(()=>(Cf.push(e),()=>{const r=Cf.indexOf(e);r>-1&&Cf.splice(r,1)}),[t]),{...t,toast:$7,dismiss:r=>kc({type:"DISMISS_TOAST",toastId:r})}}const z7=()=>{const t=Li(),{user:e,isLoading:r}=rt(p=>p.auth),{toast:n}=Hu(),[s,i]=y.useState(!1),[o,a]=y.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",semester:(e==null?void 0:e.semester)||1});if(!e)return d.jsx("div",{className:"max-w-4xl mx-auto p-6",children:d.jsx(Ne,{children:d.jsx(ke,{className:"p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Debes iniciar sesin para ver tu perfil"})})})});const l=()=>{a({name:e.name,email:e.email,phone:e.phone,semester:e.semester}),i(!0)},u=()=>{i(!1),a({name:e.name,email:e.email,phone:e.phone,semester:e.semester})},f=async()=>{try{await t(xf({name:o.name,phone:o.phone,semester:o.semester})).unwrap(),n({title:"Perfil actualizado!",description:"Tu perfil se ha actualizado correctamente"}),i(!1)}catch(p){n({title:"Error",description:`Error al actualizar perfil: ${p instanceof Error?p.message:"Error desconocido"}`,variant:"destructive"})}},h=(p,g)=>{a(x=>({...x,[p]:g}))};return d.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Mi Perfil"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu informacin personal y acadmica"})]}),d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs(Ne,{children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center gap-2",children:[d.jsx(Pa,{className:"h-5 w-5"}),"Informacin Personal"]}),d.jsx(vt,{children:"Tus datos bsicos y de contacto"})]}),d.jsx(ke,{className:"space-y-4",children:s?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"name",children:"Nombre Completo"}),d.jsx(ar,{id:"name",value:o.name,onChange:p=>h("name",p.target.value),placeholder:"Tu nombre completo"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"email",children:"Email"}),d.jsx(ar,{id:"email",type:"email",value:o.email,disabled:!0,className:"bg-muted"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"El email no se puede modificar por seguridad"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"phone",children:"Telfono"}),d.jsx(ar,{id:"phone",type:"tel",value:o.phone,onChange:p=>h("phone",p.target.value),placeholder:"+1 (555) 123-4567"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"semester",children:"Semestre"}),d.jsx(ar,{id:"semester",type:"number",min:"1",max:"10",value:o.semester,onChange:p=>h("semester",parseInt(p.target.value))})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{children:"Nombre Completo"}),d.jsx("p",{className:"text-sm font-medium",children:e.name})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{children:"Email"}),d.jsx("p",{className:"text-sm font-medium",children:e.email})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{children:"Telfono"}),d.jsx("p",{className:"text-sm font-medium",children:e.phone||"No especificado"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{children:"Semestre"}),d.jsx("p",{className:"text-sm font-medium",children:e.semester})]})]})})]}),d.jsxs(Ne,{children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center gap-2",children:[d.jsx(Gs,{className:"h-5 w-5"}),"Informacin Acadmica"]}),d.jsx(vt,{children:"Tu progreso y estado acadmico"})]}),d.jsxs(ke,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{children:"GPA Actual"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-2xl font-bold text-primary",children:e.gpa}),d.jsx(ve,{variant:"outline",children:"de 10.0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{children:"Crditos Cursando"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-2xl font-bold text-accent",children:e.credits}),d.jsxs(ve,{variant:"secondary",children:["de ",e.maxCredits]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{children:"Materias Inscritas"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-2xl font-bold text-success",children:e.subjects.length}),d.jsx(ve,{variant:"outline",children:"materias"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{children:"Profesores Asignados"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-2xl font-bold text-warning",children:e.professors.length}),d.jsx(ve,{variant:"outline",children:"profesores"})]})]})]})]})]}),d.jsxs(Ne,{children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center gap-2",children:[d.jsx(Ot,{className:"h-5 w-5"}),"Materias Inscritas"]}),d.jsx(vt,{children:"Lista de materias que ests cursando actualmente"})]}),d.jsx(ke,{children:e.subjects.length>0?d.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:e.subjects.map((p,g)=>d.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[d.jsxs("div",{className:"font-medium",children:["Materia ",g+1]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",p]})]},p))}):d.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[d.jsx(Ot,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),d.jsx("p",{children:"No tienes materias inscritas"}),d.jsx("p",{className:"text-sm",children:"Contacta a tu asesor acadmico"})]})})]}),d.jsxs(Ne,{children:[d.jsxs(De,{children:[d.jsx(Me,{children:"Acciones"}),d.jsx(vt,{children:"Gestiona tu perfil y cuenta"})]}),d.jsx(ke,{children:d.jsx("div",{className:"flex gap-3",children:s?d.jsxs(d.Fragment,{children:[d.jsx(Fe,{onClick:f,disabled:r,children:r?"Guardando...":"Guardar Cambios"}),d.jsx(Fe,{variant:"outline",onClick:u,children:"Cancelar"})]}):d.jsx(Fe,{onClick:l,children:"Editar Perfil"})})})]})]})},B7=$o("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jc=y.forwardRef(({className:t,variant:e,...r},n)=>d.jsx("div",{ref:n,role:"alert",className:X(B7({variant:e}),t),...r}));jc.displayName="Alert";const H7=y.forwardRef(({className:t,...e},r)=>d.jsx("h5",{ref:r,className:X("mb-1 font-medium leading-none tracking-tight",t),...e}));H7.displayName="AlertTitle";const Oc=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:X("text-sm [&_p]:leading-relaxed",t),...e}));Oc.displayName="AlertDescription";const W7=()=>{const{toast:t}=Hu(),[e,r]=y.useState(!1),[n,s]=y.useState(!1),[i,o]=y.useState(""),[a,l]=y.useState(""),u=[{name:"Dr. Carlos Rodrguez",email:"rodriguez@universidad.edu",maxSubjects:3,isActive:!0},{name:"Dra. Mara Lpez",email:"lopez@universidad.edu",maxSubjects:3,isActive:!0},{name:"Prof. Juan Garca",email:"garcia@universidad.edu",maxSubjects:2,isActive:!0},{name:"Dr. Ana Martnez",email:"martinez@universidad.edu",maxSubjects:3,isActive:!0},{name:"Dra. Patricia Herrera",email:"herrera@universidad.edu",maxSubjects:2,isActive:!0},{name:"Prof. Roberto Morales",email:"morales@universidad.edu",maxSubjects:2,isActive:!0},{name:"Dr. Laura Fernndez",email:"fernandez@universidad.edu",maxSubjects:2,isActive:!0},{name:"Prof. Carlos Castillo",email:"castillo@universidad.edu",maxSubjects:2,isActive:!0},{name:"Dra. Sofia Silva",email:"silva@universidad.edu",maxSubjects:2,isActive:!0},{name:"Prof. Diego Vega",email:"vega@universidad.edu",maxSubjects:2,isActive:!0}],f=[{name:"Ana Garca",email:"ana.garcia@estudiante.edu",semester:3},{name:"Carlos Lpez",email:"carlos.lopez@estudiante.edu",semester:2},{name:"Mara Rodrguez",email:"maria.rodriguez@estudiante.edu",semester:4},{name:"Juan Prez",email:"juan.perez@estudiante.edu",semester:1},{name:"Laura Torres",email:"laura.torres@estudiante.edu",semester:3},{name:"Roberto Silva",email:"roberto.silva@estudiante.edu",semester:2},{name:"Patricia Morales",email:"patricia.morales@estudiante.edu",semester:4},{name:"Diego Herrera",email:"diego.herrera@estudiante.edu",semester:1}],h=[{name:"Clculo I",credits:3,schedule:"Lun-Mi-Vie 8:00-10:00",capacity:30,enrolled:0,description:"Introduccin al clculo diferencial e integral",prerequisites:[],isActive:!0,professorIndex:0},{name:"Fsica General",credits:3,schedule:"Mar-Jue 10:00-12:00",capacity:25,enrolled:0,description:"Conceptos fundamentales de mecnica y termodinmica",prerequisites:[],isActive:!0,professorIndex:1},{name:"Qumica Orgnica",credits:3,schedule:"Lun-Mi 14:00-17:00",capacity:20,enrolled:0,description:"Estudio de compuestos orgnicos y sus reacciones",prerequisites:[],isActive:!0,professorIndex:2},{name:"Programacin I",credits:3,schedule:"Mar-Jue 8:00-10:00",capacity:35,enrolled:0,description:"Fundamentos de programacin con Python",prerequisites:[],isActive:!0,professorIndex:3},{name:"Estadstica",credits:3,schedule:"Vie 9:00-12:00",capacity:40,enrolled:0,description:"Conceptos bsicos de estadstica descriptiva e inferencial",prerequisites:[],isActive:!0,professorIndex:4},{name:"Historia del Arte",credits:3,schedule:"Mi 16:00-18:00",capacity:50,enrolled:0,description:"Recorrido por los principales movimientos artsticos",prerequisites:[],isActive:!0,professorIndex:5},{name:"Microbiologa",credits:3,schedule:"Lun-Mar-Mi 10:00-12:00",capacity:15,enrolled:0,description:"Estudio de microorganismos y su impacto",prerequisites:[],isActive:!0,professorIndex:6},{name:"Psicologa Social",credits:3,schedule:"Jue-Vie 14:00-16:00",capacity:30,enrolled:0,description:"Anlisis del comportamiento humano en grupos",prerequisites:[],isActive:!0,professorIndex:7},{name:"Economa Internacional",credits:3,schedule:"Mar-Mi-Jue 16:00-17:30",capacity:25,enrolled:0,description:"Principios de comercio y finanzas internacionales",prerequisites:[],isActive:!0,professorIndex:8},{name:"Diseo Grfico",credits:3,schedule:"Lun-Vie 18:00-20:00",capacity:20,enrolled:0,description:"Fundamentos del diseo visual y comunicacin",prerequisites:[],isActive:!0,professorIndex:9}],p=async()=>{r(!0),o("Iniciando limpieza de base de datos...");try{o("Limpiando materias...");const x=await xi.getAllSubjects();for(const _ of x)await xi.deleteSubject(_.id);o("Limpiando profesores...");const v=await uc.getAllProfessors();for(const _ of v)await uc.deleteProfessor(_.id);o("Limpiando estudiantes...");const b=await kt.getAllStudents();for(const _ of b)await kt.deleteStudent(_.id);o("Base de datos limpiada completamente!"),t({title:"xito",description:"Toda la base de datos ha sido limpiada",variant:"default"})}catch(x){o(`Error: ${x instanceof Error?x.message:"Error desconocido"}`),t({title:"Error",description:"Error al limpiar la base de datos",variant:"destructive"})}finally{r(!1)}},g=async()=>{s(!0),l("Iniciando creacin de datos de prueba...");try{l("Creando profesores...");const x=[];for(const _ of u){const w=await uc.createProfessor({name:_.name,email:_.email,subjects:[],maxSubjects:_.maxSubjects,isActive:_.isActive});x.push(w.id),console.log(` Profesor creado: ${w.name} (ID: ${w.id})`)}l("Creando materias y asociando profesores...");const v=[];for(const _ of h){const w=x[_.professorIndex];if(!w)throw new Error(`Profesor no encontrado para ndice ${_.professorIndex}`);const S=await xi.createSubject({name:_.name,credits:_.credits,professor:w,schedule:_.schedule,capacity:_.capacity,enrolled:_.enrolled,description:_.description,prerequisites:_.prerequisites,isActive:_.isActive});v.push(S.id),console.log(` Materia creada: ${S.name} - Profesor: ${w}`)}l("Actualizando profesores con materias asignadas...");for(let _=0;_<x.length;_++){const w=x[_],S=v.filter((I,N)=>h[N].professorIndex===_);await uc.updateProfessor(w,{subjects:S}),console.log(` Profesor ${u[_].name} actualizado con ${S.length} materias`)}l("Creando estudiantes...");const b=[];for(const _ of f){const w=await kt.createStudent({name:_.name,email:_.email,phone:"",semester:_.semester});b.push(w.id),console.log(` Estudiante creado: ${w.name} (ID: ${w.id})`)}l("Asignando materias a estudiantes..."),await kt.selectSubject(b[0],v[0]),await kt.selectSubject(b[0],v[1]),await kt.selectSubject(b[1],v[2]),await kt.selectSubject(b[2],v[3]),await kt.selectSubject(b[2],v[4]),await kt.selectSubject(b[2],v[5]),l("Base de datos poblada completamente!"),t({title:"xito!",description:`Base de datos poblada con ${u.length} profesores, ${h.length} materias y ${f.length} estudiantes`,variant:"default"})}catch(x){l(`Error: ${x instanceof Error?x.message:"Error desconocido"}`),t({title:"Error",description:"Error al crear datos de prueba",variant:"destructive"})}finally{s(!1)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:" Poblar Base de Datos"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Crea datos de prueba completos para el sistema acadmico"})]}),d.jsxs(Ne,{className:"border-blue-200 bg-blue-50",children:[d.jsx(De,{children:d.jsxs(Me,{className:"flex items-center space-x-2 text-blue-700",children:[d.jsx(Ot,{className:"h-5 w-5"}),d.jsx("span",{children:"Datos que se crearn"})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"text-center p-3 bg-blue-100 rounded-lg",children:[d.jsx(Si,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),d.jsx("div",{className:"font-bold text-blue-700",children:u.length}),d.jsx("div",{className:"text-sm text-blue-600",children:"Profesores"})]}),d.jsxs("div",{className:"text-center p-3 bg-blue-100 rounded-lg",children:[d.jsx(Ot,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),d.jsx("div",{className:"font-bold text-blue-700",children:h.length}),d.jsx("div",{className:"text-sm text-blue-600",children:"Materias"})]}),d.jsxs("div",{className:"text-center p-3 bg-blue-100 rounded-lg",children:[d.jsx(Gs,{className:"h-8 w-8 mx-auto mb-2 text-blue-600"}),d.jsx("div",{className:"font-bold text-blue-700",children:f.length}),d.jsx("div",{className:"text-sm text-blue-600",children:"Estudiantes"})]})]})})]}),d.jsxs(Ne,{className:"border-green-200 bg-green-50",children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center space-x-2 text-green-700",children:[d.jsx(bc,{className:"h-5 w-5"}),d.jsx("span",{children:"Crear Datos de Prueba"})]}),d.jsx(vt,{children:"Crea profesores, materias y estudiantes con asociaciones correctas"})]}),d.jsxs(ke,{children:[d.jsx(Fe,{onClick:g,disabled:n,className:"w-full bg-green-600 hover:bg-green-700",size:"lg",children:n?d.jsxs(d.Fragment,{children:[d.jsx(Aa,{className:"h-4 w-4 animate-spin mr-2"}),"Creando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(bc,{className:"h-4 w-4 mr-2"})," CREAR TODOS LOS DATOS DE PRUEBA"]})}),a&&d.jsx("div",{className:"mt-4 p-3 rounded-lg bg-green-100",children:d.jsx("p",{className:"text-sm font-medium text-green-700",children:a})})]})]}),d.jsxs(Ne,{className:"border-destructive/20",children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center space-x-2 text-destructive",children:[d.jsx(jE,{className:"h-5 w-5"}),d.jsx("span",{children:"Limpiar Base de Datos"})]}),d.jsx(vt,{children:" ADVERTENCIA: Esta accin eliminar TODOS los datos de Firestore"})]}),d.jsxs(ke,{children:[d.jsxs(jc,{variant:"destructive",className:"mb-4",children:[d.jsx(Py,{className:"h-4 w-4"}),d.jsxs(Oc,{children:[d.jsx("strong",{children:"CUIDADO!"})," Esta operacin eliminar permanentemente:",d.jsxs("ul",{className:"list-disc list-inside mt-2",children:[d.jsx("li",{children:"Todas las materias"}),d.jsx("li",{children:"Todos los profesores"}),d.jsx("li",{children:"Todos los estudiantes"}),d.jsx("li",{children:"Todas las relaciones entre entidades"})]})]})]}),d.jsx(Fe,{variant:"destructive",size:"lg",onClick:p,disabled:e,className:"w-full",children:e?d.jsxs(d.Fragment,{children:[d.jsx(Aa,{className:"h-4 w-4 animate-spin mr-2"}),"Limpiando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(jE,{className:"h-4 w-4 mr-2"})," LIMPIAR TODA LA BASE DE DATOS"]})}),i&&d.jsx("div",{className:"mt-4 p-3 rounded-lg bg-muted",children:d.jsxs("p",{className:"text-sm font-medium",children:["Estado: ",i]})})]})]}),d.jsxs(Ne,{className:"border-purple-200 bg-purple-50",children:[d.jsx(De,{children:d.jsxs(Me,{className:"flex items-center space-x-2 text-purple-700",children:[d.jsx(Ot,{className:"h-5 w-5"}),d.jsx("span",{children:"Proceso de Creacin"})]})}),d.jsx(ke,{children:d.jsxs("div",{className:"space-y-3 text-purple-700",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ve,{variant:"outline",className:"bg-purple-100",children:"1"}),d.jsxs("span",{children:["Crear ",d.jsx("strong",{children:"10 profesores"})," con emails nicos"]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ve,{variant:"outline",className:"bg-purple-100",children:"2"}),d.jsxs("span",{children:["Crear ",d.jsx("strong",{children:"10 materias"})," de 3 crditos cada una"]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ve,{variant:"outline",className:"bg-purple-100",children:"3"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Asociar materias a profesores"})," por ID"]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ve,{variant:"outline",className:"bg-purple-100",children:"4"}),d.jsxs("span",{children:["Crear ",d.jsx("strong",{children:"8 estudiantes"})," en diferentes semestres"]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ve,{variant:"outline",className:"bg-purple-100",children:"5"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Asignar materias a estudiantes"})," (simulacin de seleccin)"]})]})]})})]})]})};function iT(t,[e,r]){return Math.min(r,Math.max(e,t))}function px(t){const e=t+"CollectionProvider",[r,n]=Hn(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:_}=v,w=W.useRef(null),S=W.useRef(new Map).current;return d.jsx(s,{scope:b,itemMap:S,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=Ja(a),u=W.forwardRef((v,b)=>{const{scope:_,children:w}=v,S=i(a,_),I=qe(b,S.collectionRef);return d.jsx(l,{ref:I,children:w})});u.displayName=a;const f=t+"CollectionItemSlot",h="data-radix-collection-item",p=Ja(f),g=W.forwardRef((v,b)=>{const{scope:_,children:w,...S}=v,I=W.useRef(null),N=qe(b,I),D=i(f,_);return W.useEffect(()=>(D.itemMap.set(I,{ref:I,...S}),()=>void D.itemMap.delete(I))),d.jsx(p,{[h]:"",ref:N,children:w})});g.displayName=f;function x(v){const b=i(t+"CollectionConsumer",v);return W.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((D,C)=>S.indexOf(D.ref.current)-S.indexOf(C.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},x,n]}var q7=y.createContext(void 0);function mx(t){const e=y.useContext(q7);return t||e||"ltr"}function G7(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var K7=[" ","Enter","ArrowUp","ArrowDown"],Q7=[" ","Enter"],Mo="Select",[Bp,Hp,Y7]=px(Mo),[Nl,UG]=Hn(Mo,[Y7,op]),Wp=op(),[X7,Bi]=Nl(Mo),[J7,Z7]=Nl(Mo),rk=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:f,autoComplete:h,disabled:p,required:g,form:x}=t,v=Wp(e),[b,_]=y.useState(null),[w,S]=y.useState(null),[I,N]=y.useState(!1),D=mx(u),[C,T]=To({prop:n,defaultProp:s??!1,onChange:i,caller:Mo}),[P,A]=To({prop:o,defaultProp:a,onChange:l,caller:Mo}),k=y.useRef(null),O=b?x||!!b.closest("form"):!0,[j,B]=y.useState(new Set),J=Array.from(j).map(G=>G.props.value).join(";");return d.jsx(EA,{...v,children:d.jsxs(X7,{required:g,scope:e,trigger:b,onTriggerChange:_,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:I,onValueNodeHasChildrenChange:N,contentId:cs(),value:P,onValueChange:A,open:C,onOpenChange:T,dir:D,triggerPointerDownPosRef:k,disabled:p,children:[d.jsx(Bp.Provider,{scope:e,children:d.jsx(J7,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(G=>{B(re=>new Set(re).add(G))},[]),onNativeOptionRemove:y.useCallback(G=>{B(re=>{const V=new Set(re);return V.delete(G),V})},[]),children:r})}),O?d.jsxs(Ck,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:h,value:P,onChange:G=>A(G.target.value),disabled:p,form:x,children:[P===void 0?d.jsx("option",{value:""}):null,Array.from(j)]},J):null]})})};rk.displayName=Mo;var nk="SelectTrigger",sk=y.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,i=Wp(r),o=Bi(nk,r),a=o.disabled||n,l=qe(e,o.onTriggerChange),u=Hp(r),f=y.useRef("touch"),[h,p,g]=Ak(v=>{const b=u().filter(S=>!S.disabled),_=b.find(S=>S.value===o.value),w=Pk(b,v,_);w!==void 0&&o.onValueChange(w.value)}),x=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(bA,{asChild:!0,...i,children:d.jsx(de.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Ik(o.value)?"":void 0,...s,ref:l,onClick:ie(s.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:ie(s.onPointerDown,v=>{f.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:ie(s.onKeyDown,v=>{const b=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(b&&v.key===" ")&&K7.includes(v.key)&&(x(),v.preventDefault())})})})});sk.displayName=nk;var ik="SelectValue",ok=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...a}=t,l=Bi(ik,r),{onValueNodeHasChildrenChange:u}=l,f=i!==void 0,h=qe(e,l.onValueNodeChange);return Ct(()=>{u(f)},[u,f]),d.jsx(de.span,{...a,ref:h,style:{pointerEvents:"none"},children:Ik(l.value)?d.jsx(d.Fragment,{children:o}):i})});ok.displayName=ik;var eH="SelectIcon",ak=y.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return d.jsx(de.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});ak.displayName=eH;var tH="SelectPortal",lk=t=>d.jsx(Zh,{asChild:!0,...t});lk.displayName=tH;var Lo="SelectContent",ck=y.forwardRef((t,e)=>{const r=Bi(Lo,t.__scopeSelect),[n,s]=y.useState();if(Ct(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Uo.createPortal(d.jsx(uk,{scope:t.__scopeSelect,children:d.jsx(Bp.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(dk,{...t,ref:e})});ck.displayName=Lo;var nn=10,[uk,Hi]=Nl(Lo),rH="SelectContentImpl",nH=Ja("SelectContent.RemoveScroll"),dk=y.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:b,..._}=t,w=Bi(Lo,r),[S,I]=y.useState(null),[N,D]=y.useState(null),C=qe(e,K=>I(K)),[T,P]=y.useState(null),[A,k]=y.useState(null),O=Hp(r),[j,B]=y.useState(!1),J=y.useRef(!1);y.useEffect(()=>{if(S)return jI(S)},[S]),SI();const G=y.useCallback(K=>{const[Oe,...Ze]=O().map(Ee=>Ee.ref.current),[xe]=Ze.slice(-1),we=document.activeElement;for(const Ee of K)if(Ee===we||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===Oe&&N&&(N.scrollTop=0),Ee===xe&&N&&(N.scrollTop=N.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==we))return},[O,N]),re=y.useCallback(()=>G([T,S]),[G,T,S]);y.useEffect(()=>{j&&re()},[j,re]);const{onOpenChange:V,triggerPointerDownPosRef:U}=w;y.useEffect(()=>{if(S){let K={x:0,y:0};const Oe=xe=>{var we,Ee;K={x:Math.abs(Math.round(xe.pageX)-(((we=U.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Ee=U.current)==null?void 0:Ee.y)??0))}},Ze=xe=>{K.x<=10&&K.y<=10?xe.preventDefault():S.contains(xe.target)||V(!1),document.removeEventListener("pointermove",Oe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",Ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",Ze,{capture:!0})}}},[S,V,U]),y.useEffect(()=>{const K=()=>V(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[V]);const[Q,oe]=Ak(K=>{const Oe=O().filter(we=>!we.disabled),Ze=Oe.find(we=>we.ref.current===document.activeElement),xe=Pk(Oe,K,Ze);xe&&setTimeout(()=>xe.ref.current.focus())}),te=y.useCallback((K,Oe,Ze)=>{const xe=!J.current&&!Ze;(w.value!==void 0&&w.value===Oe||xe)&&(P(K),xe&&(J.current=!0))},[w.value]),ne=y.useCallback(()=>S==null?void 0:S.focus(),[S]),fe=y.useCallback((K,Oe,Ze)=>{const xe=!J.current&&!Ze;(w.value!==void 0&&w.value===Oe||xe)&&k(K)},[w.value]),je=n==="popper"?Iv:fk,Je=je===Iv?{side:a,sideOffset:l,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:b}:{};return d.jsx(uk,{scope:r,content:S,viewport:N,onViewportChange:D,itemRefCallback:te,selectedItem:T,onItemLeave:ne,itemTextRefCallback:fe,focusSelectedItem:re,selectedItemText:A,position:n,isPositioned:j,searchRef:Q,children:d.jsx(qw,{as:nH,allowPinchZoom:!0,children:d.jsx(Ww,{asChild:!0,trapped:w.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ie(s,K=>{var Oe;(Oe=w.trigger)==null||Oe.focus({preventScroll:!0}),K.preventDefault()}),children:d.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:d.jsx(je,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:K=>K.preventDefault(),..._,...Je,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ie(_.onKeyDown,K=>{const Oe=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!Oe&&K.key.length===1&&oe(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let xe=O().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(K.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const we=K.target,Ee=xe.indexOf(we);xe=xe.slice(Ee+1)}setTimeout(()=>G(xe)),K.preventDefault()}})})})})})})});dk.displayName=rH;var sH="SelectItemAlignedPosition",fk=y.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,i=Bi(Lo,r),o=Hi(Lo,r),[a,l]=y.useState(null),[u,f]=y.useState(null),h=qe(e,C=>f(C)),p=Hp(r),g=y.useRef(!1),x=y.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:_,focusSelectedItem:w}=o,S=y.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&v&&b&&_){const C=i.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),A=_.getBoundingClientRect();if(i.dir!=="rtl"){const we=A.left-T.left,Ee=P.left-we,_t=C.left-Ee,Gt=C.width+_t,Xr=Math.max(Gt,T.width),Jr=window.innerWidth-nn,qn=iT(Ee,[nn,Math.max(nn,Jr-Xr)]);a.style.minWidth=Gt+"px",a.style.left=qn+"px"}else{const we=T.right-A.right,Ee=window.innerWidth-P.right-we,_t=window.innerWidth-C.right-Ee,Gt=C.width+_t,Xr=Math.max(Gt,T.width),Jr=window.innerWidth-nn,qn=iT(Ee,[nn,Math.max(nn,Jr-Xr)]);a.style.minWidth=Gt+"px",a.style.right=qn+"px"}const k=p(),O=window.innerHeight-nn*2,j=v.scrollHeight,B=window.getComputedStyle(u),J=parseInt(B.borderTopWidth,10),G=parseInt(B.paddingTop,10),re=parseInt(B.borderBottomWidth,10),V=parseInt(B.paddingBottom,10),U=J+G+j+V+re,Q=Math.min(b.offsetHeight*5,U),oe=window.getComputedStyle(v),te=parseInt(oe.paddingTop,10),ne=parseInt(oe.paddingBottom,10),fe=C.top+C.height/2-nn,je=O-fe,Je=b.offsetHeight/2,K=b.offsetTop+Je,Oe=J+G+K,Ze=U-Oe;if(Oe<=fe){const we=k.length>0&&b===k[k.length-1].ref.current;a.style.bottom="0px";const Ee=u.clientHeight-v.offsetTop-v.offsetHeight,_t=Math.max(je,Je+(we?ne:0)+Ee+re),Gt=Oe+_t;a.style.height=Gt+"px"}else{const we=k.length>0&&b===k[0].ref.current;a.style.top="0px";const _t=Math.max(fe,J+v.offsetTop+(we?te:0)+Je)+Ze;a.style.height=_t+"px",v.scrollTop=Oe-fe+v.offsetTop}a.style.margin=`${nn}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[p,i.trigger,i.valueNode,a,u,v,b,_,i.dir,n]);Ct(()=>S(),[S]);const[I,N]=y.useState();Ct(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const D=y.useCallback(C=>{C&&x.current===!0&&(S(),w==null||w(),x.current=!1)},[S,w]);return d.jsx(oH,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:D,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:d.jsx(de.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});fk.displayName=sH;var iH="SelectPopperPosition",Iv=y.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=nn,...i}=t,o=Wp(r);return d.jsx(SA,{...o,...i,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Iv.displayName=iH;var[oH,gx]=Nl(Lo,{}),Av="SelectViewport",hk=y.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,i=Hi(Av,r),o=gx(Av,r),a=qe(e,i.onViewportChange),l=y.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(Bp.Slot,{scope:r,children:d.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const g=Math.abs(l.current-f.scrollTop);if(g>0){const x=window.innerHeight-nn*2,v=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),_=Math.max(v,b);if(_<x){const w=_+g,S=Math.min(x,w),I=w-S;h.style.height=S+"px",h.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});hk.displayName=Av;var pk="SelectGroup",[aH,lH]=Nl(pk),cH=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=cs();return d.jsx(aH,{scope:r,id:s,children:d.jsx(de.div,{role:"group","aria-labelledby":s,...n,ref:e})})});cH.displayName=pk;var mk="SelectLabel",gk=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=lH(mk,r);return d.jsx(de.div,{id:s.id,...n,ref:e})});gk.displayName=mk;var Dh="SelectItem",[uH,yk]=Nl(Dh),vk=y.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=t,a=Bi(Dh,r),l=Hi(Dh,r),u=a.value===n,[f,h]=y.useState(i??""),[p,g]=y.useState(!1),x=qe(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,n,s)}),v=cs(),b=y.useRef("touch"),_=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(uH,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:y.useCallback(w=>{h(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:d.jsx(Bp.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:d.jsx(de.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ie(o.onFocus,()=>g(!0)),onBlur:ie(o.onBlur,()=>g(!1)),onClick:ie(o.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:ie(o.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:ie(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:ie(o.onPointerMove,w=>{var S;b.current=w.pointerType,s?(S=l.onItemLeave)==null||S.call(l):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ie(o.onKeyDown,w=>{var I;((I=l.searchRef)==null?void 0:I.current)!==""&&w.key===" "||(Q7.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});vk.displayName=Dh;var fc="SelectItemText",wk=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...i}=t,o=Bi(fc,r),a=Hi(fc,r),l=yk(fc,r),u=Z7(fc,r),[f,h]=y.useState(null),p=qe(e,_=>h(_),l.onItemTextChange,_=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,_,l.value,l.disabled)}),g=f==null?void 0:f.textContent,x=y.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=u;return Ct(()=>(v(x),()=>b(x)),[v,b,x]),d.jsxs(d.Fragment,{children:[d.jsx(de.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Uo.createPortal(i.children,o.valueNode):null]})});wk.displayName=fc;var _k="SelectItemIndicator",xk=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return yk(_k,r).isSelected?d.jsx(de.span,{"aria-hidden":!0,...n,ref:e}):null});xk.displayName=_k;var Pv="SelectScrollUpButton",Ek=y.forwardRef((t,e)=>{const r=Hi(Pv,t.__scopeSelect),n=gx(Pv,t.__scopeSelect),[s,i]=y.useState(!1),o=qe(e,n.onScrollButtonChange);return Ct(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx(Sk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Ek.displayName=Pv;var Rv="SelectScrollDownButton",bk=y.forwardRef((t,e)=>{const r=Hi(Rv,t.__scopeSelect),n=gx(Rv,t.__scopeSelect),[s,i]=y.useState(!1),o=qe(e,n.onScrollButtonChange);return Ct(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<u;i(f)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx(Sk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});bk.displayName=Rv;var Sk=y.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,i=Hi("SelectScrollButton",r),o=y.useRef(null),a=Hp(r),l=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>l(),[l]),Ct(()=>{var f;const u=a().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),d.jsx(de.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ie(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{l()})})}),dH="SelectSeparator",Tk=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return d.jsx(de.div,{"aria-hidden":!0,...n,ref:e})});Tk.displayName=dH;var Nv="SelectArrow",fH=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Wp(r),i=Bi(Nv,r),o=Hi(Nv,r);return i.open&&o.position==="popper"?d.jsx(TA,{...s,...n,ref:e}):null});fH.displayName=Nv;var hH="SelectBubbleInput",Ck=y.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=y.useRef(null),i=qe(n,s),o=G7(e);return y.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&f){const h=new Event("change",{bubbles:!0});f.call(a,e),a.dispatchEvent(h)}},[o,e]),d.jsx(de.select,{...r,style:{...CA,...r.style},ref:i,defaultValue:e})});Ck.displayName=hH;function Ik(t){return t===""||t===void 0}function Ak(t){const e=Or(t),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(o=>{const a=r.current+o;e(a),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Pk(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=pH(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function pH(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var mH=rk,Rk=sk,gH=ok,yH=ak,vH=lk,Nk=ck,wH=hk,kk=gk,jk=vk,_H=wk,xH=xk,Ok=Ek,Dk=bk,Mk=Tk;const oT=mH,aT=gH,kv=y.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(Rk,{ref:n,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,d.jsx(yH,{asChild:!0,children:d.jsx(mI,{className:"h-4 w-4 opacity-50"})})]}));kv.displayName=Rk.displayName;const Lk=y.forwardRef(({className:t,...e},r)=>d.jsx(Ok,{ref:r,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(KM,{className:"h-4 w-4"})}));Lk.displayName=Ok.displayName;const Vk=y.forwardRef(({className:t,...e},r)=>d.jsx(Dk,{ref:r,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(mI,{className:"h-4 w-4"})}));Vk.displayName=Dk.displayName;const jv=y.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>d.jsx(vH,{children:d.jsxs(Nk,{ref:s,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[d.jsx(Lk,{}),d.jsx(wH,{className:X("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(Vk,{})]})}));jv.displayName=Nk.displayName;const EH=y.forwardRef(({className:t,...e},r)=>d.jsx(kk,{ref:r,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));EH.displayName=kk.displayName;const hc=y.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(jk,{ref:n,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(xH,{children:d.jsx(GM,{className:"h-4 w-4"})})}),d.jsx(_H,{children:e})]}));hc.displayName=jk.displayName;const bH=y.forwardRef(({className:t,...e},r)=>d.jsx(Mk,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",t),...e}));bH.displayName=Mk.displayName;const Fk=y.forwardRef(({className:t,...e},r)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:r,className:X("w-full caption-bottom text-sm",t),...e})}));Fk.displayName="Table";const Uk=y.forwardRef(({className:t,...e},r)=>d.jsx("thead",{ref:r,className:X("[&_tr]:border-b",t),...e}));Uk.displayName="TableHeader";const $k=y.forwardRef(({className:t,...e},r)=>d.jsx("tbody",{ref:r,className:X("[&_tr:last-child]:border-0",t),...e}));$k.displayName="TableBody";const SH=y.forwardRef(({className:t,...e},r)=>d.jsx("tfoot",{ref:r,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));SH.displayName="TableFooter";const Ov=y.forwardRef(({className:t,...e},r)=>d.jsx("tr",{ref:r,className:X("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ov.displayName="TableRow";const no=y.forwardRef(({className:t,...e},r)=>d.jsx("th",{ref:r,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));no.displayName="TableHead";const so=y.forwardRef(({className:t,...e},r)=>d.jsx("td",{ref:r,className:X("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));so.displayName="TableCell";const TH=y.forwardRef(({className:t,...e},r)=>d.jsx("caption",{ref:r,className:X("mt-4 text-sm text-muted-foreground",t),...e}));TH.displayName="TableCaption";const CH=()=>{const t=Li(),[e,r]=y.useState(""),[n,s]=y.useState("all"),[i,o]=y.useState("all"),{students:a,isLoading:l}=rt(N=>N.students),{subjects:u,isLoading:f}=rt(N=>N.subjects),{professors:h,isLoading:p}=rt(N=>N.professors);y.useEffect(()=>{a.length===0&&t(ps()),u.length===0&&t(ms()),h.length===0&&t(wo())},[t,a.length,u.length,h.length]);const g=N=>{const D=u.find(C=>C.id===N);return D?D.name:N},x=N=>{const D=h.find(C=>C.id===N);return D?D.name:N},v=a.map(N=>({...N,subjectNames:(N.subjects||[]).map(g),professorNames:(N.professors||[]).map(x)})),b=Array.from(new Set(u.map(N=>N.name))).sort(),_=Array.from(new Set(h.map(N=>N.name))).sort(),w=v.filter(N=>{const D=N.name.toLowerCase().includes(e.toLowerCase())||N.email.toLowerCase().includes(e.toLowerCase()),C=n==="all"||N.subjectNames.includes(n),T=i==="all"||N.professorNames.includes(i);return D&&C&&T}),S=N=>N>=9?"default":N>=8?"secondary":"destructive";return l||f||p?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Aa,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"Cargando datos de estudiantes..."})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Lista de Estudiantes"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Encuentra a tus compaeros de clase y profesores"})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Me,{className:"text-sm font-medium",children:"Total Estudiantes"}),d.jsx(Si,{className:"h-4 w-4 text-primary"})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"text-2xl font-bold text-primary",children:a.length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"registrados en el sistema"})]})]}),d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Me,{className:"text-sm font-medium",children:"Materias Disponibles"}),d.jsx(Ot,{className:"h-4 w-4 text-accent"})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"text-2xl font-bold text-accent",children:b.length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"diferentes opciones"})]})]}),d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Me,{className:"text-sm font-medium",children:"Resultados"}),d.jsx(QM,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"text-2xl font-bold",children:w.length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"estudiantes encontrados"})]})]})]}),d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center space-x-2",children:[d.jsx(kE,{className:"h-5 w-5 text-primary"}),d.jsx("span",{children:"Filtros de Bsqueda"})]}),d.jsx(vt,{children:"Busca estudiantes por nombre, materia o profesor"})]}),d.jsxs(ke,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Buscar por nombre"}),d.jsxs("div",{className:"relative",children:[d.jsx(kE,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{placeholder:"Nombre del estudiante...",value:e,onChange:N=>r(N.target.value),className:"pl-10"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Filtrar por materia"}),d.jsxs(oT,{value:n,onValueChange:s,children:[d.jsx(kv,{children:d.jsx(aT,{placeholder:"Selecciona una materia"})}),d.jsxs(jv,{children:[d.jsx(hc,{value:"all",children:"Todas las materias"}),b.map(N=>d.jsx(hc,{value:N,children:N},N))]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Filtrar por profesor"}),d.jsxs(oT,{value:i,onValueChange:o,children:[d.jsx(kv,{children:d.jsx(aT,{placeholder:"Selecciona un profesor"})}),d.jsxs(jv,{children:[d.jsx(hc,{value:"all",children:"Todos los profesores"}),_.map(N=>d.jsx(hc,{value:N,children:N},N))]})]})]})]}),(e||n!=="all"||i!=="all")&&d.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Filtros activos:"}),e&&d.jsxs(ve,{variant:"secondary",children:["Nombre: ",e]}),n!=="all"&&d.jsxs(ve,{variant:"secondary",children:["Materia: ",n]}),i!=="all"&&d.jsxs(ve,{variant:"secondary",children:["Profesor: ",i]})]}),d.jsx(Fe,{variant:"outline",size:"sm",onClick:()=>{r(""),s("all"),o("all")},children:"Limpiar filtros"})]})]})]}),d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{children:[d.jsx(Me,{children:"Estudiantes Encontrados"}),d.jsxs(vt,{children:[w.length," de ",a.length," estudiantes"]})]}),d.jsxs(ke,{children:[d.jsx("div",{className:"rounded-md border",children:d.jsxs(Fk,{children:[d.jsx(Uk,{children:d.jsxs(Ov,{children:[d.jsx(no,{children:"Estudiante"}),d.jsx(no,{children:"Contacto"}),d.jsx(no,{children:"Materias"}),d.jsx(no,{children:"Profesores"}),d.jsx(no,{children:"Semestre"}),d.jsx(no,{children:"Promedio"})]})}),d.jsx($k,{children:w.map(N=>d.jsxs(Ov,{className:"hover:bg-muted/50",children:[d.jsx(so,{children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-primary/10",children:d.jsx(Pa,{className:"h-5 w-5 text-primary"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:N.name}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",N.id.toString().padStart(4,"0")]})]})]})}),d.jsx(so,{children:d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[d.jsx(Ay,{className:"h-3 w-3 text-muted-foreground"}),d.jsx("span",{className:"text-xs",children:N.email})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[d.jsx(ZM,{className:"h-3 w-3 text-muted-foreground"}),d.jsx("span",{className:"text-xs",children:N.phone})]})]})}),d.jsx(so,{children:d.jsx("div",{className:"flex flex-wrap gap-1",children:N.subjectNames.map((D,C)=>d.jsx(ve,{variant:"outline",className:"text-xs",children:D},C))})}),d.jsx(so,{children:d.jsx("div",{className:"flex flex-wrap gap-1",children:N.professorNames.map((D,C)=>d.jsx(ve,{variant:"secondary",className:"text-xs",children:D},C))})}),d.jsx(so,{children:d.jsxs(ve,{variant:"outline",children:[N.semester," Semestre"]})}),d.jsx(so,{children:d.jsx(ve,{variant:S(N.gpa),children:N.gpa.toFixed(1)})})]},N.id))})]})}),w.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Si,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No se encontraron estudiantes"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Intenta ajustar los filtros de bsqueda"})]})]})]})]})},IH=()=>{const{user:t}=rt(u=>u.auth),{subjects:e}=rt(u=>u.subjects),{professors:r}=rt(u=>u.professors),[n,s]=y.useState(!1),i=t?e.filter(u=>t.subjects.includes(u.id)):[],o=t?r.filter(u=>t.professors.includes(u.id)):[],a=i.reduce((u,f)=>u+f.credits,0),l=t?a/t.maxCredits*100:0;return t?d.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Mis Materias"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu carga acadmica y progreso"})]}),d.jsxs(Ne,{className:"shadow-card border-primary/20",children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center gap-2",children:[d.jsx(Gs,{className:"h-5 w-5"}),"Resumen de Crditos"]}),d.jsx(vt,{children:"Tu progreso acadmico del semestre"})]}),d.jsxs(ke,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-primary",children:i.length}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Materias Inscritas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-accent",children:a}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Crditos Cursando"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-success",children:t.maxCredits-a}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Crditos Disponibles"})]})]}),d.jsxs("div",{className:"mt-6",children:[d.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[d.jsx("span",{children:"Progreso del semestre"}),d.jsxs("span",{children:[Math.round(l),"%"]})]}),d.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:d.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(l,100)}%`}})}),d.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[a," de ",t.maxCredits," crditos completados"]})]})]})]}),d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center gap-2",children:[d.jsx(Ot,{className:"h-5 w-5"}),"Materias Inscritas"]}),d.jsx(vt,{children:"Lista detallada de todas tus materias del semestre"})]}),d.jsx(ke,{children:i.length>0?d.jsx("div",{className:"space-y-4",children:i.map(u=>{const f=r.find(h=>h.id===u.professor);return d.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:d.jsx("div",{className:"flex items-start justify-between",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h3",{className:"text-lg font-semibold",children:u.name}),d.jsxs(ve,{variant:"secondary",children:[u.credits," crditos"]}),u.isActive?d.jsx(ve,{variant:"default",children:"Activa"}):d.jsx(ve,{variant:"outline",children:"Inactiva"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(gI,{className:"h-4 w-4"}),d.jsx("span",{children:u.schedule||"Horario por definir"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Si,{className:"h-4 w-4"}),d.jsx("span",{children:(f==null?void 0:f.name)||"Profesor no asignado"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ot,{className:"h-4 w-4"}),d.jsx("span",{children:u.description||"Sin descripcin"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Gs,{className:"h-4 w-4"}),d.jsxs("span",{children:["Capacidad: ",u.enrolled||0,"/",u.capacity||30]})]})]}),u.prerequisites&&u.prerequisites.length>0&&d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Prerrequisitos:"}),d.jsx("div",{className:"flex flex-wrap gap-1",children:u.prerequisites.map(h=>{const p=e.find(g=>g.id===h);return d.jsx(ve,{variant:"outline",className:"text-xs",children:(p==null?void 0:p.name)||h},h)})})]})]})})},u.id)})}):d.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[d.jsx(Ot,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tienes materias inscritas"}),d.jsx("p",{className:"text-sm mb-4",children:'Ve a la seccin de "Materias" para seleccionar tus materias del semestre'}),d.jsxs(Fe,{variant:"outline",onClick:()=>window.location.href="/subjects",children:[d.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Ir a Materias"]})]})})]}),o.length>0&&d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{children:[d.jsxs(Me,{className:"flex items-center gap-2",children:[d.jsx(Gs,{className:"h-5 w-5"}),"Mis Profesores"]}),d.jsx(vt,{children:"Profesores asignados a tus materias"})]}),d.jsx(ke,{children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(u=>d.jsxs("div",{className:"border rounded-lg p-4 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:d.jsx(Gs,{className:"h-8 w-8 text-primary"})}),d.jsx("h4",{className:"font-medium",children:u.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:u.email}),d.jsx("div",{className:"mt-2",children:d.jsxs(ve,{variant:"outline",children:[u.subjects.length," materias"]})})]},u.id))})})]}),d.jsxs(Ne,{className:"shadow-card",children:[d.jsxs(De,{children:[d.jsx(Me,{children:"Acciones"}),d.jsx(vt,{children:"Gestiona tu carga acadmica"})]}),d.jsx(ke,{children:d.jsxs("div",{className:"flex flex-wrap gap-3",children:[d.jsxs(Fe,{variant:"default",onClick:()=>window.location.href="/subjects",className:"flex items-center gap-2",children:[d.jsx(Ot,{className:"h-4 w-4"}),"Seleccionar Materias"]}),d.jsxs(Fe,{variant:"outline",onClick:()=>window.location.href="/dashboard",className:"flex items-center gap-2",children:[d.jsx(Gs,{className:"h-4 w-4"}),"Volver al Dashboard"]})]})})]})]}):d.jsx("div",{className:"max-w-4xl mx-auto p-6",children:d.jsx(Ne,{children:d.jsx(ke,{className:"p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"Debes iniciar sesin para ver tus materias"})})})})},AH=()=>{const{toast:t}=Hu(),e=Li(),{subjects:r,isLoading:n}=rt(A=>A.subjects);console.log("subjectsFromStore :",r);const{professors:s}=rt(A=>A.professors);console.log("professorsFromStore  :",s);const{user:i}=rt(A=>A.auth);console.log("currentUser :",i);const[o,a]=y.useState([]),[l,u]=y.useState(!1),[f,h]=y.useState([]),[p,g]=y.useState([]),[x,v]=y.useState(null);y.useEffect(()=>{r&&r.length>0&&h(r),s&&s.length>0&&g(s)},[r,s]),y.useEffect(()=>{if(!(x!=null&&x.id))return;console.log("Suscribindose a cambios en tiempo real para el estudiante:",x.id);const A=kt.subscribeToStudent(x.id,O=>{O&&(console.log("Estudiante actualizado en tiempo real:",O),v(O),a(O.subjects||[]),e(P7(O)))}),k=xi.subscribeToSubjects(O=>{console.log("Materias actualizadas en tiempo real:",O),h(O),e(k7(O))});return()=>{A(),k(),console.log("Suscripciones en tiempo real canceladas")}},[x==null?void 0:x.id,e]),y.useEffect(()=>{(async()=>{if(i&&i.id)try{console.log("Cargando datos del estudiante:",i.id);const k=await kt.getStudentById(i.id);k?(console.log("Datos del estudiante cargados:",k),v(k),a(k.subjects||[])):(console.log("No se encontr el estudiante en Firebase, usando datos del store"),v(i),a(i.subjects||[]))}catch(k){console.error("Error al cargar datos del estudiante:",k),v(i),a(i.subjects||[])}})()},[i]);const b=A=>{const k=p.find(O=>O.id===A);return k?k.name:"Profesor no encontrado"},_=o.reduce((A,k)=>{const O=f.find(j=>j.id===k);return A+((O==null?void 0:O.credits)||0)},0),w=o.length<3,S=A=>o.some(k=>{const O=f.find(j=>j.id===k);return(O==null?void 0:O.professor)===A}),I=async A=>{if(l)return;const k=f.find(O=>O.id===A);if(k)if(o.includes(A))a(O=>O.filter(j=>j!==A)),t({title:"Materia removida",description:`${k.name} ha sido removida de tu seleccin.`});else{if(!w){t({title:"Lmite alcanzado",description:"Solo puedes seleccionar hasta 3 materias por semestre.",variant:"destructive"});return}if(S(k.professor)){t({title:"Profesor duplicado",description:`Ya tienes una materia con ${b(k.professor)}. No puedes tener el mismo profesor en dos materias.`,variant:"destructive"});return}if(_+k.credits>((x==null?void 0:x.maxCredits)||9)){t({title:"Lmite de crditos excedido",description:`No puedes exceder ${(x==null?void 0:x.maxCredits)||9} crditos por semestre.`,variant:"destructive"});return}a(O=>[...O,A]),t({title:"Materia aadida",description:`${k.name} ha sido aadida a tu seleccin.`})}},N=()=>{if(!x)return!1;const k=[...x.subjects||[]].sort(),O=[...o].sort();return JSON.stringify(k)!==JSON.stringify(O)},D=async()=>{if(x!=null&&x.id)try{u(!0),await e(ps()),await e(ms());const A=await kt.getStudentById(x.id);A&&(v(A),a(A.subjects||[])),t({title:"Datos actualizados",description:"Se han refrescado los datos correctamente.",variant:"default"})}catch(A){console.error("Error al refrescar datos del estudiante:",A),t({title:"Error",description:"No se pudieron refrescar los datos. Intenta de nuevo.",variant:"destructive"})}finally{u(!1)}},C=async()=>{if(!l){if(o.length===0){t({title:"Sin materias seleccionadas",description:"Debes seleccionar al menos una materia para guardar.",variant:"destructive"});return}if(_>((x==null?void 0:x.maxCredits)||9)){t({title:"Lmite de crditos excedido",description:`No puedes exceder ${(x==null?void 0:x.maxCredits)||9} crditos por semestre.`,variant:"destructive"});return}u(!0);try{if(!x||!i)throw new Error("No hay usuario autenticado");console.log("Guardando seleccin para estudiante:",x.id),console.log("Materias seleccionadas:",o),console.log("Crditos totales:",_);const A=await kt.getStudentById(x.id);if(!A)throw new Error("No se pudo obtener la informacin actual del estudiante");const k=A.subjects||[],O=o.filter(B=>!k.includes(B)),j=k.filter(B=>!o.includes(B));console.log("Materias a agregar:",O),console.log("Materias a remover:",j),await e(bf({id:x.id,updates:{subjects:o,credits:_,professors:o.map(B=>{const J=f.find(G=>G.id===B);return J?J.professor:""}).filter(Boolean)}})).unwrap(),console.log("Estudiante actualizado en Redux");for(const B of O){const J=f.find(G=>G.id===B);J&&(console.log(`Incrementando enrollment para materia: ${J.name}`),await e(Nc({id:B,updates:{enrolled:J.enrolled+1}})).unwrap())}for(const B of j){const J=f.find(G=>G.id===B);J&&(console.log(`Decrementando enrollment para materia: ${J.name}`),await e(Nc({id:B,updates:{enrolled:Math.max(0,J.enrolled-1)}})).unwrap())}await e(ps()),await e(ms()),await D(),t({title:"Seleccin guardada",description:`Se han guardado ${o.length} materias exitosamente.`,variant:"default"}),console.log("Seleccin guardada exitosamente")}catch(A){console.error("Error al guardar seleccin:",A);let k="No se pudo guardar tu seleccin. Intenta de nuevo.";A instanceof Error&&(A.message.includes("estudiante no encontrado")?k="No se pudo encontrar tu informacin de estudiante.":A.message.includes("materia no encontrada")?k="Una de las materias seleccionadas no est disponible.":A.message.includes("ya tienes el mximo")?k="Ya tienes el mximo de materias permitidas.":A.message.includes("excedes el lmite")?k="Excedes el lmite de crditos permitidos.":k=`Error: ${A.message}`),t({title:"Error al guardar",description:k,variant:"destructive"})}finally{u(!1)}}},T=(A,k)=>{const O=A/k*100;return O>=90?"destructive":O>=70?"secondary":"default"},P=(A,k)=>`${k-A} cupos disponibles`;return x?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Seleccin de Materias"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Elige hasta 3 materias para este semestre"})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs(Fe,{variant:"outline",onClick:D,disabled:l||n,size:"sm",children:[l||n?d.jsx(Aa,{className:"h-4 w-4 mr-2 animate-spin"}):d.jsx(eL,{className:"h-4 w-4 mr-2"}),"Refrescar"]}),d.jsx(Fe,{onClick:C,disabled:l||o.length===0||!N(),className:"min-w-[120px]",children:l?d.jsxs(d.Fragment,{children:[d.jsx(Aa,{className:"h-4 w-4 animate-spin mr-2"}),"Guardando..."]}):"Guardar Seleccin"})]})]}),d.jsxs(jc,{className:`border-primary/20 ${N()?"bg-yellow-50 border-yellow-300":"bg-primary/5"}`,children:[d.jsx(bc,{className:`h-4 w-4 ${N()?"text-yellow-600":""}`}),d.jsx(Oc,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{children:[d.jsxs("strong",{children:[o.length,"/3"]})," materias seleccionadas ",d.jsxs("strong",{children:[" ",_]}),"/",x.maxCredits," crditos totales",N()&&d.jsx("span",{className:"ml-2 text-yellow-700 font-medium",children:" Cambios sin guardar"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[o.length===3&&d.jsx(ve,{variant:"secondary",children:"Lmite alcanzado"}),_>=x.maxCredits&&d.jsx(ve,{variant:"destructive",children:"Lmite de crditos alcanzado"}),N()&&d.jsx(ve,{variant:"outline",className:"border-yellow-300 text-yellow-700",children:"Sin guardar"})]})]})})]}),o.length>0&&d.jsxs(Ne,{className:"shadow-card border-primary/20",children:[d.jsx(De,{children:d.jsxs(Me,{className:"flex items-center space-x-2",children:[d.jsx(bc,{className:"h-5 w-5 text-success"}),d.jsx("span",{children:"Materias Seleccionadas"})]})}),d.jsx(ke,{children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(A=>{const k=f.find(O=>O.id===A);return k?d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-success/10 border border-success/20",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-success",children:k.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.credits," crditos"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:b(k.professor)})]}),d.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>I(A),className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",children:d.jsx(Hw,{className:"h-4 w-4"})})]},A):null})})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.filter(A=>A.isActive).map(A=>{const k=o.includes(A.id),O=w||k,j=!k&&S(A.professor),B=T(A.enrolled,A.capacity),J=_+A.credits>x.maxCredits;return d.jsxs(Ne,{className:`shadow-card hover:shadow-card-hover transition-all duration-300 cursor-pointer ${k?"ring-2 ring-success bg-success/5":!O||j||J?"opacity-60":"hover:ring-1 hover:ring-primary/30"}`,onClick:()=>O&&!j&&!J&&I(A.id),children:[d.jsx(De,{className:"pb-3",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(Me,{className:"text-lg",children:A.name}),d.jsxs(vt,{className:"flex items-center space-x-2 mt-1",children:[d.jsx(Si,{className:"h-3 w-3"}),d.jsx("span",{children:b(A.professor)})]})]}),k&&d.jsx(bc,{className:"h-5 w-5 text-success"})]})}),d.jsxs(ke,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{variant:"secondary",children:[A.credits," crditos"]}),d.jsx(ve,{variant:B,children:P(A.enrolled,A.capacity)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[d.jsx(gI,{className:"h-3 w-3"}),d.jsx("span",{children:A.schedule})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:A.description}),A.prerequisites.length>0&&d.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.jsx("strong",{children:"Prerrequisitos:"})," ",A.prerequisites.join(", ")]})]}),j&&d.jsxs(jc,{variant:"destructive",className:"mt-3",children:[d.jsx(Py,{className:"h-4 w-4"}),d.jsx(Oc,{className:"text-xs",children:"Ya tienes una materia con este profesor"})]}),J&&!k&&d.jsxs(jc,{variant:"destructive",className:"mt-3",children:[d.jsx(Py,{className:"h-4 w-4"}),d.jsx(Oc,{className:"text-xs",children:"Excedera tu lmite de crditos"})]}),d.jsx(Fe,{variant:k?"destructive":"default",className:"w-full",disabled:!O||j||J,onClick:G=>{G.stopPropagation(),I(A.id)},children:k?"Remover":"Seleccionar"})]})]},A.id)})})]}):d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx(Aa,{className:"h-8 w-8 animate-spin"}),d.jsx("span",{className:"ml-2",children:"Cargando datos del estudiante..."})]})},PH=()=>{const t=Fi();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},RH=({isAuthenticated:t})=>t?d.jsxs(sP,{children:[d.jsx(Ur,{path:"/",element:d.jsx(nT,{})}),d.jsx(Ur,{path:"/dashboard",element:d.jsx(nT,{})}),d.jsx(Ur,{path:"/subjects",element:d.jsx(AH,{})}),d.jsx(Ur,{path:"/students",element:d.jsx(CH,{})}),d.jsx(Ur,{path:"/my-subjects",element:d.jsx(IH,{})}),d.jsx(Ur,{path:"/admin",element:d.jsx(O7,{})}),d.jsx(Ur,{path:"/my-profile",element:d.jsx(z7,{})}),d.jsx(Ur,{path:"/seed-data",element:d.jsx(W7,{})}),d.jsx(Ur,{path:"*",element:d.jsx(PH,{})})]}):d.jsx(Wy,{to:"/login",replace:!0});var kg="rovingFocusGroup.onEntryFocus",NH={bubbles:!1,cancelable:!0},Wu="RovingFocusGroup",[Dv,zk,kH]=px(Wu),[jH,Bk]=Hn(Wu,[kH]),[OH,DH]=jH(Wu),Hk=y.forwardRef((t,e)=>d.jsx(Dv.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Dv.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(MH,{...t,ref:e})})}));Hk.displayName=Wu;var MH=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,p=y.useRef(null),g=qe(e,p),x=mx(i),[v,b]=To({prop:o,defaultProp:a??null,onChange:l,caller:Wu}),[_,w]=y.useState(!1),S=Or(u),I=zk(r),N=y.useRef(!1),[D,C]=y.useState(0);return y.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(kg,S),()=>T.removeEventListener(kg,S)},[S]),d.jsx(OH,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(T=>b(T),[b]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>C(T=>T-1),[]),children:d.jsx(de.div,{tabIndex:_||D===0?-1:0,"data-orientation":n,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{N.current=!0}),onFocus:ie(t.onFocus,T=>{const P=!N.current;if(T.target===T.currentTarget&&P&&!_){const A=new CustomEvent(kg,NH);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const k=I().filter(G=>G.focusable),O=k.find(G=>G.active),j=k.find(G=>G.id===v),J=[O,j,...k].filter(Boolean).map(G=>G.ref.current);Gk(J,f)}}N.current=!1}),onBlur:ie(t.onBlur,()=>w(!1))})})}),Wk="RovingFocusGroupItem",qk=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=cs(),u=i||l,f=DH(Wk,r),h=f.currentTabStopId===u,p=zk(r),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=f;return y.useEffect(()=>{if(n)return g(),()=>x()},[n,g,x]),d.jsx(Dv.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:d.jsx(de.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:ie(t.onMouseDown,b=>{n?f.onItemFocus(u):b.preventDefault()}),onFocus:ie(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:ie(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){f.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=FH(b,f.orientation,f.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=p().filter(I=>I.focusable).map(I=>I.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const I=S.indexOf(b.currentTarget);S=f.loop?UH(S,I+1):S.slice(I+1)}setTimeout(()=>Gk(S))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});qk.displayName=Wk;var LH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function FH(t,e,r){const n=VH(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return LH[n]}function Gk(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function UH(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $H=Hk,zH=qk,qp="Tabs",[BH,$G]=Hn(qp,[Bk]),Kk=Bk(),[HH,yx]=BH(qp),Qk=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,f=mx(a),[h,p]=To({prop:n,onChange:s,defaultProp:i??"",caller:qp});return d.jsx(HH,{scope:r,baseId:cs(),value:h,onValueChange:p,orientation:o,dir:f,activationMode:l,children:d.jsx(de.div,{dir:f,"data-orientation":o,...u,ref:e})})});Qk.displayName=qp;var Yk="TabsList",Xk=y.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=yx(Yk,r),o=Kk(r);return d.jsx($H,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:d.jsx(de.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Xk.displayName=Yk;var Jk="TabsTrigger",Zk=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=yx(Jk,r),a=Kk(r),l=rj(o.baseId,n),u=nj(o.baseId,n),f=n===o.value;return d.jsx(zH,{asChild:!0,...a,focusable:!s,active:f,children:d.jsx(de.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ie(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:ie(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:ie(t.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(n)})})})});Zk.displayName=Jk;var ej="TabsContent",tj=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,a=yx(ej,r),l=rj(a.baseId,n),u=nj(a.baseId,n),f=n===a.value,h=y.useRef(f);return y.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(zo,{present:s||f,children:({present:p})=>d.jsx(de.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});tj.displayName=ej;function rj(t,e){return`${t}-trigger-${e}`}function nj(t,e){return`${t}-content-${e}`}var WH=Qk,sj=Xk,ij=Zk,oj=tj;const qH=WH,aj=y.forwardRef(({className:t,...e},r)=>d.jsx(sj,{ref:r,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));aj.displayName=sj.displayName;const Mv=y.forwardRef(({className:t,...e},r)=>d.jsx(ij,{ref:r,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Mv.displayName=ij.displayName;const Lv=y.forwardRef(({className:t,...e},r)=>d.jsx(oj,{ref:r,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Lv.displayName=oj.displayName;const GH=({onLogin:t,onRegister:e})=>{const{isLoading:r,error:n}=rt(_=>_.auth),[s,i]=y.useState(!1),[o,a]=y.useState(!1),{toast:l}=Hu(),[u,f]=y.useState({email:"",password:""}),[h,p]=y.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",semester:"1"}),x=(_=>{const w=_.length>=8,S=/[A-Z]/.test(_),I=/[a-z]/.test(_),N=/\d/.test(_);return{minLength:w,hasUpper:S,hasLower:I,hasNumber:N,isValid:w&&S&&I&&N}})(h.password),v=async _=>{_.preventDefault();try{await t(u),l({title:"Bienvenido!",description:"Has iniciado sesin correctamente."})}catch{l({title:"Error",description:"Error al iniciar sesin.",variant:"destructive"})}},b=async _=>{if(_.preventDefault(),!x.isValid){l({title:"Contrasea invlida",description:"La contrasea debe cumplir todos los requisitos.",variant:"destructive"});return}if(h.password!==h.confirmPassword){l({title:"Error",description:"Las contraseas no coinciden.",variant:"destructive"});return}try{await e({name:h.name,email:h.email,phone:h.phone,password:h.password,semester:parseInt(h.semester)}),l({title:"Registro exitoso!",description:"Tu cuenta ha sido creada correctamente."})}catch{l({title:"Error",description:"Error al registrar usuario.",variant:"destructive"})}};return d.jsxs(Ne,{className:"w-full max-w-md mx-auto mt-24",children:[d.jsxs(De,{className:"text-center",children:[d.jsx(Me,{className:"text-2xl font-bold",children:"Sistema Acadmico"}),d.jsx(vt,{children:"Inicia sesin o crea una nueva cuenta"})]}),d.jsx(ke,{children:d.jsxs(qH,{defaultValue:"login",className:"w-full",children:[d.jsxs(aj,{className:"grid w-full grid-cols-2",children:[d.jsx(Mv,{value:"login",children:"Iniciar Sesin"}),d.jsx(Mv,{value:"register",children:"Registrarse"})]}),d.jsxs(Lv,{value:"login",className:"space-y-4",children:[n&&d.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:d.jsx("p",{className:"text-sm text-destructive",children:n})}),d.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"login-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ay,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{id:"login-email",type:"email",placeholder:"tu@email.com",className:"pl-10",value:u.email,onChange:_=>f({...u,email:_.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"login-password",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(Bm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{id:"login-password",type:s?"text":"password",placeholder:"",className:"pl-10 pr-10",value:u.password,onChange:_=>f({...u,password:_.target.value}),required:!0}),d.jsx(Fe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>i(!s),children:s?d.jsx($m,{className:"h-4 w-4"}):d.jsx(zm,{className:"h-4 w-4"})})]})]}),d.jsx(Fe,{type:"submit",className:"w-full",disabled:r,children:r?"Iniciando...":"Iniciar Sesin"})]})]}),d.jsx(Lv,{value:"register",className:"space-y-4",children:d.jsxs("form",{onSubmit:b,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"register-name",children:"Nombre completo"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{id:"register-name",type:"text",placeholder:"Tu nombre completo",className:"pl-10",value:h.name,onChange:_=>p({...h,name:_.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"register-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ay,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{id:"register-email",type:"email",placeholder:"tu@email.com",className:"pl-10",value:h.email,onChange:_=>p({...h,email:_.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"register-phone",children:"Telfono (opcional)"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{id:"register-phone",type:"tel",placeholder:"+1 (555) 123-4567",className:"pl-10",value:h.phone,onChange:_=>p({...h,phone:_.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"register-semester",children:"Semestre"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{id:"register-semester",type:"number",min:"1",max:"10",placeholder:"1",className:"pl-10",value:h.semester,onChange:_=>p({...h,semester:_.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"register-password",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(Bm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{id:"register-password",type:s?"text":"password",placeholder:"",className:"pl-10 pr-10",value:h.password,onChange:_=>p({...h,password:_.target.value}),required:!0}),d.jsx(Fe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>i(!s),children:s?d.jsx($m,{className:"h-4 w-4"}):d.jsx(zm,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("div",{className:`h-2 flex-1 rounded ${x.minLength?"bg-green-500":"bg-gray-300"}`}),d.jsx("div",{className:`h-2 flex-1 rounded ${x.hasUpper?"bg-green-500":"bg-gray-300"}`}),d.jsx("div",{className:`h-2 flex-1 rounded ${x.hasLower?"bg-green-500":"bg-gray-300"}`}),d.jsx("div",{className:`h-2 flex-1 rounded ${x.hasNumber?"bg-green-500":"bg-gray-300"}`})]}),d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[d.jsx("div",{className:x.minLength?"text-green-600":"text-gray-500",children:" Mnimo 8 caracteres"}),d.jsx("div",{className:x.hasUpper?"text-green-600":"text-gray-500",children:" Al menos una mayscula"}),d.jsx("div",{className:x.hasLower?"text-green-600":"text-gray-500",children:" Al menos una minscula"}),d.jsx("div",{className:x.hasNumber?"text-green-600":"text-gray-500",children:" Al menos un nmero"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(mt,{htmlFor:"register-confirm-password",children:"Confirmar Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(Bm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),d.jsx(ar,{id:"register-confirm-password",type:o?"text":"password",placeholder:"",className:"pl-10 pr-10",value:h.confirmPassword,onChange:_=>p({...h,confirmPassword:_.target.value}),required:!0}),d.jsx(Fe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>a(!o),children:o?d.jsx($m,{className:"h-4 w-4"}):d.jsx(zm,{className:"h-4 w-4"})})]})]}),d.jsx(Fe,{type:"submit",className:"w-full",disabled:r,children:r?"Registrando...":"Registrarse"})]})})]})})]})},KH=({isAuthenticated:t})=>{const e=Li(),r=async s=>{try{await e(vf(s)).unwrap()}catch(i){console.error("Error en login:",i)}},n=async s=>{try{await e(wf({...s,phone:s.phone||""})).unwrap()}catch(i){console.error("Error en registro:",i)}};return t?d.jsx(Wy,{to:"/dashboard",replace:!0}):d.jsxs(sP,{children:[d.jsx(Ur,{path:"/login",element:d.jsx(GH,{onLogin:r,onRegister:n})}),d.jsx(Ur,{path:"*",element:d.jsx(Wy,{to:"/login",replace:!0})})]})},QH=()=>{const t=Li(),{isAuthenticated:e,user:r,isLoading:n}=rt(a=>a.auth),{isLoading:s}=rt(a=>a.students),{isLoading:i}=rt(a=>a.subjects),{isLoading:o}=rt(a=>a.professors);return y.useEffect(()=>{e&&r&&(t(ps()),t(ms()),t(wo()))},[e,r,t]),n||s||i||o?d.jsx(UD,{}):d.jsx(o6,{children:e?d.jsx(g7,{children:d.jsx(RH,{isAuthenticated:e})}):d.jsx(KH,{isAuthenticated:e})})};var lT=["light","dark"],YH="(prefers-color-scheme: dark)",XH=y.createContext(void 0),JH={setTheme:t=>{},themes:[]},ZH=()=>{var t;return(t=y.useContext(XH))!=null?t:JH};y.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?lT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,v=!1,b=!0)=>{let _=o?o[x]:x,w=v?x+"|| ''":`'${_}'`,S="";return s&&b&&!v&&lT.includes(x)&&(S+=`d.style.colorScheme = '${x}';`),r==="class"?v||_?S+=`c.add(${w})`:S+="null":_&&(S+=`d[s](n,${w})`),S},g=t?`!function(){${f}${p(t)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${YH}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var eW=t=>{switch(t){case"success":return nW;case"info":return iW;case"warning":return sW;case"error":return oW;default:return null}},tW=Array(12).fill(0),rW=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},tW.map((r,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),nW=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sW=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),iW=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oW=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aW=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lW=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Vv=1,cW=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Vv++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:r}),{...a,...t,id:s,dismissible:o,title:r}):a):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,i,o=n.then(async l=>{if(i=["resolve",l],W.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(dW(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:r,type:"error",message:u,description:f})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Vv++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yr=new cW,uW=(t,e)=>{let r=(e==null?void 0:e.id)||Vv++;return yr.addToast({title:t,...e,id:r}),r},dW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",fW=uW,hW=()=>yr.toasts,pW=()=>yr.getActiveToasts();Object.assign(fW,{success:yr.success,info:yr.info,warning:yr.warning,error:yr.error,custom:yr.custom,message:yr.message,promise:yr.promise,dismiss:yr.dismiss,loading:yr.loading},{getHistory:hW,getToasts:pW});function mW(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}mW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bd(t){return t.label!==void 0}var gW=3,yW="32px",vW="16px",cT=4e3,wW=356,_W=14,xW=20,EW=200;function rn(...t){return t.filter(Boolean).join(" ")}function bW(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var SW=t=>{var e,r,n,s,i,o,a,l,u,f,h;let{invert:p,toast:g,unstyled:x,interacting:v,setHeights:b,visibleToasts:_,heights:w,index:S,toasts:I,expanded:N,removeToast:D,defaultRichColors:C,closeButton:T,style:P,cancelButtonStyle:A,actionButtonStyle:k,className:O="",descriptionClassName:j="",duration:B,position:J,gap:G,loadingIcon:re,expandByDefault:V,classNames:U,icons:Q,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:te}=t,[ne,fe]=W.useState(null),[je,Je]=W.useState(null),[K,Oe]=W.useState(!1),[Ze,xe]=W.useState(!1),[we,Ee]=W.useState(!1),[_t,Gt]=W.useState(!1),[Xr,Jr]=W.useState(!1),[qn,Wi]=W.useState(0),[Gn,qo]=W.useState(0),Ns=W.useRef(g.duration||B||cT),Gu=W.useRef(null),Zr=W.useRef(null),kl=S===0,Ku=S+1<=_,Ve=g.type,ct=g.dismissible!==!1,Go=g.className||"",Qu=g.descriptionClassName||"",qi=W.useMemo(()=>w.findIndex(ue=>ue.toastId===g.id)||0,[w,g.id]),Xp=W.useMemo(()=>{var ue;return(ue=g.closeButton)!=null?ue:T},[g.closeButton,T]),ks=W.useMemo(()=>g.duration||B||cT,[g.duration,B]),Ko=W.useRef(0),Kn=W.useRef(0),Qo=W.useRef(0),js=W.useRef(null),[Jp,jl]=J.split("-"),Ol=W.useMemo(()=>w.reduce((ue,Ie,$e)=>$e>=qi?ue:ue+Ie.height,0),[w,qi]),Dl=lW(),Gi=g.invert||p,Ki=Ve==="loading";Kn.current=W.useMemo(()=>qi*G+Ol,[qi,Ol]),W.useEffect(()=>{Ns.current=ks},[ks]),W.useEffect(()=>{Oe(!0)},[]),W.useEffect(()=>{let ue=Zr.current;if(ue){let Ie=ue.getBoundingClientRect().height;return qo(Ie),b($e=>[{toastId:g.id,height:Ie,position:g.position},...$e]),()=>b($e=>$e.filter(Mt=>Mt.toastId!==g.id))}},[b,g.id]),W.useLayoutEffect(()=>{if(!K)return;let ue=Zr.current,Ie=ue.style.height;ue.style.height="auto";let $e=ue.getBoundingClientRect().height;ue.style.height=Ie,qo($e),b(Mt=>Mt.find(mr=>mr.toastId===g.id)?Mt.map(mr=>mr.toastId===g.id?{...mr,height:$e}:mr):[{toastId:g.id,height:$e,position:g.position},...Mt])},[K,g.title,g.description,b,g.id]);let Fr=W.useCallback(()=>{xe(!0),Wi(Kn.current),b(ue=>ue.filter(Ie=>Ie.toastId!==g.id)),setTimeout(()=>{D(g)},EW)},[g,D,b,Kn]);W.useEffect(()=>{if(g.promise&&Ve==="loading"||g.duration===1/0||g.type==="loading")return;let ue;return N||v||te&&Dl?(()=>{if(Qo.current<Ko.current){let Ie=new Date().getTime()-Ko.current;Ns.current=Ns.current-Ie}Qo.current=new Date().getTime()})():Ns.current!==1/0&&(Ko.current=new Date().getTime(),ue=setTimeout(()=>{var Ie;(Ie=g.onAutoClose)==null||Ie.call(g,g),Fr()},Ns.current)),()=>clearTimeout(ue)},[N,v,g,Ve,te,Dl,Fr]),W.useEffect(()=>{g.delete&&Fr()},[Fr,g.delete]);function Qn(){var ue,Ie,$e;return Q!=null&&Q.loading?W.createElement("div",{className:rn(U==null?void 0:U.loader,(ue=g==null?void 0:g.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Ve==="loading"},Q.loading):re?W.createElement("div",{className:rn(U==null?void 0:U.loader,(Ie=g==null?void 0:g.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":Ve==="loading"},re):W.createElement(rW,{className:rn(U==null?void 0:U.loader,($e=g==null?void 0:g.classNames)==null?void 0:$e.loader),visible:Ve==="loading"})}return W.createElement("li",{tabIndex:0,ref:Zr,className:rn(O,Go,U==null?void 0:U.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Ve],(r=g==null?void 0:g.classNames)==null?void 0:r[Ve]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:C,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":K,"data-promise":!!g.promise,"data-swiped":Xr,"data-removed":Ze,"data-visible":Ku,"data-y-position":Jp,"data-x-position":jl,"data-index":S,"data-front":kl,"data-swiping":we,"data-dismissible":ct,"data-type":Ve,"data-invert":Gi,"data-swipe-out":_t,"data-swipe-direction":je,"data-expanded":!!(N||V&&K),style:{"--index":S,"--toasts-before":S,"--z-index":I.length-S,"--offset":`${Ze?qn:Kn.current}px`,"--initial-height":V?"auto":`${Gn}px`,...P,...g.style},onDragEnd:()=>{Ee(!1),fe(null),js.current=null},onPointerDown:ue=>{Ki||!ct||(Gu.current=new Date,Wi(Kn.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(Ee(!0),js.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Ie,$e,Mt;if(_t||!ct)return;js.current=null;let mr=Number(((ue=Zr.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),et=Number(((Ie=Zr.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),En=new Date().getTime()-(($e=Gu.current)==null?void 0:$e.getTime()),Lt=ne==="x"?mr:et,gr=Math.abs(Lt)/En;if(Math.abs(Lt)>=xW||gr>.11){Wi(Kn.current),(Mt=g.onDismiss)==null||Mt.call(g,g),Je(ne==="x"?mr>0?"right":"left":et>0?"down":"up"),Fr(),Gt(!0),Jr(!1);return}Ee(!1),fe(null)},onPointerMove:ue=>{var Ie,$e,Mt,mr;if(!js.current||!ct||((Ie=window.getSelection())==null?void 0:Ie.toString().length)>0)return;let et=ue.clientY-js.current.y,En=ue.clientX-js.current.x,Lt=($e=t.swipeDirections)!=null?$e:bW(J);!ne&&(Math.abs(En)>1||Math.abs(et)>1)&&fe(Math.abs(En)>Math.abs(et)?"x":"y");let gr={x:0,y:0};ne==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&et<0||Lt.includes("bottom")&&et>0)&&(gr.y=et):ne==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&En<0||Lt.includes("right")&&En>0)&&(gr.x=En),(Math.abs(gr.x)>0||Math.abs(gr.y)>0)&&Jr(!0),(Mt=Zr.current)==null||Mt.style.setProperty("--swipe-amount-x",`${gr.x}px`),(mr=Zr.current)==null||mr.style.setProperty("--swipe-amount-y",`${gr.y}px`)}},Xp&&!g.jsx?W.createElement("button",{"aria-label":oe,"data-disabled":Ki,"data-close-button":!0,onClick:Ki||!ct?()=>{}:()=>{var ue;Fr(),(ue=g.onDismiss)==null||ue.call(g,g)},className:rn(U==null?void 0:U.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:aW):null,g.jsx||y.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:W.createElement(W.Fragment,null,Ve||g.icon||g.promise?W.createElement("div",{"data-icon":"",className:rn(U==null?void 0:U.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Qn():null,g.type!=="loading"?g.icon||(Q==null?void 0:Q[Ve])||eW(Ve):null):null,W.createElement("div",{"data-content":"",className:rn(U==null?void 0:U.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:rn(U==null?void 0:U.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:rn(j,Qu,U==null?void 0:U.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),y.isValidElement(g.cancel)?g.cancel:g.cancel&&Bd(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||A,onClick:ue=>{var Ie,$e;Bd(g.cancel)&&ct&&(($e=(Ie=g.cancel).onClick)==null||$e.call(Ie,ue),Fr())},className:rn(U==null?void 0:U.cancelButton,(f=g==null?void 0:g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,y.isValidElement(g.action)?g.action:g.action&&Bd(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||k,onClick:ue=>{var Ie,$e;Bd(g.action)&&(($e=(Ie=g.action).onClick)==null||$e.call(Ie,ue),!ue.defaultPrevented&&Fr())},className:rn(U==null?void 0:U.actionButton,(h=g==null?void 0:g.classNames)==null?void 0:h.actionButton)},g.action.label):null))};function uT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TW(t,e){let r={};return[t,e].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?vW:yW;function l(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=a:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(a)}),r}var CW=y.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:f="light",richColors:h,duration:p,style:g,visibleToasts:x=gW,toastOptions:v,dir:b=uT(),gap:_=_W,loadingIcon:w,icons:S,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:N}=t,[D,C]=W.useState([]),T=W.useMemo(()=>Array.from(new Set([n].concat(D.filter(te=>te.position).map(te=>te.position)))),[D,n]),[P,A]=W.useState([]),[k,O]=W.useState(!1),[j,B]=W.useState(!1),[J,G]=W.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=W.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),Q=W.useRef(!1),oe=W.useCallback(te=>{C(ne=>{var fe;return(fe=ne.find(je=>je.id===te.id))!=null&&fe.delete||yr.dismiss(te.id),ne.filter(({id:je})=>je!==te.id)})},[]);return W.useEffect(()=>yr.subscribe(te=>{if(te.dismiss){C(ne=>ne.map(fe=>fe.id===te.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{BC.flushSync(()=>{C(ne=>{let fe=ne.findIndex(je=>je.id===te.id);return fe!==-1?[...ne.slice(0,fe),{...ne[fe],...te},...ne.slice(fe+1)]:[te,...ne]})})})}),[]),W.useEffect(()=>{if(f!=="system"){G(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:ne})=>{G(ne?"dark":"light")})}catch{te.addListener(({matches:fe})=>{try{G(fe?"dark":"light")}catch(je){console.error(je)}})}},[f]),W.useEffect(()=>{D.length<=1&&O(!1)},[D]),W.useEffect(()=>{let te=ne=>{var fe,je;s.every(Je=>ne[Je]||ne.code===Je)&&(O(!0),(fe=re.current)==null||fe.focus()),ne.code==="Escape"&&(document.activeElement===re.current||(je=re.current)!=null&&je.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[s]),W.useEffect(()=>{if(re.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,Q.current=!1)}},[re.current]),W.createElement("section",{ref:e,"aria-label":`${I} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((te,ne)=>{var fe;let[je,Je]=te.split("-");return D.length?W.createElement("ol",{key:te,dir:b==="auto"?uT():b,tabIndex:-1,ref:re,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":je,"data-lifted":k&&D.length>1&&!i,"data-x-position":Je,style:{"--front-toast-height":`${((fe=P[0])==null?void 0:fe.height)||0}px`,"--width":`${wW}px`,"--gap":`${_}px`,...g,...TW(l,u)},onBlur:K=>{Q.current&&!K.currentTarget.contains(K.relatedTarget)&&(Q.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,U.current=K.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{j||O(!1)},onDragEnd:()=>O(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},D.filter(K=>!K.position&&ne===0||K.position===te).map((K,Oe)=>{var Ze,xe;return W.createElement(SW,{key:K.id,icons:S,index:Oe,toast:K,defaultRichColors:h,duration:(Ze=v==null?void 0:v.duration)!=null?Ze:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:x,closeButton:(xe=v==null?void 0:v.closeButton)!=null?xe:o,interacting:j,position:te,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:oe,toasts:D.filter(we=>we.position==K.position),heights:P.filter(we=>we.position==K.position),setHeights:A,expandByDefault:i,gap:_,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const IW=({...t})=>{const{theme:e="system"}=ZH();return d.jsx(CW,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var vx="ToastProvider",[wx,AW,PW]=px("Toast"),[lj,zG]=Hn("Toast",[PW]),[RW,Gp]=lj(vx),cj=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[u,f]=y.useState(0),h=y.useRef(!1),p=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${vx}\`. Expected non-empty \`string\`.`),d.jsx(wx.Provider,{scope:e,children:d.jsx(RW,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>f(g=>g+1),[]),onToastRemove:y.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};cj.displayName=vx;var uj="ToastViewport",NW=["F8"],Fv="toast.viewportPause",Uv="toast.viewportResume",dj=y.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=NW,label:s="Notifications ({hotkey})",...i}=t,o=Gp(uj,r),a=AW(r),l=y.useRef(null),u=y.useRef(null),f=y.useRef(null),h=y.useRef(null),p=qe(e,h,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;y.useEffect(()=>{const b=_=>{var S;n.length!==0&&n.every(I=>_[I]||_.code===I)&&((S=h.current)==null||S.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),y.useEffect(()=>{const b=l.current,_=h.current;if(x&&b&&_){const w=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(Fv);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(Uv);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},I=D=>{!b.contains(D.relatedTarget)&&S()},N=()=>{b.contains(document.activeElement)||S()};return b.addEventListener("focusin",w),b.addEventListener("focusout",I),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",I),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[x,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:b})=>{const w=a().map(S=>{const I=S.ref.current,N=[I,...HW(I)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return y.useEffect(()=>{const b=h.current;if(b){const _=w=>{var N,D,C;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const T=document.activeElement,P=w.shiftKey;if(w.target===b&&P){(N=u.current)==null||N.focus();return}const O=v({tabbingDirection:P?"backwards":"forwards"}),j=O.findIndex(B=>B===T);jg(O.slice(j+1))?w.preventDefault():P?(D=u.current)==null||D.focus():(C=f.current)==null||C.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[a,v]),d.jsxs(vL,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&d.jsx($v,{ref:u,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});jg(b)}}),d.jsx(wx.Slot,{scope:r,children:d.jsx(de.ol,{tabIndex:-1,...i,ref:p})}),x&&d.jsx($v,{ref:f,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});jg(b)}})]})});dj.displayName=uj;var fj="ToastFocusProxy",$v=y.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,i=Gp(fj,r);return d.jsx(ap,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});$v.displayName=fj;var qu="Toast",kW="toast.swipeStart",jW="toast.swipeMove",OW="toast.swipeCancel",DW="toast.swipeEnd",hj=y.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=To({prop:n,defaultProp:s??!0,onChange:i,caller:qu});return d.jsx(zo,{present:r||a,children:d.jsx(VW,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Or(t.onPause),onResume:Or(t.onResume),onSwipeStart:ie(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ie(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});hj.displayName=qu;var[MW,LW]=lj(qu,{onClose(){}}),VW=y.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:g,...x}=t,v=Gp(qu,r),[b,_]=y.useState(null),w=qe(e,B=>_(B)),S=y.useRef(null),I=y.useRef(null),N=s||v.duration,D=y.useRef(0),C=y.useRef(N),T=y.useRef(0),{onToastAdd:P,onToastRemove:A}=v,k=Or(()=>{var J;(b==null?void 0:b.contains(document.activeElement))&&((J=v.viewport)==null||J.focus()),o()}),O=y.useCallback(B=>{!B||B===1/0||(window.clearTimeout(T.current),D.current=new Date().getTime(),T.current=window.setTimeout(k,B))},[k]);y.useEffect(()=>{const B=v.viewport;if(B){const J=()=>{O(C.current),u==null||u()},G=()=>{const re=new Date().getTime()-D.current;C.current=C.current-re,window.clearTimeout(T.current),l==null||l()};return B.addEventListener(Fv,G),B.addEventListener(Uv,J),()=>{B.removeEventListener(Fv,G),B.removeEventListener(Uv,J)}}},[v.viewport,N,l,u,O]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(N)},[i,N,v.isClosePausedRef,O]),y.useEffect(()=>(P(),()=>A()),[P,A]);const j=y.useMemo(()=>b?_j(b):null,[b]);return v.viewport?d.jsxs(d.Fragment,{children:[j&&d.jsx(FW,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:j}),d.jsx(MW,{scope:r,onClose:k,children:Uo.createPortal(d.jsx(wx.ItemSlot,{scope:r,children:d.jsx(yL,{asChild:!0,onEscapeKeyDown:ie(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(de.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ie(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:ie(t.onPointerMove,B=>{if(!S.current)return;const J=B.clientX-S.current.x,G=B.clientY-S.current.y,re=!!I.current,V=["left","right"].includes(v.swipeDirection),U=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Q=V?U(0,J):0,oe=V?0:U(0,G),te=B.pointerType==="touch"?10:2,ne={x:Q,y:oe},fe={originalEvent:B,delta:ne};re?(I.current=ne,Hd(jW,h,fe,{discrete:!1})):dT(ne,v.swipeDirection,te)?(I.current=ne,Hd(kW,f,fe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(J)>te||Math.abs(G)>te)&&(S.current=null)}),onPointerUp:ie(t.onPointerUp,B=>{const J=I.current,G=B.target;if(G.hasPointerCapture(B.pointerId)&&G.releasePointerCapture(B.pointerId),I.current=null,S.current=null,J){const re=B.currentTarget,V={originalEvent:B,delta:J};dT(J,v.swipeDirection,v.swipeThreshold)?Hd(DW,g,V,{discrete:!0}):Hd(OW,p,V,{discrete:!0}),re.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),FW=t=>{const{__scopeToast:e,children:r,...n}=t,s=Gp(qu,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return zW(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(Zh,{asChild:!0,children:d.jsx(ap,{...n,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",r]})})})},UW="ToastTitle",pj=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(de.div,{...n,ref:e})});pj.displayName=UW;var $W="ToastDescription",mj=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(de.div,{...n,ref:e})});mj.displayName=$W;var gj="ToastAction",yj=y.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?d.jsx(wj,{altText:r,asChild:!0,children:d.jsx(_x,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gj}\`. Expected non-empty \`string\`.`),null)});yj.displayName=gj;var vj="ToastClose",_x=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=LW(vj,r);return d.jsx(wj,{asChild:!0,children:d.jsx(de.button,{type:"button",...n,ref:e,onClick:ie(t.onClick,s.onClose)})})});_x.displayName=vj;var wj=y.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return d.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function _j(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),BW(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(..._j(n))}}),e}function Hd(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?GC(s,i):s.dispatchEvent(i)}var dT=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r};function zW(t=()=>{}){const e=Or(t);Ct(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function BW(t){return t.nodeType===t.ELEMENT_NODE}function HW(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function jg(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var WW=cj,xj=dj,Ej=hj,bj=pj,Sj=mj,Tj=yj,Cj=_x;const qW=WW,Ij=y.forwardRef(({className:t,...e},r)=>d.jsx(xj,{ref:r,className:X("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Ij.displayName=xj.displayName;const GW=$o("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Aj=y.forwardRef(({className:t,variant:e,...r},n)=>d.jsx(Ej,{ref:n,className:X(GW({variant:e}),t),...r}));Aj.displayName=Ej.displayName;const KW=y.forwardRef(({className:t,...e},r)=>d.jsx(Tj,{ref:r,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));KW.displayName=Tj.displayName;const Pj=y.forwardRef(({className:t,...e},r)=>d.jsx(Cj,{ref:r,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Hw,{className:"h-4 w-4"})}));Pj.displayName=Cj.displayName;const Rj=y.forwardRef(({className:t,...e},r)=>d.jsx(bj,{ref:r,className:X("text-sm font-semibold",t),...e}));Rj.displayName=bj.displayName;const Nj=y.forwardRef(({className:t,...e},r)=>d.jsx(Sj,{ref:r,className:X("text-sm opacity-90",t),...e}));Nj.displayName=Sj.displayName;function QW(){const{toasts:t}=Hu();return d.jsxs(qW,{children:[t.map(function({id:e,title:r,description:n,action:s,...i}){return d.jsxs(Aj,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(Rj,{children:r}),n&&d.jsx(Nj,{children:n})]}),s,d.jsx(Pj,{})]},e)}),d.jsx(Ij,{})]})}function Af(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Af=function(r){return typeof r}:Af=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Af(t)}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function JW(t,e,r){return e&&XW(t.prototype,e),t}function ZW(t,e){return e&&(Af(e)==="object"||typeof e=="function")?e:Pf(t)}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(t)}function Pf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},Bv(t,e)}function Rf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kj=function(t){eq(e,t);function e(){var r,n;YW(this,e);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n=ZW(this,(r=zv(e)).call.apply(r,[this].concat(i))),Rf(Pf(n),"state",{bootstrapped:!1}),Rf(Pf(n),"_unsubscribe",void 0),Rf(Pf(n),"handlePersistorState",function(){var a=n.props.persistor,l=a.getState(),u=l.bootstrapped;u&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return JW(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(y.PureComponent);Rf(kj,"defaultProps",{children:null,loading:null});var xx="persist:",Ex="persist/FLUSH",Kp="persist/REHYDRATE",bx="persist/PAUSE",Sx="persist/PERSIST",Tx="persist/PURGE",Cx="persist/REGISTER",tq=-1;function Nf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nf=function(r){return typeof r}:Nf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nf(t)}function fT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function rq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fT(r,!0).forEach(function(n){nq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fT(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sq(t,e,r,n){n.debug;var s=rq({},r);return t&&Nf(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===r[i]&&(s[i]=t[i])}),s}function iq(t){var e=t.blacklist||null,r=t.whitelist||null,n=t.transforms||[],s=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:xx).concat(t.key),o=t.storage,a;t.serialize===!1?a=function(N){return N}:typeof t.serialize=="function"?a=t.serialize:a=oq;var l=t.writeFailHandler||null,u={},f={},h=[],p=null,g=null,x=function(N){Object.keys(N).forEach(function(D){_(D)&&u[D]!==N[D]&&h.indexOf(D)===-1&&h.push(D)}),Object.keys(u).forEach(function(D){N[D]===void 0&&_(D)&&h.indexOf(D)===-1&&u[D]!==void 0&&h.push(D)}),p===null&&(p=setInterval(v,s)),u=N};function v(){if(h.length===0){p&&clearInterval(p),p=null;return}var I=h.shift(),N=n.reduce(function(D,C){return C.in(D,I,u)},u[I]);if(N!==void 0)try{f[I]=a(N)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete f[I];h.length===0&&b()}function b(){Object.keys(f).forEach(function(I){u[I]===void 0&&delete f[I]}),g=o.setItem(i,a(f)).catch(w)}function _(I){return!(r&&r.indexOf(I)===-1&&I!=="_persist"||e&&e.indexOf(I)!==-1)}function w(I){l&&l(I)}var S=function(){for(;h.length!==0;)v();return g||Promise.resolve()};return{update:x,flush:S}}function oq(t){return JSON.stringify(t)}function aq(t){var e=t.transforms||[],r="".concat(t.keyPrefix!==void 0?t.keyPrefix:xx).concat(t.key),n=t.storage;t.debug;var s;return t.deserialize===!1?s=function(o){return o}:typeof t.deserialize=="function"?s=t.deserialize:s=lq,n.getItem(r).then(function(i){if(i)try{var o={},a=s(i);return Object.keys(a).forEach(function(l){o[l]=e.reduceRight(function(u,f){return f.out(u,l,a)},s(a[l]))}),o}catch(l){throw l}else return})}function lq(t){return JSON.parse(t)}function cq(t){var e=t.storage,r="".concat(t.keyPrefix!==void 0?t.keyPrefix:xx).concat(t.key);return e.removeItem(r,uq)}function uq(t){}function hT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hT(r,!0).forEach(function(n){dq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hT(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fq(t,e){if(t==null)return{};var r=hq(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hq(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var pq=5e3;function mq(t,e){var r=t.version!==void 0?t.version:tq;t.debug;var n=t.stateReconciler===void 0?sq:t.stateReconciler,s=t.getStoredState||aq,i=t.timeout!==void 0?t.timeout:pq,o=null,a=!1,l=!0,u=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(f,h){var p=f||{},g=p._persist,x=fq(p,["_persist"]),v=x;if(h.type===Sx){var b=!1,_=function(T,P){b||(h.rehydrate(t.key,T,P),b=!0)};if(i&&setTimeout(function(){!b&&_(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),l=!1,o||(o=iq(t)),g)return Zn({},e(v,h),{_persist:g});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),s(t).then(function(C){var T=t.migrate||function(P,A){return Promise.resolve(P)};T(C,r).then(function(P){_(P)},function(P){_(void 0,P)})},function(C){_(void 0,C)}),Zn({},e(v,h),{_persist:{version:r,rehydrated:!1}})}else{if(h.type===Tx)return a=!0,h.result(cq(t)),Zn({},e(v,h),{_persist:g});if(h.type===Ex)return h.result(o&&o.flush()),Zn({},e(v,h),{_persist:g});if(h.type===bx)l=!0;else if(h.type===Kp){if(a)return Zn({},v,{_persist:Zn({},g,{rehydrated:!0})});if(h.key===t.key){var w=e(v,h),S=h.payload,I=n!==!1&&S!==void 0?n(S,f,w,t):w,N=Zn({},I,{_persist:Zn({},g,{rehydrated:!0})});return u(N)}}}if(!g)return e(f,h);var D=e(v,h);return D===v?f:u(Zn({},D,{_persist:g}))}}function pT(t){return vq(t)||yq(t)||gq()}function gq(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function yq(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function vq(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function mT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mT(r,!0).forEach(function(n){wq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mT(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wq(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jj={registry:[],bootstrapped:!1},_q=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jj,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Cx:return Hv({},e,{registry:[].concat(pT(e.registry),[r.key])});case Kp:var n=e.registry.indexOf(r.key),s=pT(e.registry);return s.splice(n,1),Hv({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function xq(t,e,r){var n=cx(_q,jj,void 0),s=function(l){n.dispatch({type:Cx,key:l})},i=function(l,u,f){var h={type:Kp,payload:u,err:f,key:l};t.dispatch(h),n.dispatch(h)},o=Hv({},n,{purge:function(){var l=[];return t.dispatch({type:Tx,result:function(f){l.push(f)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:Ex,result:function(f){l.push(f)}}),Promise.all(l)},pause:function(){t.dispatch({type:bx})},persist:function(){t.dispatch({type:Sx,register:s,rehydrate:i})}});return o.persist(),o}var Ix={},Ax={};Ax.__esModule=!0;Ax.default=Sq;function kf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kf=function(r){return typeof r}:kf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kf(t)}function Og(){}var Eq={getItem:Og,setItem:Og,removeItem:Og};function bq(t){if((typeof self>"u"?"undefined":kf(self))!=="object"||!(t in self))return!1;try{var e=self[t],r="redux-persist ".concat(t," test");e.setItem(r,"test"),e.getItem(r),e.removeItem(r)}catch{return!1}return!0}function Sq(t){var e="".concat(t,"Storage");return bq(e)?self[e]:Eq}Ix.__esModule=!0;Ix.default=Iq;var Tq=Cq(Ax);function Cq(t){return t&&t.__esModule?t:{default:t}}function Iq(t){var e=(0,Tq.default)(t);return{getItem:function(n){return new Promise(function(s,i){s(e.getItem(n))})},setItem:function(n,s){return new Promise(function(i,o){i(e.setItem(n,s))})},removeItem:function(n){return new Promise(function(s,i){s(e.removeItem(n))})}}}var Oj=void 0,Aq=Pq(Ix);function Pq(t){return t&&t.__esModule?t:{default:t}}var Rq=(0,Aq.default)("local");Oj=Rq;const Nq={key:"root",storage:Oj,whitelist:["auth","students","subjects"],blacklist:["professors"]},kq=jN({auth:m7,students:R7,subjects:j7,professors:I7}),jq=mq(Nq,kq),Dj=K8({reducer:jq,middleware:t=>t({serializableCheck:{ignoredActions:[Ex,Kp,bx,Sx,Tx,Cx],ignoredPaths:["professors.items"]}}),devTools:!1}),Oq=xq(Dj),Dq=({children:t})=>d.jsx(s3,{store:Dj,children:d.jsx(kj,{loading:null,persistor:Oq,children:t})});var Qp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yp=typeof window>"u"||"Deno"in globalThis;function on(){}function Mq(t,e){return typeof t=="function"?t(e):t}function Lq(t){return typeof t=="number"&&t>=0&&t!==1/0}function Vq(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wv(t,e){return typeof t=="function"?t(e):t}function Fq(t,e){return typeof t=="function"?t(e):t}function gT(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==Px(o,e.options))return!1}else if(!gu(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function yT(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(mu(e.options.mutationKey)!==mu(i))return!1}else if(!gu(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Px(t,e){return((e==null?void 0:e.queryKeyHashFn)||mu)(t)}function mu(t){return JSON.stringify(t,(e,r)=>qv(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function gu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>gu(t[r],e[r])):!1}function Mj(t,e){if(t===e)return t;const r=vT(t)&&vT(e);if(r||qv(t)&&qv(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{},l=new Set(n);let u=0;for(let f=0;f<o;f++){const h=r?f:i[f];(!r&&l.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=Mj(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function vT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qv(t){if(!wT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!wT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wT(t){return Object.prototype.toString.call(t)==="[object Object]"}function Uq(t){return new Promise(e=>{setTimeout(e,t)})}function $q(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Mj(t,e):e}function zq(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Bq(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Rx=Symbol();function Lj(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Rx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var co,Js,Ma,ET,Hq=(ET=class extends Qp{constructor(){super();Re(this,co);Re(this,Js);Re(this,Ma);ge(this,Ma,e=>{if(!Yp&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,Js)||this.setEventListener($(this,Ma))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Js))==null||e.call(this),ge(this,Js,void 0))}setEventListener(e){var r;ge(this,Ma,e),(r=$(this,Js))==null||r.call(this),ge(this,Js,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){$(this,co)!==e&&(ge(this,co,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof $(this,co)=="boolean"?$(this,co):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},co=new WeakMap,Js=new WeakMap,Ma=new WeakMap,ET),Vj=new Hq,La,Zs,Va,bT,Wq=(bT=class extends Qp{constructor(){super();Re(this,La,!0);Re(this,Zs);Re(this,Va);ge(this,Va,e=>{if(!Yp&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Zs)||this.setEventListener($(this,Va))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Zs))==null||e.call(this),ge(this,Zs,void 0))}setEventListener(e){var r;ge(this,Va,e),(r=$(this,Zs))==null||r.call(this),ge(this,Zs,e(this.setOnline.bind(this)))}setOnline(e){$(this,La)!==e&&(ge(this,La,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return $(this,La)}},La=new WeakMap,Zs=new WeakMap,Va=new WeakMap,bT),Mh=new Wq;function qq(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function Gq(t){return Math.min(1e3*2**t,3e4)}function Fj(t){return(t??"online")==="online"?Mh.isOnline():!0}var Uj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function $j(t){let e=!1,r=0,n;const s=qq(),i=()=>s.status!=="pending",o=v=>{var b;i()||(p(new Uj(v)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>Vj.isFocused()&&(t.networkMode==="always"||Mh.isOnline())&&t.canRun(),f=()=>Fj(t.networkMode)&&t.canRun(),h=v=>{i()||(n==null||n(),s.resolve(v))},p=v=>{i()||(n==null||n(),s.reject(v))},g=()=>new Promise(v=>{var b;n=_=>{(i()||u())&&v(_)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;n=void 0,i()||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(i())return;let v;const b=r===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(h).catch(_=>{var D;if(i())return;const w=t.retry??(Yp?0:3),S=t.retryDelay??Gq,I=typeof S=="function"?S(r,_):S,N=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,_);if(e||!N){p(_);return}r++,(D=t.onFail)==null||D.call(t,r,_),Uq(I).then(()=>u()?void 0:g()).then(()=>{e?p(_):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?x():g().then(x),s)}}var Kq=t=>setTimeout(t,0);function Qq(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=Kq;const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var cr=Qq(),uo,ST,zj=(ST=class{constructor(){Re(this,uo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lq(this.gcTime)&&ge(this,uo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yp?1/0:5*60*1e3))}clearGcTimeout(){$(this,uo)&&(clearTimeout($(this,uo)),ge(this,uo,void 0))}},uo=new WeakMap,ST),Fa,Ua,$r,fo,Rt,yu,ho,an,es,TT,Yq=(TT=class extends zj{constructor(e){super();Re(this,an);Re(this,Fa);Re(this,Ua);Re(this,$r);Re(this,fo);Re(this,Rt);Re(this,yu);Re(this,ho);ge(this,ho,!1),ge(this,yu,e.defaultOptions),this.setOptions(e.options),this.observers=[],ge(this,fo,e.client),ge(this,$r,$(this,fo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ge(this,Fa,Jq(this.options)),this.state=e.state??$(this,Fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=$(this,Rt))==null?void 0:e.promise}setOptions(e){this.options={...$(this,yu),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,$r).remove(this)}setData(e,r){const n=$q(this.state.data,e,this.options);return Yt(this,an,es).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Yt(this,an,es).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=$(this,Rt))==null?void 0:n.promise;return(s=$(this,Rt))==null||s.cancel(e),r?r.then(on).catch(on):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Fa))}isActive(){return this.observers.some(e=>Fq(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Wv(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Vq(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=$(this,Rt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=$(this,Rt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),$(this,$r).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||($(this,Rt)&&($(this,ho)?$(this,Rt).cancel({revert:!0}):$(this,Rt).cancelRetry()),this.scheduleGc()),$(this,$r).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yt(this,an,es).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,f,h,p,g,x,v,b,_,w,S;if(this.state.fetchStatus!=="idle"&&((l=$(this,Rt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Rt))return $(this,Rt).continueRetry(),$(this,Rt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const I=this.observers.find(N=>N.options.queryFn);I&&this.setOptions(I.options)}const n=new AbortController,s=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(ge(this,ho,!0),n.signal)})},i=()=>{const I=Lj(this.options,r),D=(()=>{const C={client:$(this,fo),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return ge(this,ho,!1),this.options.persister?this.options.persister(I,D,this):I(D)},a=(()=>{const I={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,fo),state:this.state,fetchFn:i};return s(I),I})();(u=this.options.behavior)==null||u.onFetch(a,this),ge(this,Ua,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Yt(this,an,es).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),ge(this,Rt,$j({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onFail:(I,N)=>{Yt(this,an,es).call(this,{type:"failed",failureCount:I,error:N})},onPause:()=>{Yt(this,an,es).call(this,{type:"pause"})},onContinue:()=>{Yt(this,an,es).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const I=await $(this,Rt).start();if(I===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(I),(g=(p=$(this,$r).config).onSuccess)==null||g.call(p,I,this),(v=(x=$(this,$r).config).onSettled)==null||v.call(x,I,this.state.error,this),I}catch(I){if(I instanceof Uj){if(I.silent)return $(this,Rt).promise;if(I.revert){if(this.setState({...$(this,Ua),fetchStatus:"idle"}),this.state.data===void 0)throw I;return this.state.data}}throw Yt(this,an,es).call(this,{type:"error",error:I}),(_=(b=$(this,$r).config).onError)==null||_.call(b,I,this),(S=(w=$(this,$r).config).onSettled)==null||S.call(w,this.state.data,I,this),I}finally{this.scheduleGc()}}},Fa=new WeakMap,Ua=new WeakMap,$r=new WeakMap,fo=new WeakMap,Rt=new WeakMap,yu=new WeakMap,ho=new WeakMap,an=new WeakSet,es=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Xq(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ge(this,Ua,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),cr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,$r).notify({query:this,type:"updated",action:e})})},TT);function Xq(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fj(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Jq(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Cn,CT,Zq=(CT=class extends Qp{constructor(e={}){super();Re(this,Cn);this.config=e,ge(this,Cn,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??Px(s,r);let o=this.get(i);return o||(o=new Yq({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Cn).has(e.queryHash)||($(this,Cn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=$(this,Cn).get(e.queryHash);r&&(e.destroy(),r===e&&$(this,Cn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Cn).get(e)}getAll(){return[...$(this,Cn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>gT(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>gT(e,n)):r}notify(e){cr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Cn=new WeakMap,CT),In,ir,po,An,zs,IT,eG=(IT=class extends zj{constructor(e){super();Re(this,An);Re(this,In);Re(this,ir);Re(this,po);this.mutationId=e.mutationId,ge(this,ir,e.mutationCache),ge(this,In,[]),this.state=e.state||tG(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){$(this,In).includes(e)||($(this,In).push(e),this.clearGcTimeout(),$(this,ir).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ge(this,In,$(this,In).filter(r=>r!==e)),this.scheduleGc(),$(this,ir).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){$(this,In).length||(this.state.status==="pending"?this.scheduleGc():$(this,ir).remove(this))}continue(){var e;return((e=$(this,po))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,f,h,p,g,x,v,b,_,w,S,I,N,D,C,T;const r=()=>{Yt(this,An,zs).call(this,{type:"continue"})};ge(this,po,$j({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,A)=>{Yt(this,An,zs).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{Yt(this,An,zs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,ir).canRun(this)}));const n=this.state.status==="pending",s=!$(this,po).canStart();try{if(n)r();else{Yt(this,An,zs).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=$(this,ir).config).onMutate)==null?void 0:o.call(i,e,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));A!==this.state.context&&Yt(this,An,zs).call(this,{type:"pending",context:A,variables:e,isPaused:s})}const P=await $(this,po).start();return await((f=(u=$(this,ir).config).onSuccess)==null?void 0:f.call(u,P,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,P,e,this.state.context)),await((x=(g=$(this,ir).config).onSettled)==null?void 0:x.call(g,P,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,P,null,e,this.state.context)),Yt(this,An,zs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(_=$(this,ir).config).onError)==null?void 0:w.call(_,P,e,this.state.context,this)),await((I=(S=this.options).onError)==null?void 0:I.call(S,P,e,this.state.context)),await((D=(N=$(this,ir).config).onSettled)==null?void 0:D.call(N,void 0,P,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,P,e,this.state.context)),P}finally{Yt(this,An,zs).call(this,{type:"error",error:P})}}finally{$(this,ir).runNext(this)}}},In=new WeakMap,ir=new WeakMap,po=new WeakMap,An=new WeakSet,zs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cr.batch(()=>{$(this,In).forEach(n=>{n.onMutationUpdate(e)}),$(this,ir).notify({mutation:this,type:"updated",action:e})})},IT);function tG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,ln,vu,AT,rG=(AT=class extends Qp{constructor(e={}){super();Re(this,ns);Re(this,ln);Re(this,vu);this.config=e,ge(this,ns,new Set),ge(this,ln,new Map),ge(this,vu,0)}build(e,r,n){const s=new eG({mutationCache:this,mutationId:++ud(this,vu)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){$(this,ns).add(e);const r=Wd(e);if(typeof r=="string"){const n=$(this,ln).get(r);n?n.push(e):$(this,ln).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,ns).delete(e)){const r=Wd(e);if(typeof r=="string"){const n=$(this,ln).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&$(this,ln).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Wd(e);if(typeof r=="string"){const n=$(this,ln).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Wd(e);if(typeof r=="string"){const s=(n=$(this,ln).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cr.batch(()=>{$(this,ns).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,ns).clear(),$(this,ln).clear()})}getAll(){return Array.from($(this,ns))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>yT(r,n))}findAll(e={}){return this.getAll().filter(r=>yT(e,r))}notify(e){cr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return cr.batch(()=>Promise.all(e.map(r=>r.continue().catch(on))))}},ns=new WeakMap,ln=new WeakMap,vu=new WeakMap,AT);function Wd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function _T(t){return{onFetch:(e,r)=>{var f,h,p,g,x;const n=e.options,s=(p=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let v=!1;const b=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=Lj(e.options,e.fetchOptions),w=async(S,I,N)=>{if(v)return Promise.reject();if(I==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:I,direction:N?"backward":"forward",meta:e.options.meta};return b(k),k})(),T=await _(C),{maxPages:P}=e.options,A=N?Bq:zq;return{pages:A(S.pages,T,P),pageParams:A(S.pageParams,I,P)}};if(s&&i.length){const S=s==="backward",I=S?nG:xT,N={pages:i,pageParams:o},D=I(n,N);a=await w(N,D,S)}else{const S=t??i.length;do{const I=l===0?o[0]??n.initialPageParam:xT(n,a);if(l>0&&I==null)break;a=await w(a,I),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function xT(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function nG(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var dt,ei,ti,$a,za,ri,Ba,Ha,PT,sG=(PT=class{constructor(t={}){Re(this,dt);Re(this,ei);Re(this,ti);Re(this,$a);Re(this,za);Re(this,ri);Re(this,Ba);Re(this,Ha);ge(this,dt,t.queryCache||new Zq),ge(this,ei,t.mutationCache||new rG),ge(this,ti,t.defaultOptions||{}),ge(this,$a,new Map),ge(this,za,new Map),ge(this,ri,0)}mount(){ud(this,ri)._++,$(this,ri)===1&&(ge(this,Ba,Vj.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,dt).onFocus())})),ge(this,Ha,Mh.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,dt).onOnline())})))}unmount(){var t,e;ud(this,ri)._--,$(this,ri)===0&&((t=$(this,Ba))==null||t.call(this),ge(this,Ba,void 0),(e=$(this,Ha))==null||e.call(this),ge(this,Ha,void 0))}isFetching(t){return $(this,dt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ei).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=$(this,dt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=$(this,dt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Wv(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return $(this,dt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=$(this,dt).get(n.queryHash),i=s==null?void 0:s.state.data,o=Mq(e,i);if(o!==void 0)return $(this,dt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return cr.batch(()=>$(this,dt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=$(this,dt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=$(this,dt);cr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=$(this,dt);return cr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=cr.batch(()=>$(this,dt).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(on).catch(on)}invalidateQueries(t,e={}){return cr.batch(()=>($(this,dt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=cr.batch(()=>$(this,dt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(on)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(on)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=$(this,dt).build(this,e);return r.isStaleByTime(Wv(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(on).catch(on)}fetchInfiniteQuery(t){return t.behavior=_T(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(on).catch(on)}ensureInfiniteQueryData(t){return t.behavior=_T(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Mh.isOnline()?$(this,ei).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,dt)}getMutationCache(){return $(this,ei)}getDefaultOptions(){return $(this,ti)}setDefaultOptions(t){ge(this,ti,t)}setQueryDefaults(t,e){$(this,$a).set(mu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,$a).values()],r={};return e.forEach(n=>{gu(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){$(this,za).set(mu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,za).values()],r={};return e.forEach(n=>{gu(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,ti).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Px(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Rx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,ti).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,dt).clear(),$(this,ei).clear()}},dt=new WeakMap,ei=new WeakMap,ti=new WeakMap,$a=new WeakMap,za=new WeakMap,ri=new WeakMap,Ba=new WeakMap,Ha=new WeakMap,PT),iG=y.createContext(void 0),oG=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(iG.Provider,{value:t,children:e}));const aG=new sG,lG=()=>d.jsx(oG,{client:aG,children:d.jsx(DA,{children:d.jsxs(Dq,{children:[d.jsx(QW,{}),d.jsx(IW,{}),d.jsx(QH,{})]})})});HC(document.getElementById("root")).render(d.jsx(lG,{}));
